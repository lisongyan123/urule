!function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={11:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([483,0]),n()}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var i=n(3),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(153).Buffer}catch(e){}function s(e,t,n){for(var i=0,r=Math.min(e.length,n),o=t;o<r;o++){var a=e.charCodeAt(o)-48;i<<=4,i|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return i}function l(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,r,o=0;for(n=e.length-6,i=0;n>=t;n-=6)r=s(e,n,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303,(o+=24)>=26&&(o-=26,i++);n+6!==t&&(r=s(e,t,n+6),this.words[i]|=r<<o&67108863,this.words[i+1]|=r>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,u=n;u<s;u+=i)c=l(e,u,u+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=l(e,u,e.length,t),u=0;u<a;u++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var c=1;c<i;c++){for(var u=l>>>26,f=67108863&l,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;u+=(a=(r=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[c]=0|f,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?c[6-l.length]+l+n:l+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?g+n:c[d-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,c=new e(o),u=this.clone();if(l){for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-r;s++)c[s]=0;for(s=0;!u.isZero();s++)a=u.andln(255),u.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var i,r,o,a=e.words,s=t.words,l=n.words,c=0,u=0|a[0],f=8191&u,d=u>>>13,h=0|a[1],p=8191&h,g=h>>>13,y=0|a[2],m=8191&y,b=y>>>13,v=0|a[3],A=8191&v,w=v>>>13,M=0|a[4],I=8191&M,x=M>>>13,C=0|a[5],T=8191&C,N=C>>>13,D=0|a[6],E=8191&D,k=D>>>13,_=0|a[7],S=8191&_,j=_>>>13,L=0|a[8],O=8191&L,z=L>>>13,B=0|a[9],R=8191&B,P=B>>>13,U=0|s[0],Q=8191&U,Y=U>>>13,F=0|s[1],H=8191&F,G=F>>>13,W=0|s[2],V=8191&W,Z=W>>>13,J=0|s[3],X=8191&J,$=J>>>13,K=0|s[4],q=8191&K,ee=K>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],le=8191&se,ce=se>>>13,ue=0|s[8],fe=8191&ue,de=ue>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(c+(i=Math.imul(f,Q))|0)+((8191&(r=(r=Math.imul(f,Y))+Math.imul(d,Q)|0))<<13)|0;c=((o=Math.imul(d,Y))+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(p,Q),r=(r=Math.imul(p,Y))+Math.imul(g,Q)|0,o=Math.imul(g,Y);var me=(c+(i=i+Math.imul(f,H)|0)|0)+((8191&(r=(r=r+Math.imul(f,G)|0)+Math.imul(d,H)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(r>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,Q),r=(r=Math.imul(m,Y))+Math.imul(b,Q)|0,o=Math.imul(b,Y),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,G)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,G)|0;var be=(c+(i=i+Math.imul(f,V)|0)|0)+((8191&(r=(r=r+Math.imul(f,Z)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,Z)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(A,Q),r=(r=Math.imul(A,Y))+Math.imul(w,Q)|0,o=Math.imul(w,Y),i=i+Math.imul(m,H)|0,r=(r=r+Math.imul(m,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(p,V)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,Z)|0;var ve=(c+(i=i+Math.imul(f,X)|0)|0)+((8191&(r=(r=r+Math.imul(f,$)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(I,Q),r=(r=Math.imul(I,Y))+Math.imul(x,Q)|0,o=Math.imul(x,Y),i=i+Math.imul(A,H)|0,r=(r=r+Math.imul(A,G)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,G)|0,i=i+Math.imul(m,V)|0,r=(r=r+Math.imul(m,Z)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,Z)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(g,X)|0,o=o+Math.imul(g,$)|0;var Ae=(c+(i=i+Math.imul(f,q)|0)|0)+((8191&(r=(r=r+Math.imul(f,ee)|0)+Math.imul(d,q)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(T,Q),r=(r=Math.imul(T,Y))+Math.imul(N,Q)|0,o=Math.imul(N,Y),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(A,V)|0,r=(r=r+Math.imul(A,Z)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Z)|0,i=i+Math.imul(m,X)|0,r=(r=r+Math.imul(m,$)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,$)|0,i=i+Math.imul(p,q)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(g,q)|0,o=o+Math.imul(g,ee)|0;var we=(c+(i=i+Math.imul(f,ne)|0)|0)+((8191&(r=(r=r+Math.imul(f,ie)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,ie)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(E,Q),r=(r=Math.imul(E,Y))+Math.imul(k,Q)|0,o=Math.imul(k,Y),i=i+Math.imul(T,H)|0,r=(r=r+Math.imul(T,G)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,G)|0,i=i+Math.imul(I,V)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Z)|0,i=i+Math.imul(A,X)|0,r=(r=r+Math.imul(A,$)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,i=i+Math.imul(m,q)|0,r=(r=r+Math.imul(m,ee)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,ie)|0;var Me=(c+(i=i+Math.imul(f,oe)|0)|0)+((8191&(r=(r=r+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(S,Q),r=(r=Math.imul(S,Y))+Math.imul(j,Q)|0,o=Math.imul(j,Y),i=i+Math.imul(E,H)|0,r=(r=r+Math.imul(E,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(T,V)|0,r=(r=r+Math.imul(T,Z)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,Z)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(A,q)|0,r=(r=r+Math.imul(A,ee)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,ee)|0,i=i+Math.imul(m,ne)|0,r=(r=r+Math.imul(m,ie)|0)+Math.imul(b,ne)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0;var Ie=(c+(i=i+Math.imul(f,le)|0)|0)+((8191&(r=(r=r+Math.imul(f,ce)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(O,Q),r=(r=Math.imul(O,Y))+Math.imul(z,Q)|0,o=Math.imul(z,Y),i=i+Math.imul(S,H)|0,r=(r=r+Math.imul(S,G)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,G)|0,i=i+Math.imul(E,V)|0,r=(r=r+Math.imul(E,Z)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,Z)|0,i=i+Math.imul(T,X)|0,r=(r=r+Math.imul(T,$)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,$)|0,i=i+Math.imul(I,q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(A,ne)|0,r=(r=r+Math.imul(A,ie)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,ie)|0,i=i+Math.imul(m,oe)|0,r=(r=r+Math.imul(m,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,i=i+Math.imul(p,le)|0,r=(r=r+Math.imul(p,ce)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,ce)|0;var xe=(c+(i=i+Math.imul(f,fe)|0)|0)+((8191&(r=(r=r+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,Q),r=(r=Math.imul(R,Y))+Math.imul(P,Q)|0,o=Math.imul(P,Y),i=i+Math.imul(O,H)|0,r=(r=r+Math.imul(O,G)|0)+Math.imul(z,H)|0,o=o+Math.imul(z,G)|0,i=i+Math.imul(S,V)|0,r=(r=r+Math.imul(S,Z)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,Z)|0,i=i+Math.imul(E,X)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,$)|0,i=i+Math.imul(T,q)|0,r=(r=r+Math.imul(T,ee)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(A,oe)|0,r=(r=r+Math.imul(A,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,i=i+Math.imul(m,le)|0,r=(r=r+Math.imul(m,ce)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,ce)|0,i=i+Math.imul(p,fe)|0,r=(r=r+Math.imul(p,de)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,de)|0;var Ce=(c+(i=i+Math.imul(f,pe)|0)|0)+((8191&(r=(r=r+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ge)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(R,H),r=(r=Math.imul(R,G))+Math.imul(P,H)|0,o=Math.imul(P,G),i=i+Math.imul(O,V)|0,r=(r=r+Math.imul(O,Z)|0)+Math.imul(z,V)|0,o=o+Math.imul(z,Z)|0,i=i+Math.imul(S,X)|0,r=(r=r+Math.imul(S,$)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,$)|0,i=i+Math.imul(E,q)|0,r=(r=r+Math.imul(E,ee)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(T,ne)|0,r=(r=r+Math.imul(T,ie)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,ie)|0,i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,i=i+Math.imul(A,le)|0,r=(r=r+Math.imul(A,ce)|0)+Math.imul(w,le)|0,o=o+Math.imul(w,ce)|0,i=i+Math.imul(m,fe)|0,r=(r=r+Math.imul(m,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var Te=(c+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ge)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(R,V),r=(r=Math.imul(R,Z))+Math.imul(P,V)|0,o=Math.imul(P,Z),i=i+Math.imul(O,X)|0,r=(r=r+Math.imul(O,$)|0)+Math.imul(z,X)|0,o=o+Math.imul(z,$)|0,i=i+Math.imul(S,q)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(j,q)|0,o=o+Math.imul(j,ee)|0,i=i+Math.imul(E,ne)|0,r=(r=r+Math.imul(E,ie)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(T,oe)|0,r=(r=r+Math.imul(T,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,i=i+Math.imul(I,le)|0,r=(r=r+Math.imul(I,ce)|0)+Math.imul(x,le)|0,o=o+Math.imul(x,ce)|0,i=i+Math.imul(A,fe)|0,r=(r=r+Math.imul(A,de)|0)+Math.imul(w,fe)|0,o=o+Math.imul(w,de)|0;var Ne=(c+(i=i+Math.imul(m,pe)|0)|0)+((8191&(r=(r=r+Math.imul(m,ge)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,ge)|0)+(r>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(R,X),r=(r=Math.imul(R,$))+Math.imul(P,X)|0,o=Math.imul(P,$),i=i+Math.imul(O,q)|0,r=(r=r+Math.imul(O,ee)|0)+Math.imul(z,q)|0,o=o+Math.imul(z,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,ie)|0,i=i+Math.imul(E,oe)|0,r=(r=r+Math.imul(E,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,i=i+Math.imul(T,le)|0,r=(r=r+Math.imul(T,ce)|0)+Math.imul(N,le)|0,o=o+Math.imul(N,ce)|0,i=i+Math.imul(I,fe)|0,r=(r=r+Math.imul(I,de)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,de)|0;var De=(c+(i=i+Math.imul(A,pe)|0)|0)+((8191&(r=(r=r+Math.imul(A,ge)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ge)|0)+(r>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,ee))+Math.imul(P,q)|0,o=Math.imul(P,ee),i=i+Math.imul(O,ne)|0,r=(r=r+Math.imul(O,ie)|0)+Math.imul(z,ne)|0,o=o+Math.imul(z,ie)|0,i=i+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,i=i+Math.imul(E,le)|0,r=(r=r+Math.imul(E,ce)|0)+Math.imul(k,le)|0,o=o+Math.imul(k,ce)|0,i=i+Math.imul(T,fe)|0,r=(r=r+Math.imul(T,de)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,de)|0;var Ee=(c+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,ge)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,ge)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,ne),r=(r=Math.imul(R,ie))+Math.imul(P,ne)|0,o=Math.imul(P,ie),i=i+Math.imul(O,oe)|0,r=(r=r+Math.imul(O,ae)|0)+Math.imul(z,oe)|0,o=o+Math.imul(z,ae)|0,i=i+Math.imul(S,le)|0,r=(r=r+Math.imul(S,ce)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,ce)|0,i=i+Math.imul(E,fe)|0,r=(r=r+Math.imul(E,de)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,de)|0;var ke=(c+(i=i+Math.imul(T,pe)|0)|0)+((8191&(r=(r=r+Math.imul(T,ge)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ge)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(R,oe),r=(r=Math.imul(R,ae))+Math.imul(P,oe)|0,o=Math.imul(P,ae),i=i+Math.imul(O,le)|0,r=(r=r+Math.imul(O,ce)|0)+Math.imul(z,le)|0,o=o+Math.imul(z,ce)|0,i=i+Math.imul(S,fe)|0,r=(r=r+Math.imul(S,de)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,de)|0;var _e=(c+(i=i+Math.imul(E,pe)|0)|0)+((8191&(r=(r=r+Math.imul(E,ge)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,ge)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(R,le),r=(r=Math.imul(R,ce))+Math.imul(P,le)|0,o=Math.imul(P,ce),i=i+Math.imul(O,fe)|0,r=(r=r+Math.imul(O,de)|0)+Math.imul(z,fe)|0,o=o+Math.imul(z,de)|0;var Se=(c+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,ge)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ge)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(R,fe),r=(r=Math.imul(R,de))+Math.imul(P,fe)|0,o=Math.imul(P,de);var je=(c+(i=i+Math.imul(O,pe)|0)|0)+((8191&(r=(r=r+Math.imul(O,ge)|0)+Math.imul(z,pe)|0))<<13)|0;c=((o=o+Math.imul(z,ge)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863;var Le=(c+(i=Math.imul(R,pe))|0)+((8191&(r=(r=Math.imul(R,ge))+Math.imul(P,pe)|0))<<13)|0;return c=((o=Math.imul(P,ge))+(r>>>13)|0)+(Le>>>26)|0,Le&=67108863,l[0]=ye,l[1]=me,l[2]=be,l[3]=ve,l[4]=Ae,l[5]=we,l[6]=Me,l[7]=Ie,l[8]=xe,l[9]=Ce,l[10]=Te,l[11]=Ne,l[12]=De,l[13]=Ee,l[14]=ke,l[15]=_e,l[16]=Se,l[17]=je,l[18]=Le,0!==c&&(l[19]=c,n.length++),n};function p(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,l=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=l;c++){var u=o-c,f=(0|e.words[u])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),r+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):p(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var f=l,d=c,h=0;h<a;h++){var p=n[u+h],g=i[u+h],y=n[u+h+a],m=i[u+h+a],b=f*y-d*m;m=f*m+d*y,y=b,n[u+h]=p+y,i[u+h]=g+m,n[u+h+a]=p-y,i[u+h+a]=g-m,h!==s&&(b=l*f-c*d,d=l*d+c*f,f=b)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),f=new Array(i),d=n.words;d.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,f,i,r);for(var h=0;h<i;h++){var p=s[h]*u[h]-l[h]*f[h];l[h]=s[h]*f[h]+l[h]*u[h],s[h]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(r-=a,r=Math.max(0,r),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=r);c--){var f=0|this.words[c];this.words[c]=u<<26-o|f>>>o,u=f&s}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var l=(0|e.words[r])*t;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,l=i.length-r.length;if("mod"!==t){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var u=i.clone()._ishlnsubmul(r,1,l);0===u.negative&&(i=u,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var d=67108864*(0|i.words[r.length+f])+(0|i.words[r.length+f-1]);for(d=Math.min(d/a|0,67108863),i._ishlnsubmul(r,d,f);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,f),i.isZero()||(i.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),l=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var u=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(u),a.isub(f)),r.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(u),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(l)):(n.isub(t),s.isub(r),l.isub(a))}return{a:s,b:l,gcd:n.iushln(c)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new M(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},r(b,m),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(v,m),r(A,m),r(w,m),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return y[e]=t,t},M.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var f=this.pow(u,r),d=this.pow(e,r.addn(1).iushrn(1)),h=this.pow(e,r),p=a;0!==h.cmp(s);){for(var g=h,y=0;0!==g.cmp(s);y++)g=g.redSqr();i(y<p);var m=this.pow(f,new o(1).iushln(p-y-1));d=d.redMul(m),f=m.redSqr(),h=h.redMul(f),p=y}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),i=t.length-1;i>=0;i--){for(var c=t.words[i],u=l-1;u>=0;u--){var f=c>>u&1;r!==n[0]&&(r=this.sqr(r)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===i&&0===u)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}l=26}return r},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},r(I,M),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(152)(e))},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(113),r=n(114),o=n(52);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return Q(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function A(e,t,n,i){return F(Q(t,e.length-n),e,n,i)}function w(e,t,n,i){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function M(e,t,n,i){return w(e,t,n,i)}function I(e,t,n,i){return F(Y(t),e,n,i)}function x(e,t,n,i){return F(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,c=e[r],u=null,f=c>239?4:c>223?3:c>191?2:1;if(r+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=f}return function(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=N));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(i,r),u=e.slice(t,n),f=0;f<s;++f)if(c[f]!==u[f]){o=c[f],a=u[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return M(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function D(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function E(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function k(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=U(e[o]);return r}function _(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function L(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function O(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function z(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,i,o){return o||z(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function R(e,t,n,i,o){return o||z(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:Q(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(8))},function(e,t,n){"use strict";function i(){return window.__u_id_++,"_u_r_id__"+window.__u_id_}function r(e){if(e&&401===e.status)bootbox.alert("权限不足，不能进行此操作.");else if(e&&e.responseText){var t=e.responseText,n=JSON.parse(t);bootbox.dialog({title:"服务端错误",message:"<span style='color: red'>"+n.errorMsg+"</span>",buttons:[{label:"查看错误堆栈",callback:function(){var e=window.open("error-stack.html","_blank");$(e).load(function(){var e=$(this.document.body);e.css({"font-size":"13px"}),e.empty(),e.append(n.stack)})}}]})}else bootbox.alert("<span style='color: red'>服务端出错</span>")}Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=i,t.pathId=function(e){if(_fullpath_map.has(e))return _fullpath_map.get(e);var t=i();return _fullpath_map.set(e,t),t},t.copyCellData=function(e,t){$.ajax({url:window._server+"/common/parseCellData",type:"POST",data:{type:e,xml:t}})},t.pasteCellData=function(e,t){$.ajax({url:window._server+"/common/loadCellData",type:"POST",data:{type:e},success:function(e){e?t(e):bootbox.alert("当前没有数据可供粘贴！")},error:function(e){r(e)}})},t.handleError=r,t.nextIFrameId=function(){return window.iframe_id_++,"_iframe"+window.iframe_id_},t.getParameter=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null},t.ajaxSave=function(e,t,n){$.ajax({type:"POST",url:e,data:t,success:function(e){n(e)},error:function(e){r(e)}})},t.formatDate=function(e,t){"number"==typeof e&&(e=new Date(e));if("string"==typeof e)return e;var n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},t.escapeXml=function(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},window.iframe_id_=1,window.__u_id_=0,window._fullpath_map=new Map},,function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var i=t,r=n(2),o=n(6),a=n(74);i.assert=o,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(e,t){for(var n=[],i=1<<t+1,r=e.clone();r.cmpn(1)>=0;){var o;if(r.isOdd()){var a=r.andln(i-1);o=a>(i>>1)-1?(i>>1)-a:a,r.isubn(o)}else o=0;n.push(o);for(var s=0!==r.cmpn(0)&&0===r.andln(i-1)?t+1:1,l=1;l<s;l++)n.push(0);r.iushrn(s)}return n},i.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var i=0,r=0;e.cmpn(-i)>0||t.cmpn(-r)>0;){var o,a,s,l=e.andln(3)+i&3,c=t.andln(3)+r&3;if(3===l&&(l=-1),3===c&&(c=-1),0==(1&l))o=0;else o=3!==(s=e.andln(7)+i&7)&&5!==s||2!==c?l:-l;if(n[0].push(o),0==(1&c))a=0;else a=3!==(s=t.andln(7)+r&7)&&5!==s||2!==l?c:-c;n[1].push(a),2*i===o+1&&(i=1-i),2*r===a+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return n},i.cachedProperty=function(e,t,n){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(e){return"string"==typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new r(e,"hex","le")}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(6),r=n(0);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var i=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?n[i++]=a:a<2048?(n[i++]=a>>6|192,n[i++]=63&a|128):o(e,r)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),n[i++]=a>>18|240,n[i++]=a>>12&63|128,n[i++]=a>>6&63|128,n[i++]=63&a|128):(n[i++]=a>>12|224,n[i++]=a>>6&63|128,n[i++]=63&a|128)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=a(r)),n+=l(r.toString(16))}return n},t.zero2=s,t.zero8=l,t.join32=function(e,t,n,r){var o=n-t;i(o%4==0);for(var a=new Array(o/4),s=0,l=t;s<a.length;s++,l+=4){var c;c="big"===r?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],a[s]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},t.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},t.sum64=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0,a=(o<i?1:0)+n+r;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,i){return t+i>>>0},t.sum64_4_hi=function(e,t,n,i,r,o,a,s){var l=0,c=t;return l+=(c=c+i>>>0)<t?1:0,l+=(c=c+o>>>0)<o?1:0,e+n+r+a+(l+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,i,r,o,a,s){return t+i+o+s>>>0},t.sum64_5_hi=function(e,t,n,i,r,o,a,s,l,c){var u=0,f=t;return u+=(f=f+i>>>0)<t?1:0,u+=(f=f+o>>>0)<o?1:0,u+=(f=f+s>>>0)<s?1:0,e+n+r+a+l+(u+=(f=f+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,i,r,o,a,s,l,c){return t+i+o+s+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},,function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var i=n(1).Buffer,r=n(34).Transform,o=n(37).StringDecoder;function a(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(0)(a,r),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=a},function(e,t,n){"use strict";var i=n(27),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(21);o.inherits=n(0);var a=n(54),s=n(36);o.inherits(f,a);for(var l=r(s.prototype),c=0;c<l.length;c++){var u=l[c];f.prototype[u]||(f.prototype[u]=s.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=t.HIDE_CONTENT_REFACTOR_DIALOG=t.OPEN_CONTENT_REFACTOR_DIALOG=t.HIDE_CATEGORY_REFACTOR_DIALOG=t.OPEN_CATEGORY_REFACTOR_DIALOG=t.HIDE_VERSION_SELECT_DIALOG=t.OPEN_VERSION_SELECT_DIALOG=t.HIDE_KNOWLEDGE_TREE_DIALOG=t.OPEN_KNOWLEDGE_TREE_DIALOG=t.TREE_DIR_NODE_CLICK=t.TREE_NODE_DBLCLICK=t.TREE_NODE_PATH_CHANGE=t.TREE_NODE_CLICK=t.HIDE_LOADING=t.SHOW_LOADING=void 0;var i,r=n(19),o=(i=r)&&i.__esModule?i:{default:i};t.SHOW_LOADING="show_loading",t.HIDE_LOADING="hide_loading",t.TREE_NODE_CLICK="tree_node_click",t.TREE_NODE_PATH_CHANGE="tree_node_path_change",t.TREE_NODE_DBLCLICK="tree_node_dblclick",t.TREE_DIR_NODE_CLICK="tree_dir_node_click",t.OPEN_KNOWLEDGE_TREE_DIALOG="open_knowledge_tree_dialog",t.HIDE_KNOWLEDGE_TREE_DIALOG="hide_knowledge_tree_dialog",t.OPEN_VERSION_SELECT_DIALOG="open_version_select_dialog",t.HIDE_VERSION_SELECT_DIALOG="hide_version_select_dialog",t.OPEN_CATEGORY_REFACTOR_DIALOG="open_category_refactor_dialog",t.HIDE_CATEGORY_REFACTOR_DIALOG="hide_category_refactor_dialog",t.OPEN_CONTENT_REFACTOR_DIALOG="open_content_refactor_dialog",t.HIDE_CONTENT_REFACTOR_DIALOG="hide_content_refactor_dialog",t.eventEmitter=new o.default.EventEmitter},function(e,t,n){"use strict";(function(t,i){var r=65536,o=4294967295;var a=n(1).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(e);if(e>0)if(e>r)for(var l=0;l<e;l+=r)s.getRandomValues(n.slice(l,l+r));else s.getRandomValues(n);if("function"==typeof t)return i.nextTick(function(){t(null,n)});return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(8),n(11))},function(e,t,n){var i=n(1).Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var l=a%r,c=Math.min(o-s,r-l),u=0;u<c;u++)n[l+u]=e[s+u];s+=c,(a+=c)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},r=i(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),o=i(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,l=[];function c(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=n[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(p(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(p(r.parts[a],t));n[r.id]={id:r.id,refs:1,parts:s}}}}function u(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[o]?n[o].parts.push(a):t.push(n[o]={id:o,parts:[a]})}return t}function f(e,t){var n=o(),i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function d(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",f(e,t),t}function p(e,t){var n,i,r;if(t.singleton){var o=s++;n=a||(a=h(t)),i=m.bind(null,n,o,!1),r=m.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",f(e,t),t}(t),i=v.bind(null,n),r=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),i=b.bind(null,n),r=function(){d(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=r()),void 0===t.insertAt&&(t.insertAt="bottom");var i=u(e);return c(i,t),function(e){for(var r=[],o=0;o<i.length;o++){var a=i[o];(s=n[a.id]).refs--,r.push(s)}e&&c(u(e),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var g,y=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function m(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function b(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function v(e,t){var n=t.css,i=t.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function h(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";var i=n(0),r=n(33),o=n(38),a=n(39),s=n(12);function l(e){s.call(this,"digest"),this._hash=e}i(l,s),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new o:new l(a(e))}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(3).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var i=Math.min(e.length,n.length),r=new t(i),o=0;o<i;++o)r[o]=e[o]^n[o];return r}}).call(this,n(3).Buffer)},function(e,t,n){"use strict";var i=n(9),r=n(6);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},function(e,t,n){var i=t;i.bignum=n(2),i.define=n(178).define,i.base=n(25),i.constants=n(80),i.decoders=n(183),i.encoders=n(185)},function(e,t,n){var i=t;i.Reporter=n(180).Reporter,i.DecoderBuffer=n(79).DecoderBuffer,i.EncoderBuffer=n(79).EncoderBuffer,i.Node=n(181)},,function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(11))},function(e,t,n){var i=n(1).Buffer;function r(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,i,r){for(var o,a,s,l,c=n[0],u=n[1],f=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],y=e[3]^t[3],m=4,b=1;b<r;b++)o=c[h>>>24]^u[p>>>16&255]^f[g>>>8&255]^d[255&y]^t[m++],a=c[p>>>24]^u[g>>>16&255]^f[y>>>8&255]^d[255&h]^t[m++],s=c[g>>>24]^u[y>>>16&255]^f[h>>>8&255]^d[255&p]^t[m++],l=c[y>>>24]^u[h>>>16&255]^f[p>>>8&255]^d[255&g]^t[m++],h=o,p=a,g=s,y=l;return o=(i[h>>>24]<<24|i[p>>>16&255]<<16|i[g>>>8&255]<<8|i[255&y])^t[m++],a=(i[p>>>24]<<24|i[g>>>16&255]<<16|i[y>>>8&255]<<8|i[255&h])^t[m++],s=(i[g>>>24]<<24|i[y>>>16&255]<<16|i[h>>>8&255]<<8|i[255&p])^t[m++],l=(i[y>>>24]<<24|i[h>>>16&255]<<16|i[p>>>8&255]<<8|i[255&g])^t[m++],[o>>>=0,a>>>=0,s>>>=0,l>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,l=0;l<256;++l){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,i[c]=a;var u=e[a],f=e[u],d=e[f],h=257*e[c]^16843008*c;r[0][a]=h<<24|h>>>8,r[1][a]=h<<16|h>>>16,r[2][a]=h<<8|h>>>24,r[3][a]=h,h=16843009*d^65537*f^257*u^16843008*a,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===a?a=s=1:(a=u^e[e[e[d^u]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function c(e){this._key=r(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,i=4*(n+1),r=[],o=0;o<t;o++)r[o]=e[o];for(o=t;o<i;o++){var a=r[o-1];o%t==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),r[o]=r[o-t]^a}for(var c=[],u=0;u<i;u++){var f=i-u,d=r[f-(u%4?0:4)];c[u]=u<4||f<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=r(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=i.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},function(e,t,n){var i=n(1).Buffer,r=n(33);e.exports=function(e,t,n,o){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),l=i.alloc(o||0),c=i.alloc(0);a>0||o>0;){var u=new r;u.update(c),u.update(e),t&&u.update(t),c=u.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,c.length),c.copy(s,d,0,f),a-=f}if(f<c.length&&o>0){var h=l.length-o,p=Math.min(o,c.length-f);c.copy(l,h,f,f+p),o-=p}}return c.fill(0),{key:s,iv:l}}},function(e,t,n){"use strict";var i=n(2),r=n(7),o=r.getNAF,a=r.getJSF,s=r.assert;function l(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),i=o(t,1),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;for(var a=[],l=0;l<i.length;l+=n.step){var c=0;for(t=l+n.step-1;t>=l;t--)c=(c<<1)+i[t];a.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=r;d>0;d--){for(l=0;l<a.length;l++){(c=a[l])===d?f=f.mixedAdd(n.points[l]):c===-d&&(f=f.mixedAdd(n.points[l].neg()))}u=u.add(f)}return u.toP()},l.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var r=i.points,a=o(t,n),l=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(t=0;c>=0&&0===a[c];c--)t++;if(c>=0&&t++,l=l.dblp(t),c<0)break;var u=a[c];s(0!==u),l="affine"===e.type?u>0?l.mixedAdd(r[u-1>>1]):l.mixedAdd(r[-u-1>>1].neg()):u>0?l.add(r[u-1>>1]):l.add(r[-u-1>>1].neg())}return"affine"===e.type?l.toP():l},l.prototype._wnafMulAdd=function(e,t,n,i,r){for(var s=this._wnafT1,l=this._wnafT2,c=this._wnafT3,u=0,f=0;f<i;f++){var d=(C=t[f])._getNAFPoints(e);s[f]=d.wnd,l[f]=d.points}for(f=i-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var g=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(g[1]=t[h].add(t[p]),g[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(g[1]=t[h].toJ().mixedAdd(t[p]),g[2]=t[h].add(t[p].neg())):(g[1]=t[h].toJ().mixedAdd(t[p]),g[2]=t[h].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=a(n[h],n[p]);u=Math.max(m[0].length,u),c[h]=new Array(u),c[p]=new Array(u);for(var b=0;b<u;b++){var v=0|m[0][b],A=0|m[1][b];c[h][b]=y[3*(v+1)+(A+1)],c[p][b]=0,l[h]=g}}else c[h]=o(n[h],s[h]),c[p]=o(n[p],s[p]),u=Math.max(c[h].length,u),u=Math.max(c[p].length,u)}var w=this.jpoint(null,null,null),M=this._wnafT4;for(f=u;f>=0;f--){for(var I=0;f>=0;){var x=!0;for(b=0;b<i;b++)M[b]=0|c[b][f],0!==M[b]&&(x=!1);if(!x)break;I++,f--}if(f>=0&&I++,w=w.dblp(I),f<0)break;for(b=0;b<i;b++){var C,T=M[b];0!==T&&(T>0?C=l[b][T-1>>1]:T<0&&(C=l[b][-T-1>>1].neg()),w="affine"===C.type?w.mixedAdd(C):w.add(C))}}for(f=0;f<i;f++)l[f]=null;return r?w:w.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(e,t){e=r.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return r.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<t;r+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)t[r]=t[r-1].add(i);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var i=n(177),r=n(188),o=n(189),a=n(41),s=n(63),l=n(1).Buffer;function c(e){var t;"object"!=typeof e||l.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=l.from(e));var n,c,u=o(e,t),f=u.tag,d=u.data;switch(f){case"CERTIFICATE":c=i.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=i.PublicKey.decode(d,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=i.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":d=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(t,n,i,f,"sha1"),h=a.createDecipheriv(o,d,c),p=[];return p.push(h.update(u)),p.push(h.final()),l.concat(p)}(d=i.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(n=(c=i.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:i.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=i.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=i.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=c,c.signature=i.signature},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueID=function(){return"_ui_"+s++},t.refactorContent=function(e,t,n){var i=window._server+"/common/refactorContent";$.ajax({url:i,type:"POST",data:e,success:function(){t.call(this)},error:function(e){n&&n(),(0,a.handleError)(e)}})},t.loadFileVersions=function(e,t){var n=window._server+"/frame/loadFileVersions";$.ajax({url:n,data:{file:e},type:"POST",success:function(e){l(e),t(e)},error:function(){alert("加载文件["+e+"]的版本信息失败.")}})},t.loadResourceTreeData=function(e,t){var n=window._server+"/common/loadResourceTreeData";$.ajax({url:n,data:e,type:"POST",success:function(e){l(e),t(e)},error:function(){alert("加载资源失败.")}})};var i,r=n(93),o=(i=r)&&i.__esModule?i:{default:i},a=n(4);var s=1;function l(e){switch(e.type){case"root":e._icon=o.default.frameStyle.getRootIcon(),e._style=o.default.frameStyle.getRootIconStyle();break;case"folder":e._icon=o.default.frameStyle.getFolderIcon(),e._style=o.default.frameStyle.getFolderIconStyle();break;case"rule":e._icon=o.default.frameStyle.getRuleIcon(),e._style=o.default.frameStyle.getRuleIconStyle(),e.editorPath="/ruleeditor";break;case"conditionTemplate":e._icon=o.default.frameStyle.getConditionTemplate(),e._style=o.default.frameStyle.getConditionTemplateStyle(),e.editorPath="/conditiontemplate";break;case"actionTemplate":e._icon=o.default.frameStyle.getActionTemplate(),e._style=o.default.frameStyle.getActionTemplateStyle(),e.editorPath="/actiontemplate";break;case"project":e._icon=o.default.frameStyle.getProjectIcon(),e._style=o.default.frameStyle.getProjectIconStyle();break;case"resource":e._icon=o.default.frameStyle.getResourceIcon(),e._style=o.default.frameStyle.getResourceIconStyle();break;case"resourcePackage":e._icon=o.default.frameStyle.getResourcePackageIcon(),e._style=o.default.frameStyle.getResourcePackageIconStyle(),e.editorPath="/packageeditor";break;case"lib":e._icon=o.default.frameStyle.getLibIcon(),e._style=o.default.frameStyle.getLibIconStyle();break;case"action":e._icon=o.default.frameStyle.getActionIcon(),e._style=o.default.frameStyle.getActionIconStyle(),e.editorPath="/actioneditor";break;case"parameter":e._icon=o.default.frameStyle.getParameterIcon(),e._style=o.default.frameStyle.getParameterIconStyle(),e.editorPath="/parametereditor";break;case"constant":e._icon=o.default.frameStyle.getConstantIcon(),e._style=o.default.frameStyle.getConstantIconStyle(),e.editorPath="/constanteditor";break;case"variable":e._icon=o.default.frameStyle.getVariableIcon(),e._style=o.default.frameStyle.getVariableIconStyle(),e.editorPath="/variableeditor";break;case"ruleLib":e._icon=o.default.frameStyle.getRuleLibIcon(),e._style=o.default.frameStyle.getRuleLibIconStyle();break;case"decisionTableLib":e._icon=o.default.frameStyle.getDecisionTableLibIcon(),e._style=o.default.frameStyle.getDecisionTableLibIconStyle();break;case"decisionTreeLib":e._icon=o.default.frameStyle.getDecisionTreeLibIcon(),e._style=o.default.frameStyle.getDecisionTreeLibIconStyle();break;case"flowLib":e._icon=o.default.frameStyle.getFlowLibIcon(),e._style=o.default.frameStyle.getFlowLibIconStyle();break;case"ul":e._icon=o.default.frameStyle.getUlIcon(),e._style=o.default.frameStyle.getUlIconStyle(),e.editorPath="/uleditor";break;case"decisionTable":e._icon=o.default.frameStyle.getDecisionTableIcon(),e._style=o.default.frameStyle.getDecisionTableIconStyle(),e.editorPath="/decisiontableeditor";break;case"crosstab":e._icon=o.default.frameStyle.getCrossDecisionTableIcon(),e._style=o.default.frameStyle.getCrossDecisionTableIconStyle(),e.editorPath="/crosstabeditor";break;case"scriptDecisionTable":e._icon=o.default.frameStyle.getScriptDecisionTableIcon(),e._style=o.default.frameStyle.getScriptDecisionTableIconStyle(),e.editorPath="/scriptdecisiontableeditor";break;case"decisionTree":e._icon=o.default.frameStyle.getDecisionTreeIcon(),e._style=o.default.frameStyle.getDecisionTreeIconStyle(),e.editorPath="/decisiontreeditor";break;case"flow":e._icon=o.default.frameStyle.getFlowIcon(),e._style=o.default.frameStyle.getFlowIconStyle(),e.editorPath="/floweditor";break;case"scorecard":e._icon=o.default.frameStyle.getScorecardIcon(),e._style=o.default.frameStyle.getScorecardIconStyle(),e.editorPath="/scorecardeditor";break;case"complexscorecard":e._icon=o.default.frameStyle.getComplexScorecardIcon(),e._style=o.default.frameStyle.getComplexScorecardIconStyle(),e.editorPath="/complexscorecardeditor"}var t=e.children;t&&t.forEach(function(e,t){l(e)})}},function(e,t,n){"use strict";var i=n(0),r=n(53),o=n(1).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,i,r,o,a){return l(e+(t&n|~t&i)+r+o|0,a)+t|0}function u(e,t,n,i,r,o,a){return l(e+(t&i|n&~i)+r+o|0,a)+t|0}function f(e,t,n,i,r,o,a){return l(e+(t^n^i)+r+o|0,a)+t|0}function d(e,t,n,i,r,o,a){return l(e+(n^(t|~i))+r+o|0,a)+t|0}i(s,r),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=c(n,i,r,o,e[0],3614090360,7),o=c(o,n,i,r,e[1],3905402710,12),r=c(r,o,n,i,e[2],606105819,17),i=c(i,r,o,n,e[3],3250441966,22),n=c(n,i,r,o,e[4],4118548399,7),o=c(o,n,i,r,e[5],1200080426,12),r=c(r,o,n,i,e[6],2821735955,17),i=c(i,r,o,n,e[7],4249261313,22),n=c(n,i,r,o,e[8],1770035416,7),o=c(o,n,i,r,e[9],2336552879,12),r=c(r,o,n,i,e[10],4294925233,17),i=c(i,r,o,n,e[11],2304563134,22),n=c(n,i,r,o,e[12],1804603682,7),o=c(o,n,i,r,e[13],4254626195,12),r=c(r,o,n,i,e[14],2792965006,17),n=u(n,i=c(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=u(o,n,i,r,e[6],3225465664,9),r=u(r,o,n,i,e[11],643717713,14),i=u(i,r,o,n,e[0],3921069994,20),n=u(n,i,r,o,e[5],3593408605,5),o=u(o,n,i,r,e[10],38016083,9),r=u(r,o,n,i,e[15],3634488961,14),i=u(i,r,o,n,e[4],3889429448,20),n=u(n,i,r,o,e[9],568446438,5),o=u(o,n,i,r,e[14],3275163606,9),r=u(r,o,n,i,e[3],4107603335,14),i=u(i,r,o,n,e[8],1163531501,20),n=u(n,i,r,o,e[13],2850285829,5),o=u(o,n,i,r,e[2],4243563512,9),r=u(r,o,n,i,e[7],1735328473,14),n=f(n,i=u(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=f(o,n,i,r,e[8],2272392833,11),r=f(r,o,n,i,e[11],1839030562,16),i=f(i,r,o,n,e[14],4259657740,23),n=f(n,i,r,o,e[1],2763975236,4),o=f(o,n,i,r,e[4],1272893353,11),r=f(r,o,n,i,e[7],4139469664,16),i=f(i,r,o,n,e[10],3200236656,23),n=f(n,i,r,o,e[13],681279174,4),o=f(o,n,i,r,e[0],3936430074,11),r=f(r,o,n,i,e[3],3572445317,16),i=f(i,r,o,n,e[6],76029189,23),n=f(n,i,r,o,e[9],3654602809,4),o=f(o,n,i,r,e[12],3873151461,11),r=f(r,o,n,i,e[15],530742520,16),n=d(n,i=f(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=d(o,n,i,r,e[7],1126891415,10),r=d(r,o,n,i,e[14],2878612391,15),i=d(i,r,o,n,e[5],4237533241,21),n=d(n,i,r,o,e[12],1700485571,6),o=d(o,n,i,r,e[3],2399980690,10),r=d(r,o,n,i,e[10],4293915773,15),i=d(i,r,o,n,e[1],2240044497,21),n=d(n,i,r,o,e[8],1873313359,6),o=d(o,n,i,r,e[15],4264355552,10),r=d(r,o,n,i,e[6],2734768916,15),i=d(i,r,o,n,e[13],1309151649,21),n=d(n,i,r,o,e[4],4149444226,6),o=d(o,n,i,r,e[11],3174756917,10),r=d(r,o,n,i,e[2],718787259,15),i=d(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){e.exports=r;var i=n(19).EventEmitter;function r(){i.call(this)}n(0)(r,i),r.Readable=n(35),r.Writable=n(123),r.Duplex=n(124),r.Transform=n(125),r.PassThrough=n(126),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(e,t,n){(t=e.exports=n(54)).Stream=t,t.Readable=t,t.Writable=n(36),t.Duplex=n(13),t.Transform=n(57),t.PassThrough=n(122)},function(e,t,n){"use strict";(function(t,i,r){var o=n(27);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick;b.WritableState=m;var c=n(21);c.inherits=n(0);var u={deprecate:n(121)},f=n(55),d=n(1).Buffer,h=r.Uint8Array||function(){};var p,g=n(56);function y(){}function m(e,t){s=s||n(13),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(o.nextTick(r,i),o.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),x(e,t))}(e,n,i,t,r);else{var a=M(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),i?l(A,e,n,a,r):A(e,n,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||n(13),!(p.call(b,this)||this instanceof s))return new b(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function v(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function A(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),x(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,v(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(v(e,t,!1,t.objectMode?1:c.length,c,u,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function x(e,t){var n=M(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(b,f),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=e,d.isBuffer(i)||i instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,i,r,o);return l}(this,r,s,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(11),n(119).setImmediate,n(8))},function(e,t,n){"use strict";var i=n(1).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var i=n(3).Buffer,r=n(0),o=n(53),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,n,i,r,o,a,s){return p(e+(t^n^i)+o+a|0,s)+r|0}function y(e,t,n,i,r,o,a,s){return p(e+(t&n|~t&i)+o+a|0,s)+r|0}function m(e,t,n,i,r,o,a,s){return p(e+((t|~n)^i)+o+a|0,s)+r|0}function b(e,t,n,i,r,o,a,s){return p(e+(t&i|n&~i)+o+a|0,s)+r|0}function v(e,t,n,i,r,o,a,s){return p(e+(t^(n|~i))+o+a|0,s)+r|0}r(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,h=0|this._e,A=0|this._a,w=0|this._b,M=0|this._c,I=0|this._d,x=0|this._e,C=0;C<80;C+=1){var T,N;C<16?(T=g(n,i,r,o,h,e[s[C]],f[0],c[C]),N=v(A,w,M,I,x,e[l[C]],d[0],u[C])):C<32?(T=y(n,i,r,o,h,e[s[C]],f[1],c[C]),N=b(A,w,M,I,x,e[l[C]],d[1],u[C])):C<48?(T=m(n,i,r,o,h,e[s[C]],f[2],c[C]),N=m(A,w,M,I,x,e[l[C]],d[2],u[C])):C<64?(T=b(n,i,r,o,h,e[s[C]],f[3],c[C]),N=y(A,w,M,I,x,e[l[C]],d[3],u[C])):(T=v(n,i,r,o,h,e[s[C]],f[4],c[C]),N=g(A,w,M,I,x,e[l[C]],d[4],u[C])),n=h,h=o,o=p(r,10),r=i,i=T,A=x,x=I,I=p(M,10),M=w,w=N}var D=this._b+r+I|0;this._b=this._c+o+x|0,this._c=this._d+h+A|0,this._d=this._e+n+w|0,this._e=this._a+i+M|0,this._a=D},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(127),t.sha1=n(128),t.sha224=n(129),t.sha256=n(58),t.sha384=n(130),t.sha512=n(59)},function(e,t,n){"use strict";t.utils=n(136),t.Cipher=n(137),t.DES=n(138),t.CBC=n(139),t.EDE=n(140)},function(e,t,n){var i=n(141),r=n(149),o=n(69);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var i={ECB:n(142),CBC:n(143),CFB:n(144),CFB8:n(145),CFB1:n(146),OFB:n(147),CTR:n(67),GCM:n(67)},r=n(69);for(var o in r)r[o].module=i[r[o].mode];e.exports=r},function(e,t,n){var i;function r(e){this.rand=e}if(e.exports=function(e){return i||(i=new r(null)),i.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(154);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){(function(t){var i=n(2),r=n(15);function o(e,n){var r=function(e){var t=a(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(i.mont(n.modulus),new i(e).mul(r.blinder).umod(n.modulus)),l=s.toRed(i.mont(n.prime1)),c=s.toRed(i.mont(n.prime2)),u=n.coefficient,f=n.prime1,d=n.prime2,h=l.redPow(n.exponent1),p=c.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var g=h.isub(p).imul(u).umod(f);return g.imul(d),p.iadd(g),new t(p.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),n=new i(r(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new i(r(t));return n}e.exports=o,o.getr=a}).call(this,n(3).Buffer)},function(e,t,n){"use strict";var i=t;i.version=n(159).version,i.utils=n(7),i.rand=n(43),i.curve=n(75),i.curves=n(46),i.ec=n(170),i.eddsa=n(174)},function(e,t,n){"use strict";var i,r=t,o=n(47),a=n(75),s=n(7).assert;function l(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new l(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=n(169)}catch(e){i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},function(e,t,n){var i=t;i.utils=n(9),i.common=n(23),i.sha=n(163),i.ripemd=n(167),i.hmac=n(168),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=s(r),a=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=$(a.default.findDOMNode(this));e.on("show.bs.modal",function(){var t=1050;$(document).find(".modal").each(function(e,n){var i=$(n).css("z-index");if(i&&""!==i&&!isNaN(i)){var r=parseInt(i);r>t&&(t=r)}}),e.css("z-index",t+1)})}},{key:"render",value:function(){var e=this,t=[];this.props.buttons.forEach(function(n,i){t.push(o.default.createElement("button",{type:"button",key:i,className:n.className,onClick:function(t){n.click(e.props.dispatch)}},o.default.createElement("i",{className:n.icon})," ",n.name))});var n="modal-dialog"+(this.props.large?" modal-lg":"");return o.default.createElement("div",{className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true",style:{overflow:"auto"}},o.default.createElement("div",{className:n},o.default.createElement("div",{className:"modal-content"},o.default.createElement("div",{className:"modal-header"},o.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},"×"),o.default.createElement("h3",{className:"modal-title",id:"myModalLabel",style:{wordWrap:"break-word"}},this.props.title,o.default.createElement("div",{className:"text-danger",style:{fontSize:"12pt"}},this.props.info?this.props.info:null))),o.default.createElement("div",{className:"modal-body",style:{padding:"10px"}},this.props.body),o.default.createElement("div",{className:"modal-footer"},t))))}}]),t}();t.default=l},function(e,t,n){var i=n(94);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,o,a){return i((s=i(i(t,e),i(r,a)))<<(l=o)|s>>>32-l,n);var s,l}function o(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function l(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,c,u,f,d=1732584193,h=-271733879,p=-1732584194,g=271733878;for(n=0;n<e.length;n+=16)r=d,c=h,u=p,f=g,d=o(d,h,p,g,e[n],7,-680876936),g=o(g,d,h,p,e[n+1],12,-389564586),p=o(p,g,d,h,e[n+2],17,606105819),h=o(h,p,g,d,e[n+3],22,-1044525330),d=o(d,h,p,g,e[n+4],7,-176418897),g=o(g,d,h,p,e[n+5],12,1200080426),p=o(p,g,d,h,e[n+6],17,-1473231341),h=o(h,p,g,d,e[n+7],22,-45705983),d=o(d,h,p,g,e[n+8],7,1770035416),g=o(g,d,h,p,e[n+9],12,-1958414417),p=o(p,g,d,h,e[n+10],17,-42063),h=o(h,p,g,d,e[n+11],22,-1990404162),d=o(d,h,p,g,e[n+12],7,1804603682),g=o(g,d,h,p,e[n+13],12,-40341101),p=o(p,g,d,h,e[n+14],17,-1502002290),d=a(d,h=o(h,p,g,d,e[n+15],22,1236535329),p,g,e[n+1],5,-165796510),g=a(g,d,h,p,e[n+6],9,-1069501632),p=a(p,g,d,h,e[n+11],14,643717713),h=a(h,p,g,d,e[n],20,-373897302),d=a(d,h,p,g,e[n+5],5,-701558691),g=a(g,d,h,p,e[n+10],9,38016083),p=a(p,g,d,h,e[n+15],14,-660478335),h=a(h,p,g,d,e[n+4],20,-405537848),d=a(d,h,p,g,e[n+9],5,568446438),g=a(g,d,h,p,e[n+14],9,-1019803690),p=a(p,g,d,h,e[n+3],14,-187363961),h=a(h,p,g,d,e[n+8],20,1163531501),d=a(d,h,p,g,e[n+13],5,-1444681467),g=a(g,d,h,p,e[n+2],9,-51403784),p=a(p,g,d,h,e[n+7],14,1735328473),d=s(d,h=a(h,p,g,d,e[n+12],20,-1926607734),p,g,e[n+5],4,-378558),g=s(g,d,h,p,e[n+8],11,-2022574463),p=s(p,g,d,h,e[n+11],16,1839030562),h=s(h,p,g,d,e[n+14],23,-35309556),d=s(d,h,p,g,e[n+1],4,-1530992060),g=s(g,d,h,p,e[n+4],11,1272893353),p=s(p,g,d,h,e[n+7],16,-155497632),h=s(h,p,g,d,e[n+10],23,-1094730640),d=s(d,h,p,g,e[n+13],4,681279174),g=s(g,d,h,p,e[n],11,-358537222),p=s(p,g,d,h,e[n+3],16,-722521979),h=s(h,p,g,d,e[n+6],23,76029189),d=s(d,h,p,g,e[n+9],4,-640364487),g=s(g,d,h,p,e[n+12],11,-421815835),p=s(p,g,d,h,e[n+15],16,530742520),d=l(d,h=s(h,p,g,d,e[n+2],23,-995338651),p,g,e[n],6,-198630844),g=l(g,d,h,p,e[n+7],10,1126891415),p=l(p,g,d,h,e[n+14],15,-1416354905),h=l(h,p,g,d,e[n+5],21,-57434055),d=l(d,h,p,g,e[n+12],6,1700485571),g=l(g,d,h,p,e[n+3],10,-1894986606),p=l(p,g,d,h,e[n+10],15,-1051523),h=l(h,p,g,d,e[n+1],21,-2054922799),d=l(d,h,p,g,e[n+8],6,1873313359),g=l(g,d,h,p,e[n+15],10,-30611744),p=l(p,g,d,h,e[n+6],15,-1560198380),h=l(h,p,g,d,e[n+13],21,1309151649),d=l(d,h,p,g,e[n+4],6,-145523070),g=l(g,d,h,p,e[n+11],10,-1120210379),p=l(p,g,d,h,e[n+2],15,718787259),h=l(h,p,g,d,e[n+9],21,-343485551),d=i(d,r),h=i(h,c),p=i(p,u),g=i(g,f);return[d,h,p,g]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=i.charAt(t>>>4&15)+i.charAt(15&t);return r}function h(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return u(c(f(e),8*e.length))}(h(e))}function g(e,t){return function(e,t){var n,i,r=f(e),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=c(r,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],a[n]=1549556828^r[n];return i=c(o.concat(f(t)),512+8*t.length),u(c(a.concat(i),640))}(h(e),h(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.encrypt=function(e){return function(e){function t(e,t){return e<<t|e>>>32-t}function n(e){var t="",n=void 0;for(n=7;n>=0;n--)t+=(e>>>4*n&15).toString(16);return t}var i=void 0,r=void 0,o=void 0,a=new Array(80),s=1732584193,l=4023233417,c=2562383102,u=271733878,f=3285377520,h=void 0,y=void 0,m=void 0,b=void 0,v=void 0,A=void 0,w=(e=function(e){-1===(e=(e=function(e,t,n){if(e+="-",e+="+",e+="*",e+="!",e+="@",e+="$",e+="#",!t)return n?p(e):d(p(e));if(!n)return d(g(t,e));return g(t,e)}("urule-pro-"+e)).replace(/\r\n/g,"\n")).indexOf("S")?e+=(new Date).getDate():e+=(new Date).getMonth();for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)).length,M=new Array;for(r=0;r<w-3;r+=4)o=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),M.push(o);switch(w%4){case 0:r=2147483648;break;case 1:r=e.charCodeAt(w-1)<<24|8388608;break;case 2:r=e.charCodeAt(w-2)<<24|e.charCodeAt(w-1)<<16|32768;break;case 3:r=e.charCodeAt(w-3)<<24|e.charCodeAt(w-2)<<16|e.charCodeAt(w-1)<<8|128}M.push(r);for(;M.length%16!=14;)M.push(0);for(M.push(w>>>29),M.push(w<<3&4294967295),i=0;i<M.length;i+=16){for(r=0;r<16;r++)a[r]=M[i+r];for(r=16;r<=79;r++)a[r]=t(a[r-3]^a[r-8]^a[r-14]^a[r-16],1);for(h=s,y=l,m=c,b=u,v=f,r=0;r<=19;r++)A=t(h,5)+(y&m|~y&b)+v+a[r]+1518500249&4294967295,v=b,b=m,m=t(y,30),y=h,h=A;for(r=20;r<=39;r++)A=t(h,5)+(y^m^b)+v+a[r]+1859775393&4294967295,v=b,b=m,m=t(y,30),y=h,h=A;for(r=40;r<=59;r++)A=t(h,5)+(y&m|y&b|m&b)+v+a[r]+2400959708&4294967295,v=b,b=m,m=t(y,30),y=h,h=A;for(r=60;r<=79;r++)A=t(h,5)+(y^m^b)+v+a[r]+3395469782&4294967295,v=b,b=m,m=t(y,30),y=h,h=A;s=s+h&4294967295,l=l+y&4294967295,c=c+m&4294967295,u=u+b&4294967295,f=f+v&4294967295}return(n(s)+n(l)+n(c)+n(u)+n(f)).toLowerCase()}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=t.HIDE_CHILD_LIST_DIALOG=t.SHOW_CHILD_LIST_DIALOG=t.HIDE_CELL_EDITOR=t.SHOW_CELL_EDITOR=void 0;var i,r=n(19),o=(i=r)&&i.__esModule?i:{default:i};t.SHOW_CELL_EDITOR="show_cell_editor",t.HIDE_CELL_EDITOR="hide_cell_editor",t.SHOW_CHILD_LIST_DIALOG="show_child_list_dialog",t.HIDE_CHILD_LIST_DIALOG="hide_child_list_dialog",t.eventEmitter=new o.default.EventEmitter},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=n(1).Buffer,r=n(34).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(0)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,i){var r=n(27);e.exports=v;var o,a=n(52);v.ReadableState=b;n(19).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(55),c=n(1).Buffer,u=t.Uint8Array||function(){};var f=n(21);f.inherits=n(0);var d=n(116),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n(117),y=n(56);f.inherits(v,l);var m=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var i=t instanceof(o=o||n(13));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(37).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||n(13),!(this instanceof v))return new v(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function A(e,t,n,i,r){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,a)):(r||(o=function(e,t){var n;i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):T(e,a)):w(e,a,t,!1))):i||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),T(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),n=!0),A(this,e,t,!1,n)},v.prototype.unshift=function(e){return A(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=n(37).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var M=8388608;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(C,e):C(e))}function C(e){h("emit readable"),e.emit("readable"),k(e)}function T(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){h("readable nexttick read 0"),e.read(0)}function E(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function _(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function S(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):x(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&S(this),null;var i,r=t.needReadable;return h("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",r=!0),t.ended||t.reading?h("reading or ended",r=!1):r&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?_(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&S(this)),null!==i&&this.emit("data",i),i},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:v;function c(t,i){h("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",g),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function u(){h("onend"),e.end()}o.endEmitted?r.nextTick(l):n.once("end",l),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,k(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function y(t){h("onerror",t),v(),e.removeListener("error",y),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),v()}function b(){h("onfinish"),e.removeListener("close",m),v()}function v(){h("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",m),e.once("finish",b),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&x(this):r.nextTick(D,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(E,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){(h("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=_}).call(this,n(8),n(11))},function(e,t,n){e.exports=n(19).EventEmitter},function(e,t,n){"use strict";var i=n(27);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var i=n(13),r=n(21);function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(0),r.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var i=n(0),r=n(16),o=n(1).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+h(n[m-15])+n[m-16];for(var b=0;b<64;++b){var v=y+d(l)+c(l,p,g)+a[b]+n[b]|0,A=f(i)+u(i,r,o)|0;y=g,g=p,p=l,l=s+v|0,s=o,o=r,r=i,i=v+A|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},l.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},function(e,t,n){var i=n(0),r=n(16),o=n(1).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function l(){this.init(),this._w=s,r.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,l=0|this._fh,b=0|this._gh,v=0|this._hh,A=0|this._al,w=0|this._bl,M=0|this._cl,I=0|this._dl,x=0|this._el,C=0|this._fl,T=0|this._gl,N=0|this._hl,D=0;D<32;D+=2)t[D]=e.readInt32BE(4*D),t[D+1]=e.readInt32BE(4*D+4);for(;D<160;D+=2){var E=t[D-30],k=t[D-30+1],_=h(E,k),S=p(k,E),j=g(E=t[D-4],k=t[D-4+1]),L=y(k,E),O=t[D-14],z=t[D-14+1],B=t[D-32],R=t[D-32+1],P=S+z|0,U=_+O+m(P,S)|0;U=(U=U+j+m(P=P+L|0,L)|0)+B+m(P=P+R|0,R)|0,t[D]=U,t[D+1]=P}for(var Q=0;Q<160;Q+=2){U=t[Q],P=t[Q+1];var Y=u(n,i,r),F=u(A,w,M),H=f(n,A),G=f(A,n),W=d(s,x),V=d(x,s),Z=a[Q],J=a[Q+1],X=c(s,l,b),$=c(x,C,T),K=N+V|0,q=v+W+m(K,N)|0;q=(q=(q=q+X+m(K=K+$|0,$)|0)+Z+m(K=K+J|0,J)|0)+U+m(K=K+P|0,P)|0;var ee=G+F|0,te=H+Y+m(ee,G)|0;v=b,N=T,b=l,T=C,l=s,C=x,s=o+q+m(x=I+K|0,I)|0,o=r,I=M,r=i,M=w,i=n,w=A,n=q+te+m(A=K+ee|0,K)|0}this._al=this._al+A|0,this._bl=this._bl+w|0,this._cl=this._cl+M|0,this._dl=this._dl+I|0,this._el=this._el+x|0,this._fl=this._fl+C|0,this._gl=this._gl+T|0,this._hl=this._hl+N|0,this._ah=this._ah+n+m(this._al,A)|0,this._bh=this._bh+i+m(this._bl,w)|0,this._ch=this._ch+r+m(this._cl,M)|0,this._dh=this._dh+o+m(this._dl,I)|0,this._eh=this._eh+s+m(this._el,x)|0,this._fh=this._fh+l+m(this._fl,C)|0,this._gh=this._gh+b+m(this._gl,T)|0,this._hh=this._hh+v+m(this._hl,N)|0},l.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=l},function(e,t,n){"use strict";var i=n(0),r=n(131),o=n(12),a=n(1).Buffer,s=n(61),l=n(38),c=n(39),u=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new l:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,u],n));for(var i=this._ipad=a.allocUnsafe(n),r=this._opad=a.allocUnsafe(n),s=0;s<n;s++)i[s]=54^t[s],r[s]=92^t[s];this._hash="rmd160"===e?new l:c(e),this._hash.update(i)}i(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new l:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new r(s,t):new f(e,t)}},function(e,t,n){var i=n(33);e.exports=function(e){return(new i).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(133),t.pbkdf2Sync=n(66)},function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function i(e,n){if("string"!=typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,r,o){if(i(e,"Password"),i(t,"Salt"),"number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!=o)throw new TypeError("Bad key length")}}).call(this,n(3).Buffer)},function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n(11))},function(e,t,n){var i=n(61),r=n(38),o=n(39),a=n(64),s=n(65),l=n(1).Buffer,c=l.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new r).update(e).digest()}:"md5"===e?i:function(t){return o(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=l.concat([t,c],s));for(var f=l.allocUnsafe(s+u[e]),d=l.allocUnsafe(s+u[e]),h=0;h<s;h++)f[h]=54^t[h],d[h]=92^t[h];var p=l.allocUnsafe(s+n+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=d,this.alg=e,this.blocksize=s,this.hash=a,this.size=u[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,i,r){a(e,t,n,i),l.isBuffer(e)||(e=l.from(e,s)),l.isBuffer(t)||(t=l.from(t,s));var o=new f(r=r||"sha1",e,t.length),c=l.allocUnsafe(i),d=l.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var h=0,p=u[r],g=Math.ceil(i/p),y=1;y<=g;y++){d.writeUInt32BE(y,t.length);for(var m=o.run(d,o.ipad1),b=m,v=1;v<n;v++){b=o.run(b,o.ipad2);for(var A=0;A<p;A++)m[A]^=b[A]}m.copy(c,h),h+=p}return c}},function(e,t,n){var i=n(22),r=n(1).Buffer,o=n(68);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var l=a(e),c=o+16*s;e._cache.writeUInt32BE(l[0],c+0),e._cache.writeUInt32BE(l[1],c+4),e._cache.writeUInt32BE(l[2],c+8),e._cache.writeUInt32BE(l[3],c+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,u)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var i=n(28),r=n(1).Buffer,o=n(12),a=n(0),s=n(148),l=n(22),c=n(68);function u(e,t,n,a){o.call(this);var l=r.alloc(4,0);this._cipher=new i.AES(t);var u=this._cipher.encryptBlock(l);this._ghash=new s(u),n=function(e,t,n){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var i=new s(n),o=t.length,a=o%16;i.update(t),a&&(a=16-a,i.update(r.alloc(a,0))),i.update(r.alloc(8,0));var l=8*o,u=r.alloc(8);u.writeUIntBE(l,0,8),i.update(u),e._finID=i.state;var f=r.from(e._finID);return c(f),f}(this,n,u),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(u,o),u.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var i=Math.min(e.length,t.length),r=0;r<i;++r)n+=e[r]^t[r];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},u.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=u},function(e,t,n){var i=n(28),r=n(1).Buffer,o=n(12);function a(e,t,n,a){o.call(this),this._cipher=new i.AES(t),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._mode=e}n(0)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var i=n(15);e.exports=b,b.simpleSieve=y,b.fermatTest=m;var r=n(2),o=new r(24),a=new(n(73)),s=new r(1),l=new r(2),c=new r(5),u=(new r(16),new r(8),new r(10)),f=new r(3),d=(new r(7),new r(11)),h=new r(4),p=(new r(12),null);function g(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<t&&e[r]<=i&&n%e[r]!=0;r++);t!==r&&e[r]<=i||(e[t++]=n)}return p=e,e}function y(e){for(var t=g(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function m(e){var t=r.mont(e);return 0===l.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new r(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new r(t);;){for(n=new r(i(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(l),t.cmp(l)){if(!t.cmp(c))for(;n.mod(u).cmp(f);)n.iadd(h)}else for(;n.mod(o).cmp(d);)n.iadd(h);if(y(p=n.shrn(1))&&y(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},function(e,t,n){var i=n(2),r=n(43);function o(e){this.rand=e||new r.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var r=e.bitLength(),o=i.mont(e),a=new i(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),l=0;!s.testn(l);l++);for(var c=e.shrn(l),u=s.toRed(o);t>0;t--){var f=this._randrange(new i(2),s);n&&n(f);var d=f.toRed(o).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(u)){for(var h=1;h<l;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(u))break}if(h===l)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var l=e.shrn(s),c=a.toRed(r);t>0;t--){var u=this._randrange(new i(2),a),f=e.gcd(u);if(0!==f.cmpn(1))return f;var d=u.toRed(r).redPow(l);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";var i=t;function r(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)n[i]=0|e[i];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var r=e.charCodeAt(i),o=r>>8,a=255&r;o?n.push(o,a):n.push(a)}return n},i.zero2=r,i.toHex=o,i.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var i=t;i.base=n(30),i.short=n(160),i.mont=n(161),i.edwards=n(162)},function(e,t,n){"use strict";var i=n(9).rotr32;function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?a(t,n,i):2===e?o(t,n,i):void 0},t.ch32=r,t.maj32=o,t.p32=a,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},function(e,t,n){"use strict";var i=n(9),r=n(23),o=n(76),a=n(6),s=i.sum32,l=i.sum32_4,c=i.sum32_5,u=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,g=o.g1_256,y=r.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}i.inherits(b,y),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=l(g(n[i-2]),n[i-7],p(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],y=this.h[2],m=this.h[3],b=this.h[4],v=this.h[5],A=this.h[6],w=this.h[7];for(a(this.k.length===n.length),i=0;i<n.length;i++){var M=c(w,h(b),u(b,v,A),this.k[i],n[i]),I=s(d(r),f(r,o,y));w=A,A=v,v=b,b=s(m,M),m=y,y=o,o=r,r=s(M,I)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],y),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],A),this.h[7]=s(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";var i=n(9),r=n(23),o=n(6),a=i.rotr64_hi,s=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,u=i.sum64,f=i.sum64_hi,d=i.sum64_lo,h=i.sum64_4_hi,p=i.sum64_4_lo,g=i.sum64_5_hi,y=i.sum64_5_lo,m=r.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function A(e,t,n,i,r){var o=e&n^~e&r;return o<0&&(o+=4294967296),o}function w(e,t,n,i,r,o){var a=t&i^~t&o;return a<0&&(a+=4294967296),a}function M(e,t,n,i,r){var o=e&n^e&r^n&r;return o<0&&(o+=4294967296),o}function I(e,t,n,i,r,o){var a=t&i^t&o^i&o;return a<0&&(a+=4294967296),a}function x(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function N(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function D(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=a(e,t,19)^a(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}function _(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}i.inherits(v,m),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var r=k(n[i-4],n[i-3]),o=_(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],l=D(n[i-30],n[i-29]),c=E(n[i-30],n[i-29]),u=n[i-32],f=n[i-31];n[i]=h(r,o,a,s,l,c,u,f),n[i+1]=p(r,o,a,s,l,c,u,f)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],r=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],m=this.h[8],b=this.h[9],v=this.h[10],D=this.h[11],E=this.h[12],k=this.h[13],_=this.h[14],S=this.h[15];o(this.k.length===n.length);for(var j=0;j<n.length;j+=2){var L=_,O=S,z=T(m,b),B=N(m,b),R=A(m,b,v,D,E),P=w(m,b,v,D,E,k),U=this.k[j],Q=this.k[j+1],Y=n[j],F=n[j+1],H=g(L,O,z,B,R,P,U,Q,Y,F),G=y(L,O,z,B,R,P,U,Q,Y,F);L=x(i,r),O=C(i,r),z=M(i,r,a,s,l),B=I(i,r,a,s,l,c);var W=f(L,O,z,B),V=d(L,O,z,B);_=E,S=k,E=v,k=D,v=m,D=b,m=f(h,p,H,G),b=d(p,p,H,G),h=l,p=c,l=a,c=s,a=i,s=r,i=f(H,G,W,V),r=d(H,G,W,V)}u(this.h,0,i,r),u(this.h,2,a,s),u(this.h,4,l,c),u(this.h,6,h,p),u(this.h,8,m,b),u(this.h,10,v,D),u(this.h,12,E,k),u(this.h,14,_,S)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){var i=n(0),r=n(25).Reporter,o=n(3).Buffer;function a(e,t){r.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(a,r),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var i=t;i._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var i=e[n];t[i]=n}),t},i.der=n(182)},function(e,t,n){var i=n(0),r=n(24),o=r.base,a=r.bignum,s=r.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function u(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var i=s.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var i=e.readUInt8(n);if(e.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;var r=127&i;if(r>4)return e.error("length octect is too long");i=0;for(var o=0;o<r;o++){i<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;i|=a}return i}e.exports=l,l.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},i(c,o.Node),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var i=e.save(),r=u(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(i),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){var i=u(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var r=f(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!n&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(r=e.offset-o.offset,e.restore(o),e.skip(r,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var n=u(e,t);if(e.isError(n))return n;var i,r=f(e,n.primitive,t);if(e.isError(r))return r;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,i){for(var r=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",i);if(e.isError(a)&&o)break;r.push(a)}return r},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var i=e.raw();if(i.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",o=0;o<i.length/2;o++)r+=String.fromCharCode(i.readUInt16BE(2*o));return r}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){for(var i,r=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(r.push(o),o=0)}128&a&&r.push(o);var s=r[0]/40|0,l=r[0]%40;if(i=n?r:[s,l].concat(r.slice(1)),t){var c=t[i.join(" ")];void 0===c&&(c=t[i.join(".")]),void 0!==c&&(i=c)}return i},c.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),l=0|n.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,a,s,l,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var n=e.raw(),i=new a(n);return t&&(i=t[i.toString(10)]||i),i},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){var i=n(0),r=n(3).Buffer,o=n(24),a=o.base,s=o.constants.der;function l(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=l,l.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(c,a.Node),c.prototype._encodeComposite=function(e,t,n,i){var o,a=function(e,t,n,i){var r;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))r=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);r=e}if(r>=31)return i.error("Multi-octet tag encoding unsupported");t||(r|=32);return r|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(i.length<128)return(o=new r(2))[0]=a,o[1]=i.length,this._createEncoderBuffer([o,i]);for(var l=1,c=i.length;c>=256;c>>=8)l++;(o=new r(2+l))[0]=a,o[1]=128|l;c=1+l;for(var u=i.length;u>0;c--,u>>=8)o[c]=255&u;return this._createEncoderBuffer([o,i])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new r(2*e.length),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(i=0;i<e.length;i++){var a=e[i];for(o++;a>=128;a>>=7)o++}var s=new r(o),l=s.length-1;for(i=e.length-1;i>=0;i--){a=e[i];for(s[l--]=127&a;(a>>=7)>0;)s[l--]=128|127&a}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var n,i=new Date(e);return"gentime"===t?n=[u(i.getFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[u(i.getFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new r(n)}if(r.isBuffer(e)){var i=e.length;0===e.length&&i++;var o=new r(i);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);i=1;for(var a=e;a>=256;a>>=8)i++;for(a=(o=new Array(i)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new r(o))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){var i,r=this._baseState;if(null===r.default)return!1;var o=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var i=n(20),r=n(1).Buffer;function o(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=r.alloc(0),s=0;a.length<t;)n=o(s++),a=r.concat([a,i("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,i=-1;++i<n;)e[i]^=t[i];return e}},function(e,t,n){var i=n(2),r=n(1).Buffer;e.exports=function(e,t){return r.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTIiIGhlaWdodD0iMjIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8dGV4dCBzdHJva2U9IiMwMDAiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDIuMDk1NDc1MDgwMDAwOTk0NywwLC05LjAxMzU2NzA3MjE0OTM1KSAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHRleHQtYW5jaG9yPSJzdGFydCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTAiIGlkPSJzdmdfMSIgeT0iMTEuNjU5NTcxIiB4PSIyLjQ1MjMxNiIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMDAwMDAwIj4oPC90ZXh0Pg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTIiIGhlaWdodD0iMjIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8dGV4dCBzdHlsZT0iY3Vyc29yOiBtb3ZlOyIgc3Ryb2tlPSIjMDAwIiB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwyLjA5NTQ3NTA4MDAwMDk5NDcsMCwtOS4wMTM1NjcwNzIxNDkzNSkgIiB4bWw6c3BhY2U9InByZXNlcnZlIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjEwIiBpZD0ic3ZnXzEiIHk9IjExLjY1OTU3MSIgeD0iMi40NTIzMTYiIGZpbGwtb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLW9wYWNpdHk9Im51bGwiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzAwMDAwMCI+KTwvdGV4dD4NCiA8L2c+DQo8L3N2Zz4="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=u(r),a=u(n(10)),s=u(n(200)),l=u(n(199)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=$(a.default.findDOMNode(this)),t=e.children("span"),n=this.props,i=n.data;n.dispatch;if(t.click(function(t){var n=$(this);if(e.hasClass("parent_li")){var i=n.parent("li.parent_li").find(" > ul > li");i.is(":visible")?(i.hide("fast"),n.children("i:first").addClass("rf-plus").removeClass("rf-minus")):(i.show("fast"),n.children("i:first").addClass("rf-minus").removeClass("rf-plus"))}}),e.hasClass("parent_li")){var r=this.props.expandLevel;if(i._level>=r)t.parent("li.parent_li").find(" > ul > li").hide(),t.children("i:first").addClass("rf-plus").removeClass("rf-minus");else t.children("i:first").addClass("rf-minus").removeClass("rf-plus")}this._bindContextMenu(i)}},{key:"isFile",value:function(){var e=this.props.data.name,t=!1;return(e.indexOf(".")>-1||"ul"===e||"知识包"===e)&&(t=!0),t}},{key:"componentWillUnmount",value:function(){var e=this.props.data,t=e.contextMenu;t&&0!==t.length&&$("#node-"+e.id).contextmenu("destroy")}},{key:"componentDidUpdate",value:function(){this._bindContextMenu(this.props.data)}},{key:"_bindContextMenu",value:function(e){var t=$("#node-"+e.id);t.contextmenu("destroy");var n=e.contextMenu;if(n&&0!==n.length){var i="treenodemenu"+e.id;t.contextmenu({target:"#"+i})}}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.dispatch,i=t.children,r="node-"+t.id,a="treenodemenu"+t.id,u=[];if(t.contextMenu&&u.push(o.default.createElement(l.default,{items:t.contextMenu,key:t.id,data:t,dispatch:n,menuId:a})),i&&i.length>0)return o.default.createElement("li",{className:"parent_li"},o.default.createElement("span",{id:r},o.default.createElement("i",{className:"rf rf-minus",style:{marginRight:"2px"}}),o.default.createElement("i",{className:t._icon,style:t._style})," ",o.default.createElement("a",{href:"###",style:t._style,onClick:function(e){if(window.authority_config&&"项目列表"!=t.name&&"资源"!=t.name){var n=window._server+t.editorPath+"?file="+t.fullPath;c.eventEmitter.emit(c.TREE_NODE_CLICK,{id:t.id,name:t.name,fullPath:t.fullPath,path:n,active:!0}),$(".tree").find(".tree-active").removeClass("tree-active"),$("#"+r).addClass("tree-active")}},onDoubleClick:function(){if(window.authority_config&&"项目列表"!=t.name&&"资源"!=t.name){var e=window._server+t.editorPath+"?file="+t.fullPath;c.eventEmitter.emit(c.TREE_NODE_DBLCLICK,{id:t.id,name:t.name,fullPath:t.fullPath,path:e,active:!0}),$(".tree").find(".tree-active").removeClass("tree-active"),$("#"+r).addClass("tree-active")}}}," ",t.name),o.default.createElement("sup",null,o.default.createElement("i",{title:t.lock?t.lockInfo:"",className:t.lock?"rf rf-lock":""}))),u,o.default.createElement(s.default,{dispatch:n,children:i,expandLevel:this.props.expandLevel}));var f=this.isFile(),d=t.name,h=d.indexOf(".");return!window._showFileExtensionName&&h>0&&(d=d.substring(0,h)),o.default.createElement("li",null,o.default.createElement("span",{id:r,onClick:function(e){if(f){var n=window._server+t.editorPath+"?file="+t.fullPath;c.eventEmitter.emit(c.TREE_NODE_CLICK,{id:t.id,name:t.name,fullPath:t.fullPath,path:n,active:!0}),$(".tree").find(".tree-active").removeClass("tree-active"),$("#"+r).addClass("tree-active")}},onDoubleClick:function(e){if(f){var n=window._server+t.editorPath+"?file="+t.fullPath;c.eventEmitter.emit(c.TREE_NODE_DBLCLICK,{id:t.id,name:t.name,fullPath:t.fullPath,path:n,active:!0}),$(".tree").find(".tree-active").removeClass("tree-active"),$("#"+r).addClass("tree-active")}}},o.default.createElement("i",{className:t._icon,style:t._style})," ",o.default.createElement("a",{href:"###",style:t._style}," ",d),o.default.createElement("sup",null,o.default.createElement("i",{title:t.lock?t.lockInfo:"",className:t.lock?"rf rf-lock":""}))),u)}}]),t}();t.default=f},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIyIiB3aWR0aD0iMjIiIHk9Ii0xIiB4PSItMSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8cGF0aCBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSIgZD0ibTQuOTYxNTI3LDkuMDY4ODYyYzEuMTE4MTEyLC0xLjE3NjQ2OCAyLjEzODYyNywtMi4wMTM1MTEgMy4wNjEyNjUsLTIuNTEwODg4YzAuOTIyNjM4LC0wLjQ5NzMyMyAxLjcwODA1OSwtMC43NDYwMjUgMi4zNTY3MzcsLTAuNzQ2MDI1YzAuNDY2MjE2LDAuMDIyNDI3IDEuMTQ4NTgzLC0wLjA0NTc2MyAxLjEwNzA4OCwwLjgzNDI4OWMwLDAuMzEwMzQzIC0wLjM2MjkxMSwxLjYyNTk0NCAtMS4wODg2NzYsMy45NDY3NzdjLTEuMTgzNTMxLDMuNzk3MTY1IC0xLjc3NTI2OSw2LjA4NjIxNSAtMS43NzUyNjksNi44NjY4M2MwLDAuMTQ5ODc5IDAuMDM5MTE3LDAuMjc1NDU5IDAuMTE3NTQ3LDAuMzc2OTgyYzAuMDc4MTc4LDAuMTAxODE3IDAuMTYyMTc3LDAuMTUyNDQ1IDAuMjUxOTM5LDAuMTUyNDQ1YzAuMzU4MjEsMCAzLjQwOTI2MiwtMS4zNzk3MjggMy40MDkyNjIsLTEuMzc5NzI4Yy0xLjUzNDA3NCwxLjM3OTcyOCAtMi42NTM0NzMsMi4yNjIxNTkgLTMuMzU4OTI1LDIuNjQ3MjQxYy0wLjcwNTM2NywwLjM4NTA1NSAtMS4yODIxMzUsMC41Nzc1NjkgLTEuNzI5OCwwLjU3NzU2OWMtMC4zOTIwMTEsMCAtMC43MDI3MzcsLTAuMTE3ODI5IC0wLjkzMjA0LC0wLjM1Mjk1MWMtMC4yMjk2MzgsLTAuMjM1MTc2IC0wLjM0NDMwNCwtMC41NjE1MyAtMC4zNDQzMDQsLTAuOTc4NzE1YzAsLTEuMzM2OTA1IDAuODM5NzMxLC00LjYwNDU5IDIuNTE5MTM4LC05LjgwMjgxNWMwLjA3ODE3OCwtMC4yNDU5MjIgMC4zODE2MDIsLTEuMDcyOTY3IC0wLjE4NDc1NywtMC45Nzg2ODhjLTAuMjI0MDk4LDAgLTMuNDA5MjA2LDEuMzQ3Njc4IC0zLjQwOTIwNiwxLjM0NzY3OHptNi40MjAxOSwtOC45OTE5NDFjMC40NDg3NTYsMCAwLjgxODEwMiwwLjE0MjAyIDEuMTA4MDY3LDAuNDI1NDk4YzAuMjg5NTczLDAuMjgzNzQ2IDAuNDM0NDU4LDAuNjQ2OTYxIDAuNDM0NDU4LDEuMDg5NjQ3YzAsMC42MDkwMzEgLTAuMjIwOTM2LDEuMTQ1MDg2IC0wLjY2MjU4NSwxLjYwODUxNWMtMC40NDIwNCwwLjQ2Mzc1IC0wLjkzODAyOCwwLjY5NTI5IC0xLjQ4ODI3LDAuNjk1MjljLTAuNDM0NTQyLDAgLTAuNzk2Njk3LC0wLjE0NTI4MSAtMS4wODYyNywtMC40MzU4N2MtMC4yODk5NjUsLTAuMjkwNTYyIC0wLjQzNDU0MiwtMC42NzA5OTIgLTAuNDM0NTQyLC0xLjE0MTUzMWMwLC0wLjYyMjY2MyAwLjIwOTc3MiwtMS4xNTE5MjkgMC42MzAwMTUsLTEuNTg3Nzk5YzAuNDE5OTY0LC0wLjQzNTgxNiAwLjkxOTcsLTAuNjUzNzUxIDEuNDk5MTI2LC0wLjY1Mzc1MXoiLz4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=c(r),a=c(n(97)),s=c(n(196)),l=n(32);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={display:"none"},n.filterData={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"onFilter",value:function(e,t){if("Enter"===t.key){var n=t.target.value,i=t.target.name,r=this;this.filterData[i]={value:n,colIndex:e};for(var o=$(t.target).parent().parent().parent().children("tr"),a=function(e){var t=$(o[e]),n=0;t.children("td").each(function(e,t){var i=$(t).children("div").html();for(var o in r.filterData){var a=r.filterData[o],s=a.colIndex;if(-1===n)break;if(s===e){n=i.toLowerCase().indexOf(a.value.toLowerCase())>-1?1:-1;break}}}),1===n?t.show():-1===n&&t.hide()},s=1;s<o.length;s++)a(s)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headers,i=t.operationConfig,r=t.menuOperation,c=t.dispatch,u=t.selectFirst,f=(t.uniqueKey,t.notScroll),d=this.props.rows||[],h=[],p=[],g=[],y=$(window).height()-90;n.forEach(function(t,n){g.push(o.default.createElement("col",{key:(0,l.uniqueID)(),style:{width:t.width}})),t.editable?h.push(o.default.createElement("td",{key:(0,l.uniqueID)()},o.default.createElement("label",null,t.label),o.default.createElement(s.default,{onchange:e.props.onchange,onblur:function(t){e.setState({display:"none"}),e.props.onblur(t)},header:t,display:e.state.display}))):h.push(o.default.createElement("td",{key:(0,l.uniqueID)(),style:{width:t.width}},o.default.createElement("label",null,t.label)))}),i&&(r?(h.push(o.default.createElement("td",{key:(0,l.uniqueID)()},o.default.createElement("label",null,"..."))),g.push(o.default.createElement("col",{key:(0,l.uniqueID)(),style:{width:"40px"}}))):(h.push(o.default.createElement("td",{key:(0,l.uniqueID)()},o.default.createElement("label",null,"操作列"))),g.push(o.default.createElement("col",{key:(0,l.uniqueID)(),style:{width:i.width||"90px"}}))));var m=o.default.createElement("tr",{key:"filterrow",style:{background:"#eee"}},n.map(function(t,n){return t.filterable?o.default.createElement("td",{key:(0,l.uniqueID)()},o.default.createElement("input",{type:"text",onKeyPress:e.onFilter.bind(e,n),name:t.id,className:"form-control",style:{height:"26px",padding:"0"},placeholder:"请输入过滤条件，回车查询..."})):o.default.createElement("td",{key:(0,l.uniqueID)()}," ")}),i?o.default.createElement("td",null):null);p.push(m),d.forEach(function(t,s){t.id_||(t.id_=(0,l.uniqueID)());var f=t.id_;0===s&&u?p.push(o.default.createElement(a.default,{key:f,select:!0,ready:e.props.ready,headers:n,dispatch:c,rowClick:e.props.rowClick,menuOperation:r,operations:i?i.operations:null,rowData:t,rowIndex:s})):p.push(o.default.createElement(a.default,{key:f,ready:e.props.ready,headers:n,dispatch:c,rowClick:e.props.rowClick,menuOperation:r,operations:i?i.operations:null,rowData:t,rowIndex:s}))});var b={margin:0,width:this.props.width?this.props.width:"100%"},v={height:y+"px"};return f||(v.overflowY="scroll"),o.default.createElement("div",null,o.default.createElement("div",{style:{paddingRight:"17px"}},o.default.createElement("table",{className:"table table-bordered",style:b},o.default.createElement("colgroup",null,g),o.default.createElement("thead",null,o.default.createElement("tr",{className:"well"},h)))),o.default.createElement("div",{style:v},o.default.createElement("table",{className:"table table-bordered",style:b},o.default.createElement("colgroup",null,g),o.default.createElement("tbody",null,p))))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};function r(e,t){return window._frameStyles?window._frameStyles[e]:t}i.frameStyle={getRootIcon:function(){return r("rootIcon","rf rf-root")},getRootIconStyle:function(){return r("rootIconStyle",{color:"rgb(102, 102, 102)"})},getProjectIcon:function(){return r("projectIcon","rf rf-project")},getProjectIconStyle:function(){return r("projectIconStyle",{color:"rgb(188, 15, 105)"})},getResourceIcon:function(){return r("resourceIcon","rf rf-library")},getResourceIconStyle:function(){return r("resourceIconStyle",{color:"rgb(88, 45, 170)"})},getResourcePackageIcon:function(){return r("resourcePackageIcon","rf rf-package")},getResourcePackageIconStyle:function(){return r("resourcePackageIconStyle",{color:"rgb(180, 133, 19)"})},getLibIcon:function(){return r("libIcon","rf rf-database")},getLibIconStyle:function(){return r("libIconStyle",{color:"rgb(24, 121, 27)"})},getActionIcon:function(){return r("actionIcon","rf rf-action")},getActionIconStyle:function(){return r("actionIconStyle",{color:"rgb(24, 121, 27)"})},getVariableIcon:function(){return r("variableIcon","rf rf-variable")},getVariableIconStyle:function(){return r("variableIconStyle",{color:"rgb(24, 121, 27)"})},getConstantIcon:function(){return r("constantIcon","rf rf-constant")},getConstantIconStyle:function(){return r("constantIconStyle",{color:"rgb(24, 121, 27)"})},getParameterIcon:function(){return r("parameterIcon","rf rf-parameter")},getParameterIconStyle:function(){return r("parameterIconStyle",{color:"rgb(24, 121, 27)"})},getRuleIcon:function(){return r("ruleIcon","rf rf-rule")},getRuleIconStyle:function(){return r("ruleIconStyle",{color:"rgb(31, 90, 163)"})},getConditionTemplate:function(){return r("conditionTemplateIcon","rf rf-condition-template")},getConditionTemplateStyle:function(){return r("conditionTemplateIconStyle",{color:"rgb(31, 90, 163)"})},getActionTemplate:function(){return r("actionTemplateIcon","rf rf-action-template")},getActionTemplateStyle:function(){return r("actionTemplateIconStyle",{color:"rgb(31, 90, 163)"})},getUlIcon:function(){return r("ulIcon","rf rf-script")},getUlIconStyle:function(){return r("ulIconStyle",{color:"rgb(31, 90, 163)"})},getRuleLibIcon:function(){return r("ruleLibIcon","rf rf-rule")},getRuleLibIconStyle:function(){return r("ruleLibIconStyle",{color:"rgb(31, 90, 163)"})},getDecisionTableIcon:function(){return r("decisionTableIcon","rf rf-table")},getCrossDecisionTableIcon:function(){return r("crossDecisionTableIcon","rf rf-crosstab")},getDecisionTableIconStyle:function(){return r("decisionTableIconStyle",{color:"rgb(31, 90, 163)"})},getCrossDecisionTableIconStyle:function(){return r("crossDecisionTableIconStyle",{color:"rgb(31, 90, 163)"})},getScriptDecisionTableIcon:function(){return r("scriptDecisionTableIcon","rf rf-scripttable")},getScriptDecisionTableIconStyle:function(){return r("scriptDecisionTableIconStyle",{color:"rgb(31, 90, 163)"})},getDecisionTableLibIcon:function(){return r("decisionTableLibIcon","rf rf-table")},getDecisionTableLibIconStyle:function(){return r("decisionTableLibIconStyle",{color:"rgb(31, 90, 163)"})},getDecisionTreeIcon:function(){return r("decisionTreeIcon","rf rf-tree")},getDecisionTreeIconStyle:function(){return r("decisionTreeIconStyle",{color:"rgb(31, 90, 163)"})},getDecisionTreeLibIcon:function(){return r("decisionTreeLibIcon","rf rf-tree")},getDecisionTreeLibIconStyle:function(){return r("decisionTreeLibIconStyle",{color:"rgb(31, 90, 163)"})},getScorecardIcon:function(){return r("scorecardIcon","rf rf-scorecard")},getScorecardIconStyle:function(){return r("scorecardIconStyle",{color:"rgb(31, 90, 163)"})},getComplexScorecardIcon:function(){return r("complexScorecardIcon","rf rf-complexscordcard")},getComplexScorecardIconStyle:function(){return r("complexScorecardIconStyle",{color:"rgb(31, 90, 163)"})},getScorecardLibIcon:function(){return r("scorecardLibIcon","rf rf-scorecard")},getScorecardLibIconStyle:function(){return r("scorecardLibIconStyle",{color:"rgb(31, 90, 163)"})},getFlowIcon:function(){return r("flowIcon","rf rf-flow")},getFlowIconStyle:function(){return r("flowIconStyle",{color:"rgb(31, 90, 163)"})},getFlowLibIcon:function(){return r("flowLibIcon","rf rf-flow")},getFlowLibIconStyle:function(){return r("flowLibIconStyle",{color:"rgb(31, 90, 163)"})},getFolderIcon:function(){return r("flowIcon","rf rf-folder")},getFolderIconStyle:function(){return r("flowIconStyle",{color:"rgb(224, 126, 1)"})}},t.default=i},function(e,t,n){var i=n(91);(e.exports=n(17)(!1)).push([e.i,'@font-face {font-family: "rf";\n  src: url('+i(n(95))+') format(\'truetype\');\n}\n\n.rf {\n  font-family: "rf" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.rf-fork:before {\n  content: "\\E600";\n}\n\n.rf-check:before {\n  content: "\\E625";\n}\n\n.rf-search:before {\n  content: "\\E623";\n}\n\n.rf-action-template:before {\n  content: "\\E62E";\n}\n\n.rf-table:before {\n  content: "\\E60B";\n}\n\n.rf-display:before {\n  content: "\\E624";\n}\n\n.rf-save:before {\n  content: "\\E609";\n}\n\n.rf-link:before {\n  content: "\\E628";\n}\n\n.rf-folder:before {\n  content: "\\E622";\n}\n\n.rf-library:before {\n  content: "\\E60D";\n}\n\n.rf-minus:before {\n  content: "\\E619";\n}\n\n.rf-plus:before {\n  content: "\\E60C";\n}\n\n.rf-code:before {\n  content: "\\E617";\n}\n\n.rf-scripttable:before {\n  content: "\\E618";\n}\n\n.rf-unlock:before {\n  content: "\\E6F3";\n}\n\n.rf-database:before {\n  content: "\\E60E";\n}\n\n.rf-paste:before {\n  content: "\\E629";\n}\n\n.rf-remove:before {\n  content: "\\E61A";\n}\n\n.rf-export:before {\n  content: "\\E61F";\n}\n\n.rf-start:before {\n  content: "\\E601";\n}\n\n.rf-rule:before {\n  content: "\\E602";\n}\n\n.rf-copy:before {\n  content: "\\E62A";\n}\n\n.rf-tree:before {\n  content: "\\E60F";\n}\n\n.rf-decision1:before {\n  content: "\\E603";\n}\n\n.rf-flow:before {\n  content: "\\E610";\n}\n\n.rf-list:before {\n  content: "\\E620";\n}\n\n.rf-root:before {\n  content: "\\E60A";\n}\n\n.rf-select:before {\n  content: "\\E615";\n}\n\n.rf-rename:before {\n  content: "\\E61C";\n}\n\n.rf-script:before {\n  content: "\\E604";\n}\n\n.rf-constant:before {\n  content: "\\E605";\n}\n\n.rf-package:before {\n  content: "\\E616";\n}\n\n.rf-savenewversion:before {\n  content: "\\E614";\n}\n\n.rf-createpro:before {\n  content: "\\E61D";\n}\n\n.rf-version:before {\n  content: "\\E61B";\n}\n\n.rf-type:before {\n  content: "\\E626";\n}\n\n.rf-action:before {\n  content: "\\E606";\n}\n\n.rf-authority:before {\n  content: "\\E621";\n}\n\n.rf-operation:before {\n  content: "\\E627";\n}\n\n.rf-join:before {\n  content: "\\E607";\n}\n\n.rf-import:before {\n  content: "\\E61E";\n}\n\n.rf-cut:before {\n  content: "\\E62B";\n}\n\n.rf-project:before {\n  content: "\\E611";\n}\n\n.rf-decision:before {\n  content: "\\E608";\n}\n\n.rf-variable:before {\n  content: "\\E612";\n}\n\n.rf-parameter:before {\n  content: "\\E613";\n}\n\n.rf-scorecard:before {\n  content: "\\E62C";\n}\n\n.rf-complexscordcard:before {\n  content: "\\E673";\n}\n\n.rf-lock:before {\n  content: "\\E62D";\n}\n\n.rf-crosstab:before {\n  content: "\\E6C4";\n}\n\n.rf-condition-template:before {\n  content: "\\E68E";\n}\n\n',""])},function(e,t){e.exports="data:font/ttf;base64,AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzI8ykkLAAABfAAAAFZjbWFwhaZDtwAAAqQAAARMZ2x5Ztdu87sAAAdcAAA0YGhlYWQXDbL9AAAA4AAAADZoaGVhCEEEowAAALwAAAAkaG10eNFC/+YAAAHUAAAA0GxvY2FPlULQAAAG8AAAAGptYXhwAZ0A8QAAARgAAAAgbmFtZYh7fNsAADu8AAACJXBvc3QOoDFYAAA95AAAAhsAAQAAA4D/gABcBQD/5//uBHsAAQAAAAAAAAAAAAAAAAAAADQAAQAAAAEAABbGtRVfDzz1AAsEAAAAAADZxjeaAAAAANnGN5r/5/8sBHsDoAAAAAgAAgAAAAAAAAABAAAANADlAF8AAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQQGAZAABQAIAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5gDm8wOA/4AAXAOgANQAAAABAAAAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAARAAAAEAAAABAEAAAQAAAAEAAAABAAAAAQA//8EAAAABQAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAD/5wQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAHYAAEAAAAAANIAAwABAAAALAADAAoAAAHYAAQApgAAAAwACAACAATmLuZz5o7mxObz//8AAOYA5nPmjubE5vP//wAAAAAAAAAAAAAAAQAMAGgAaABoAGgAAAABABQAFQAYAB4AHwAlACgALAAHABsABQAMAAoAEAAXABkAKwAtAC4AIQAcACAADQAOAAsAEgAjAB0AIgApABMAGgAmAAkAAwAGAAIAJAAnAAgAEQAWACoALwAxAAQAMAAzADIADwAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAACdAAAAAAAAAAzAADmAAAA5gAAAAABAADmAQAA5gEAAAAUAADmAgAA5gIAAAAVAADmAwAA5gMAAAAYAADmBAAA5gQAAAAeAADmBQAA5gUAAAAfAADmBgAA5gYAAAAlAADmBwAA5gcAAAAoAADmCAAA5ggAAAAsAADmCQAA5gkAAAAHAADmCgAA5goAAAAbAADmCwAA5gsAAAAFAADmDAAA5gwAAAAMAADmDQAA5g0AAAAKAADmDgAA5g4AAAAQAADmDwAA5g8AAAAXAADmEAAA5hAAAAAZAADmEQAA5hEAAAArAADmEgAA5hIAAAAtAADmEwAA5hMAAAAuAADmFAAA5hQAAAAhAADmFQAA5hUAAAAcAADmFgAA5hYAAAAgAADmFwAA5hcAAAANAADmGAAA5hgAAAAOAADmGQAA5hkAAAALAADmGgAA5hoAAAASAADmGwAA5hsAAAAjAADmHAAA5hwAAAAdAADmHQAA5h0AAAAiAADmHgAA5h4AAAApAADmHwAA5h8AAAATAADmIAAA5iAAAAAaAADmIQAA5iEAAAAmAADmIgAA5iIAAAAJAADmIwAA5iMAAAADAADmJAAA5iQAAAAGAADmJQAA5iUAAAACAADmJgAA5iYAAAAkAADmJwAA5icAAAAnAADmKAAA5igAAAAIAADmKQAA5ikAAAARAADmKgAA5ioAAAAWAADmKwAA5isAAAAqAADmLAAA5iwAAAAvAADmLQAA5i0AAAAxAADmLgAA5i4AAAAEAADmcwAA5nMAAAAwAADmjgAA5o4AAAAzAADmxAAA5sQAAAAyAADm8wAA5vMAAAAPAAAAAACMAUIBegIEAnQC3gNcA9gEKgRqBMIFJgV+BmAGygd2B8gIDAh6CMgJjgnmCmYK1AuaDCYM2g0qDbAOLg7YD5gQOBFeEcQScBK4Ex4UdhUAFTAWGhasF5AX5hhGGLYZCBmGGeYaMAAAAAQAAP+aA4UDZgBBAEoAUwBcAAAlNS4BJyImPQE+ATcuAScOAQceARcVFAYjDgEHFQ4BFR4BFz4BNy4BJzU+ATcyNjceATMeARcVDgEHHgEXPgE3NCYFIiY0NjIWFAYTMhYUBiImNDYBIiY0NjIWFAYDIwJgSB8pKzUBAlI+PlICATUrKR9IYAIrNgFSPj5SAgE1KwEpHyM/Fxc+JB8pASs1AQJSPj1TATb9vxQcHCkbG94VGxsqGxsBCBUbGykcHLVaSGACKh5KEEkwPlIBAVI+MEkQSR8qAmBIWhBJMD5SAQFSPjBJEFofKQEbGBgbASkfWhBJMD5SAQFSPjBJqRwpGxspHAMIHCkbGykc/PgcKRsbKRwAAABfAAD/NQPrAyAAAAABAAIAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAfACAAIQAiACMAJAAlACYAJwAoACkAKgArACwALQAuAC8AMAAxADIAMwA0ADUANgA3ADgAOQA6ADsAPAA9AD4APwBAAEEAQgBDAEQARQBGAEcASABJAEoASwBMAE0ATgBPAFAAUQBSAFMAVABVAFYAVwBYAFkAWgBbAFwAXQBvAAATOy0FHS0BMhYUBwEGIicBJjQ2Mh8BATYVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFhUVFvwVA4ASGQ3+AAwkDP8ADRkkDOIB4gwDIBUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWFRUWAxYZJAz+AA0NAQAMJBkN4gHiDQAAAgAA/ywD/QMsABEAHQAABQE+ATUuAScOAQceARcyNjcJAT4BNx4BFw4BBy4BA/z+8R4hBeSrrOQEBOSsOGktARH9IwOPbGuPAwOPa2yPTwEPL208q+UEBOWrq+UEHhv+7wJsbI8CAo9sa5ACApAAAAQAAP/TA74DPQAXAC4ARQBVAAABFzc2DwEXFgYnDwEOAS8CLgE/ASc0NgUXNzYfAhYGDwIOAS8BBwYmPwEnJgEXNzYPARcWBi8BBwYiLwImND8BNTYnFhQHAQYiJzEmNDcBNjIXAndniiIJKFsKDRCMTAgWBzOKEwIObwgZ/hZMSRICAk0IAwpUFwINCDlaDQYHMhwMAmgwRREGGCkEBwdFKQQLAxRCCgc5An4UFP6YFTcWFBQBaBU3FgMsRTYOJo1vDBcBBngNARCIIwUXC1d8Hg+BFjwPGV4xBhADHlgJBQhJBQEOCUpKJf4dJRYFEkM5BwoBATgGCEQWAwsFJz0dvBY3Ff6ZFRUVNxUBaBQUAAAAAAwAAP+VA9ECwwAPABYAGgAeACIAJgAqAC4ANQA5AD0ARwAAASEOAQcRHgEXIT4BNxEuAQERMxEjLgEFIzUzNSM1MzUjNTMTIzUzNSM1MzUjNTMTDgEHIzUzNSM1MzUjNTM1ITU+ATchHgEXAyj9sEheAgJeSAJQR18CAl/837MpO04BmsrKysrKyufKysrKysriAU86OsTExMTE/JwBTjsCUDpPAQLCAV9H/iNIXwEBX0gB3Udf/X0Blv3fAk5QsB6bHZv937Aemx2b/mo7TgKwHpsdmx4pOk4CAk46AAAABAAA/74D4ANCAA8AEwA1AEUAAAEhIgYVERQWMyEyNjURNCYDIREhNyEOAQcRHgEXIRUHDgEVFBYzITI2NTQmLwE1IT4BNxEuAQMUBiMhIiY1ETQ2MyEyFhUDSv1sDRERDQKUDRERDf1sApQ8/PQmMwEBMyYBLLsKDRENAhwNEQ0KuwEsJjMBATMIEQ389A0REQ0DDA0RAsoRDf5cDRERDQGkDRH+PgGklgEzJv2oJjMBJBkCEAsNERENCxACGSQBMyYCWCYz/U8NERENAlgNERENAAAIAAD/nQPeA0gADQAbAB8AIwAnADMAPwBLAAAFIS4BJxE+ATchFxEOAQEOAQcRHgEXIT4BNREnAyERIQEhESEBIzUzEyEuATQ2MyEyFhQGByEuATQ2MyEyFhQGByEiJjQ2NyEeARQGA6T8yRkgAQEgGQKe0gEg/LwJCgEBCgkDIQgLsxP94gIe/hMBvP5EAYkwMGn97ggLCwgCEgkKCgn97ggLCwgCEgkKCgn97ggLCwgCEgkKCmMBIBgDORggAcv9WRggA3kBCgn83wkKAQEKCQKMqf51Abz+dQFa/vD2/ckBDhEREREOZAEPERAQEQ9jDxEQAQEQEQ8AAAAEAAD/vAQAApwAHgAkAEsATwAABSEuASc+ATczFSMOAQceARchPgE3LgEnNx4BFw4BBxMyFxUnNRUOAQcjNTM+ATcuASchDgEHHgEXBy4BJz4BNyEeARcjFRcWFwYHJzcVJzUDAP7VbJEDA5Fsq6tIYAICYEgBK0hhAgEhHRM7RQEDkG0mAgMFEolgq6tIYQEBYUj+1UlgAgEhHhQ7RQEDkG0BK2GKEQcHAwEBBAYLBEQDkm9ukwNXAmJJSmIBAWJKKUUYWyN1SW+SAwGuAQICAQFcdwFWAmJJSmIBAWJKKUQYXCN1SW+SAwJ4XgMBExUXFwNXBQEEAAMAAP+sA8ECrQAXACEAMgAAFyImJxE+ATchHgEXFR4BMyEeARcRDgEjJRQWFyE+ATURISU2JichIiYvAS4BJyMOAR0BlCQwAQEwJAEHIS8EAhQPAVgkMAEBMCT9FBUPArcPFf0BAv8BEBX+uSEuBQEBFQ73DxVTMCQCViQwAQEqIQQPEgEwJP4bJDBkDxUBARUPAYFBERgBKCAIDhIBARQQdgAAAgAA/ywEQAMsACcALQAABTUjETM1IxUzESMRMzUjFTMRIxEzNSMVMxEjETM1IxUzESMVIxUhNQEzARUhNQQAQEDAQMBAwEDAQMBAwEDAQEBABED9wEACAPvAlEABgEBA/oABgEBA/oABgEBA/oABgEBA/oBAQEADwP7AQEAAAAADAAAAAALxAtsAGgA0ADkAAAEyMzYXFhcWFREUBwYHBiMhIicmNxEmNzY3MxMyMzI3PgE1ETQnLgEjISIHDgEVERQXHgEzAzQ1IRUBlYCAFxUqBAEHEy8JCf3/LxsRAQEOGCwQ+oCBBwgWGQEFIBf9+wcHFRoCBSAWAQIHAtoBChgwCAj+BxMSLQgCJRgeAgEbFyUD/WYBBSAXAgUHBxUaAgUgFv37BwcWGQEoGBgwAAMAAAAAAvkC3AAaADAAQwAAARQVFAcGBwYjISInJicmNREmNzYXITYXFh8BBRQVHgEzITI2NRE0Jy4BIyEiBw4BFQEUHQEUBisBNSM1Myc0FzMVMxUC+AoXMQgI/gcTEiwJAQEmGB0CAhsWJQMB/WUBIRsCBRsiAQUgF/37BwcVGgFYAgQr6+sBBizrAX+AgBcVKgQBBxMvCQkCAS8bEQEBDhgsEPmCgRsiIhsCBQcHFRoCBSAW/uYEAuEEAu0x5QYB6jEAAAAAAwAAAAAD8AI7ABIAJQA0AAAlIi8BJjQ/ATYeAQYPARceAQcGISInJjY/AScuAT4BHwEWFA8BBgUiJy4BNxM+AR4BBwMOAQEkCgnuEhLuDh0RBw63tw4HCAwBoxUMCAcOt7cOBxEdDu4SEu4J/qMGBg8OBZYGGx8NBJcEFH4FjwwqDI4IBxwdCW5uCR0OExMOHQlubgkdHAcIjgwqDI8FXQEGGxAByg8OChsQ/jYMDgAKAAD/sQPPA08ADwAfADQAPQBNAF0AbQB9AI0AnQAAAQ4BByMuASc1PgE3Mx4BFyMuASsBIgYdARQWFzM+ATclIiY9AT4BOwEyFhQGKwEOAR0BFAYHIiY0NjIWFAYFDgEHIy4BJzU+ATczHgEXIzQmKwEiBgcVHgEXMz4BNQEOAQcjLgEnNT4BNzMeARcjLgEnIw4BHQEUFjsBMjY3IQ4BByMuASc1PgE3Mx4BFyM0JicjDgEHFR4BOwEyNjUB6wE4KvQqNwEBNyr0KjgBOQEXEvQRGBgR9BIXAf7yBgkBIhxYBggIBlgREQgMBggIDAgIAyoBNyr0KjgBATgq9Co3ATkYEfQSFwEBFxL0ERj+VgE4KvQqNwEBNyr0KjgBOQEXEvQRGBgR9BIXAQIcATcq9Co4AQE4KvQqNwE5GBH0EhcBARcS9BEYAfgqOAEBOCr0KjcBATcqERgYEfQSFwEBFxJzCAYaHisIDAgBHBAaBggxCAwICAwIQio4AQE4KvQqNwEBNyoRGBgR9BIXAQEXEv4cKjcBATcq9Co4AQE4KhIXAQEXEvQRGBgRKjcBATcq9Co4AQE4KhIXAQEXEvQRGBgRAAMAAP+gA1cDYAAlADUARwAAATUxLgEnDgEHFRQWMjY9AT4BNx4BFxUhDgEHER4BFyE+ATcRLgEDFAYjISImNRE0NjMhMhYVBzU0JiIGHQEOARUUFjI2NTQmAxMGmXNzmgUUHRMFc1ZWdAT+Hx0nAQEnHQIkHScBASYeEw/+IA8TEw8B4A8T8BMeEw4QJTYlEAHFkHKWAwOXcwEPExMPAVVxAgJxVY4BJx3+ZR4mAQEmHgGbHSb+RA8TEw8BVw4UFA6dOA8TEw84CRwRHCQkHBEcAAAABf///5IDzQMsABcALQBDAFkAbwAAAS4CIg4BBwYVERQXHgIyPgE3NjURNCU+ATIWFx4BBxYGBw4BIiYnLgE3JjYBDgEiJicuATc1FhceATI2NzY3FRYGJw4BIiYnLgE3NRYXHgEyNjc2NxUWBicOASImJy4BNzUWFx4BMjY3NjcVFgYDnSaHq72rhyYwMCaHq72rhyYw/NpBo7ejQEQyAQEyRECjt6NBQzIBATICwUCjt6NBQzIBJkFDq72rQ0EmATJEQKO3o0FDMgEmQUOrvatDQSYBMkRAo7ejQUMyASZBQ6u9q0NBJgEyAtoZJRQUJRkgKP2aKB8ZJhMTJhkfKAJmKBoSExMSFCQKCSUTEhMTEhMlCQok/SoSEhISFCUJgxcSExQUExIXgwkluRITExIUJAqDGBISFBQSEhiDCiS5EhMTEhQkCoMYEhIUFBISGIMKJAAAAAAFAAD/oAPLA2AADQARAC0AMAA2AAABIzUuAScjDgEdASMVIScjNTMFNS4BKwEVMxUjBxUjETM1IyIGFREUFjMhFSERBRUjASERMzUhAp94ASIZeBoieAHgtHh4ASwBEQw8HrS08B48DRERDQEOAlj+XF8Bx/4gtAEsAug8GSIBASIZPHh4PPCWDRE8eLTwAhw8EQ39qA0RtAKUVV/+XAFotAAAAAMAAP8xBHsDJwALABcAIwAAEzYANxYAFwYAByYANx4BFz4BNy4BJw4BJQcnBxcHFzcXNyc3hQYBHtfXAR4GBv7i19f+4mAE5ays5QQE5ays5QIId3ddd4JdgoJdgncBLNcBHgYG/uLX1/7iBgYBHtes5QQE5ays5QQE5RdublJxd118fF13cQACAAD/XAPJAwEAIABBAAABLgEOARcTBREFFx4BPgEvASYnJSYGBxEWFxYzNyU+AScTJi8BJg4BFh8BDgEHBhYXFjMyNz4BNwcGFhcWMzY/ATYC5QQQEwgDcP1XAc8TBBISBgQXBQz+CQsQAQEIBwgFAt4LCgNmBQyiChAECgpaurseBAYJBQUOBxyytDEFBQkFBg0IUQUBaQkIBxEJ/seQAzxbKgkHCBEKNQoDYwIOC/yMCwgFAZsDEgoCZQoDIgIKExACEzm+SgkRBQINRbI0WwkSBQMBC5gKAAAAAwAA/6AD4ANgAA8AHwAxAAABLgEiDgIUHgIyNjc2EAMOASIuAjQ+AjIWFxYQASYnMSIGFREUFjsBNj8BNjQnA1NErsKuiUhIia7CrkWMxjmRoJFxPDxxkaGQOXT+WAwTERkZEAETDMIMDALTRUhIia7CrolISEWTAYD+Jjg8PHGRoJFxPDs5e/7CAX4OARkQ/nYQGQEOwgwiDAAABwAA/6sD4ANVAD8ARwBKAFgAfAB/AIcAAAE0JwM+ATUuAScjNS4BIgYHFSMOARUUFhcDBxUeARc+ATc1NC8BMxEjIgYUFhczPgE0JisBETMPARUeARc+ATcFLgEnMw4BByc3FwEOASsBIiY0NjsBMhYXAyIGFREjETQmIyEuATQ2MyEyNj0BNDYyFhcVFBYzITIWFAYHHwEjFy4BJzMOAQcD4AOBEBQBJx7rASxCKwHsHSgUEYYCAl1GRl0CA33KJSEsLCHkISwsISTLggICXUZGXQL85S1BCe4JQS1rbWoBZAESD+QOExMO5A8SAVwKDEMNCf7+Cw4OCwECCQ0THBMBDAoBAQsPDwsDatdrLUEJ7glBLQErBgUBBgkgFB0nAUkhKyshSQEnHRQhCf75BQVGXAICXEYBBgX9/hMsQisBAStCLAHt/wUFRlwCAlxGeAE3Kys3AY/W1v64DhMTHBMTDgJmDAr9/QIDCgwBDhYODQlfDhMTDl8JDQ4WDgFI1o8BNysrNwEAAAAABwAA/2AD0wOgAA0AEwAWABoAHgAxADQAABMOAQcRHgEXIT4BNxEnEyERIRUzJzUXBSEVIRUhFSEBIQ4BBxUzNSEVMxEjFTM+ATcRIzUXfCEsAQEsIQIfISwB6Zv94QE26Zt7/k4Bhf57AYX+ewIg/nwhLAFOATbpTU0hLAHpewK3ASwh/UUhLAEBLCECIOn89wK76U57e5xNTk4DVwEsIU5O6f4uTgEsIQIge3sAAAAFAAD/kAO+A2wATQBRAFUAWQBdAAAFIyImPQE0NjsBNSEVMzIWFxUOASsBIiY9ATQ2OwE1IRUzMhYXFQ4BKwEiJj0BNDYzESE1Iy4BPQE0NjMhMhYXFQ4BByMVIREyFhcVDgElFTM1ATUhFRMVMzUhIxUzA46MFBsbFF7+ty8UGgEBGhSNFBsbFC/+t14UGgEBGhSNFBsbFAF4jRQbGxQBSRQaAQEaFI0BeBMbAQEb/M6NAaf+t16NAUiMjG8aFF4UG+vrGxReFBoaFF4UG+vrGxReFBoaFF4UGwEavAEaFOsUGxsU6xQaAbz+5hsUXRQbjF5eAjTr6/3MXl5eAAAABf/n/3sEEgODABEAIAAoADUAPQAAASYEBwYSFxYENz4BNzYCJy4BBzISBw4BBwYmJyYCNz4BBwYHFwcXJwclBgcXAS4BDwE3JwEXBxYXNxc3JzcCAav+9DQvbop8ASqBU3gZKFR5RadYtfQLCYFoZNxbc1EsK9laFxZdLbAoLQF/WVkt/vARIQIhry0BECqzFBQtZC1jLQOAA9Ohnv7JXFIRTjGZX5MBJ2A3PWD+87RwuC0uEEFQAQyEfZWWFhdeLSiwLVoWFS7+8BcWJIonLQEQKnZYWC1jLWMuAAYAAP+oAyoDZgBJAFQAZABuAIAAgQAAAS4BJzEOAQcOAQcnLgEnNxY3PgE3LgEnDgEHFhcHJw4DFx4BFzM+ATc2NxcVFBYXByMOAQceARc+ATc0Jic3FjsBPgE3PgEnAR4BFAYiJjU+ATcDBisBIiYnNjc+ATceAgcTLgE0NjIWFAYHEw4BKwEuASc2Nz4BNzIWFxQHMQMnA0k3GS0QAgcCpgIWEEUMDzZHAQFHNjZHAQEiSBkYLSERAQRGMgUZLRALCJ4OCjsLNUcCAkc1NkcBGhYzExgFGS0QFBEC/qsXHh4tHwIfFIsPFwIXHQIBDQcTDhYdBhG5Fx4eLh4eF9EGEgsCFx0CAQwIEw4WHQIQAVU0QQECFBIEBgMQGCcOfgMBAUY0NkQBAUY0NSGDAwIVJC4YM0IBAhQSDA8NBhIjDmsCRjM2RQECRjQeMhBZCAIUEhIuGAHLAR4uHh4XFx4B/lMQHBcUEQgJAgEcLhD+eAEeLh4eLh4BAUIICwEcFhURCAkBHBYZDQAAAAcAAAAAA+AC0AAIABEAGgAqADoASgBaAAA3HgEUBiImNDYTHgEUBiImNDYTHgEUBiImNDYXIR4BFzEOAQchLgEnMT4BEyEeARcxDgEHIS4BJzE+ATchHgEXMQ4BByEuAScxPgETIR4BFzEOAQchLgEnMT4BaB8oKD4oKB8fKCg+KCgfHygoPigo9wJwFBsBARsU/ZAUGwEBGxQCcBQbAQEbFP2QFBsBARsUAnAUGwEBGxT9kBQbAQEbFAJwFBsBARsU/ZAUGwEBG8ABKD4oKD4oAQkBKD4oKD4oAQkBKD4oKD4oFwEbFBQbAQEbFBQb/vkBGxQUGwEBGxQUGwEBGxQUGwEBGxQUG/75ARsUFBsBARsUFBsAAAALAAD/wwO8AzwACAARABoAIwAsADUAQgBPAFwAbAB8AAABDgEUFjI2NCYHFAYiJjQ2MhYHDgEUFjI2NCYHFAYiJjQ2MhYHIgYUFjI2NCYHFAYiJjQ2MhYlFAYrASImNDY7ATIWNRQGKwEiJjQ2OwEyFhEUBgcjLgE0NjsBMhYTNCYjISIGBxEeARchPgE1Iw4BIyEiJjURNDYzITIWFwFaGyMjNSMjBgsSDAwSCxQbIyM1IyMGCxIMDBILFBsjIzUjIwYLEgwMEgsBdwwJ+ggMDAj6CQwMCfoIDAwI+gkMDAn6CAwMCPoJDNYjGv0DGiIBASIaAv0aIxsBEw79Aw4TEw4C/Q4TAQJdASM1IyM1Iz0JDAwSCwtxASM1IyM1Iz4IDAwRDAxxJDQkJDQkPgkMDBIMDJ4JDAwRDAyeCQwMEgwM/qoJCwEBCxIMDAIjGiMjGv0DGiIBASIaDhMTDgL9DhMTDgAAAAADAAD/gAQAA4AACwAXACkAABM2ADcWABcGAAcmACcWABc2ADcmACcGAAUmIg8BJyYiBhQfARYyNwE2NDMFAQTExAEEBQX+/MTE/vw4BQEh2toBIQUF/t/a2v7fAtsNIQ3rYQwiGAx+DSENAQcNAYDEAQQFBf78xMT+/AUFAQTE2v7fBQUBIdraASEFBf7fSAwM8WMNGiIMgQ0NAQ4NIgAABAAA/+YDmgMaABsALQA/AFAAAAEmIw4BBwEGBwYPAQYXFjMyPwE2NzY/ATY3NiYBPgE/ARYXNhYXHgEVFhcHDgE3LgEnLgEnARYXNhYXHgEHFhc3BgcuAScuASc3PgE3MhceAQNoKjEnMwn+CAUCCxoeBAsICgQEY1ciBgX50DEvAfz3DiMJBgUMAicZFg0BBgUbb68DFBUaLgwBugUMAicaFQ4BAQgpAwcDFBYbLwwNAyUbHx0iAQLyKAIgCf4FBQYpVmIPCwgBIB0KAgT4zjMxZv1LLnAeBgoCAQ8YFycCCAUFCSZTDikVGhUCAbwLAwEOGRcnAQoFKQMHDSoXGhUCDAQZAhwhPwAAAAYAAP+qA/0DVgAjAEEARQBJAE0AUQAAAQcOAQcGFR4DFxYOAg8BITc+ATc2Jy4DJzQ+Aj8BBSEGBwYVHgMXFg4CByE2NzYnLgM1NDY3NhcVITUFFSE1BxUhNQUVITUBSwlCXR08AU1cQgUCDCdJOXACtAg8UxozBwlRWzsBEzBVPm79YgGqOCI8AU1cQgUDDSZFNv5WLBszBwlSWjwTGC4RAU3+pwFYvAFN/uMBWQNVBSdJI0ZFQ2taVCQRJzI7IUEFI0IgQ0I/Y1lUKBQuOUMlQUYqKEZFQ2taVCQRJzE4ICMhQ0I/Y1lUKBQuHTcwICCuICCuISGvICAAAAcAAP/AA8ADQAAPAB8ALwA/AE8AXwBvAAABIT4BNxEuASchDgEHER4BEzQ2MyEyFhURFAYjISImNRMhPgE3ES4BJyEOAQcRHgEFIT4BNRE0JichDgEVERQWEzQ2MyEyFhURFAYjISImNRMhPgE1ETQmJyEOARURFBYTNDYzITIWFREUBiMhIiY1Ak8BOxceAQEeF/7FFx4BAR4HCQcBOwcJCQf+xQcJEAE7Fx4BAR4X/sUXHgEBHv4/ATwWHx8W/sQXHh4HCQcBPAcJCQf+xAcJEAE8Fh8fFv7EFx4eBwkHATwHCQkH/sQHCQGSAR4XAUEWHgEBHhb+vxceAXYHCQkH/r8HCQkH/fkBHhYBQhYeAQEeFv6+Fh4BAR4WAUIWHgEBHhb+vhYeAXYGCQkG/r4HCQkHAZ0BHhYBQhYeAQEeFv6+Fh4BdgcJCQf+vgYJCQYAAAAGAAAAAAPhAwMAHQAnAEIAUgBiAIAAACUQETYmJyYGIzYmJyYHDgEXJgcmBhcSAxQWMyEWNgE+ARcWFRciIzYBBiQnJjYnNhceATsBMjY3Mx4BOwEyNjc2FxYlDgErASImJzU+ATsBMhYXBTU0NjsBMhYXFQ4BKwEiJiUiIy4BKwEiBgcjLgErASIGByM3NDc2BDcWNhcWBgPeAhsZQIA/AgckhIUjBwJ7fBwfAgEBIRgDRxsi/aA/gD8GAYWEAQI32f5N2QQCAjQzByIXbRciB8YGIxdtFyEHMjIB/cYBEAxtDBABARAMbQwQAQEMEA1tDBABARAMbQ0QAS0yMQYjF20YIwbEBiMYbRgiB2YBAswBl8sOHgsDAUQBAQECGCoCAgEfRgsHCAxEHwEBASsb/vr++hghASgCqAIDBxARIiP9gAYBA1myWQEBFBobFRUbGhQBAbHGDBERDAMMEBAMAwMMEBAMAwwRESAWGxwWFhwbFlIqKQQDAgEBCydPAAAEAAD/wAPBA0EADwAfAC8AdwAAARQGIyEiJjUxNDYzITIWFRc0JiMhIgYVMRQWMyEyNjUVNCYjISIGFTEUFjMhMjY1NyIGHQEUBiMhIiY1ETQ2OwEVHgEXIQcGFBYyPwEyNjU0Ji8BJiIGFB8BIzAxISImPQEzFTM1NCYjIQ4BBxEeARchPgE3NTQmAsARD/6ADxERDwGADxFAEQ/+QA8REQ8BwA8REQ/+QA8REQ8BwA8RoA8REQ/9QA8REQ9gATcoAfNGChQZCoAEAggFgAoZEwlHDf4gDxGAwBEP/kAoNwEBNygCwCg3AREBYA8REQ8PEREPgA8REQ8PEREPgA8REQ8PEREPoBEPwA8REQ8CwA8R4Cg3AUYKGRQKgAkKBQ8GgAkTGQpNEQ/ggKAPEQE3KP1AKDcBATcowA8RAAAAAAkAAP/0A38DPAAlAFkAZwB4AIsAqQDHANEA2wAAJSEiJjURNDYzIRUUHgI7ARUnIyIGDwEjIgYUFjsBBwYdARQWFwEiBhURFBYzISYnJj0BIyImNDY7ATY/AQYjISImNDcxNjMhMhYUBwYHNjsBNSMiLgI9AQMiBzEGFBYzITI2NCYjEyIuAjQ+AjIeAhQOAgMiDgIUHgI+AzQnMS4CAyImNTcHIiY0NjM/ATQ2MhYVBzcyFhQGIw8BFAYjJwcUFjI2NT8BMjY0JiMHNzQmIzEiBhUPASIGFBYzEyMiJj0BMzIWFycVHgEzNzU0JiMCIf6KERgYEQF5CREaE38bDThdHATrEBYWENACARQS/pYHCgoHAUoMBwu1GiQkGt4fMQkICP7ZGiQSEhoBJxkkEgQFKS4QZxolFgrqEAsLFhABJw8WFg97JUQyHh4yRExDMx0dMkQnIDssGhosO0I6LRkNDC06JQ4WAT8PFRYPQAEWHhYBPhAVFg8/AhYPCwIHCwgCVwUIBwVXAQgFBQgCVwUIBwWLZR4pghEYAZUBGxRNCwcnGRECwBEZcg4gGhHkAzUuBhcgFg4FBQwjPhoC6QsH/UAHCxUYIicMJDQlLxwFAiU1EhIlNBIFAxCxFyInEVr+zwsLIRcXIRb+Ah80RU9GNB4eNUVPRTQfAWcaLjxGPC4bARouPEYeHi4a/s8VED4BFh4WAj8PFhUQPgEWHhYBQA8We1cFBwgFVwIICggCWAUHCAVXAggKCAHoKx5mGRESThUcAWwHCwAAAAMAAP/CA78DRQAqADkAPgAAATIzFxYXFhcWFxYfAR0BBgcGBwYHBgcGJicmJyYnJi8BPQE2NzY3Njc2NxMmNxM2JyYnJgcGBwYXEwcyMzUjAfAODig0MldETSMTBQECCBMwPF1PWjNoMVhDTSMUBAECEiZhP1A4O2EFARwBAhM4GRYYCwMBHQg+PXsDRAMGEiFBSmU3OhQcBSgmVEdYMy0JBgwTIEFKZTc6FRwFOjh6UzgcFAT9xgQGATgHBjYIAw4SHAgI/rx+WQAAAAcAAP+yA84DTQAaADQAOQBRAFYAcAB1AAATJjc+ATc2FzIXHgEdARQHDgEHBisBIiYnJjcBNCcuAScjIgcOAQcGFxUGFx4BFzMyNz4BNSciIzUzATQnLgErASIHDgEHBh0BHgEXFjc+ATc0ByIjNTMTNCcuAScjIgcOAQcGHQEUFx4BFzIzPgE3NAciIzUzNAEBASkefXwHBhwgAQQiFwgI7x0oBwIBAYoCBigd8QYHGyMBAQEBAgcoHPIJCBsgTXh58QJcBAkmG+8HBxsjAQECKSF5eiEqAU14efFNBAkmG+8HBxsjAQEBBCkfeXgiKgFNeXjxAoc/Ph4pAQEBAQcoHfAHCBciBAEgGwoK/uEICBsgAQEFKBo/PncKChsfAQIHJxwB8QIPDQwYGwEEJxs/P3ohKQEBAQEqIXl48f3yDAwYGwEBBScbPz52BwYeJAEBKiF6efEAAwAA/68D0gNTAAwAGAAlAAABBgAHFgAXNgA3JgAnES4BJz4BNx4BFw4BAzIzBg8BEyM2EjcHBgIAxv76BQUBBsbGAQcFBf75xrPrBQXssrLtBATti1NTEnqMM6cS9REYFgNSBf76xsb++QUFAQfGxgEGBfyKBOy1suwFBeyytewB2BmrxAEYGQFVGoFxAAAAAgAA/4ADuQOAACMAPQAAAQYmJy4BNy4BJw4BBxYGBw4BJw4BFx4BFx4BFz4BNz4BNzY0AQ4BBxEhJyY2NxY2Nz4BJz4BNzMRIQYHDgEDtwReJyQUAQSRYWCSBAEWIilcBAEECQhJXFOnBwSGRkp2FxT+8i5dF/6SAQcDAQNNIhwSAQN6TwcBXQQGEmICuwESHyVWBAETAgITAQRVJCETAga4bmjCTkBVAgJALC6TeYv//YIeLwoBpglbmQQBEBseRgQBDwL+WyclZHoABQAA/6MD3QNcAFsAZwBzAJMA5AAAAScmJzc2Ji8BLgEPASYvAS4BKwEiBg8BBgcnJgYPAQ4BHwEGDwEOAR0BFBYfARYXBwYUHwEeAT8CFhcVFx4BOwEyNj8BJzY3HwEWNj8BPgEvATY/AT4BPQE0JgEuASc+ATceARcOATcOAQcuASc+ATceAQEXFh8CFh8BBwYPAgYPAScmLwImLwE3Nj8CNj8BIwYPAQYHJyYiDwEGHwEGDwEGBxUWHwEWFwcGHwEWMj8CFhcHFxYXMzY/ASc2NxUXFjI/ATYvAjY/ATY3NSYvASYnNzYvASYiDwEmLwEmAwo3CxUiBgEHRQcTCCkmKwUCDgpiCg0CBSwmKAgTB0UHAQYiFgs1Cg0NCjcMFiQGB0YHEwgqAiQqBQEOCmIKDgEGASolASsIEghFBwEGJRYLOAoNDf6OVnMCAnNWV3MCAnMsAUo4N0oBAUo3OEoBFgwGBgoGBAEDAwIDBgsFBgwMBgYLBgMCAwMCAwYLBQcgKQkCAhMQEQMIAx4GBQ8JBRcJAQEJGAUJDwYGHgMIAxIBEBIBAwEJKgkBAwESEBMDCAMdBgUPAQkFGAkBAQkXBQkPBQYdBAgDERATAgECKQUrJSoIEghFBgEGIRYLNAoNDQo0CxciBgEHRQcTCCklLAUBDgphCg4BBSolKwgSCEQHAQYjAhYKAjcKDQ0KNwILFQEkBgEHRQcTCCslKgUBDgphCg7+7wJzVlZyAwNyVlZzyThJAQFJODdJAgJJ/l0DAQQGCwUGDAsGBgoGAwIDAwEEBgoFBwsMBQYLBgQBdAEJFgUKDwIDHQcHEhASAgIJKQkCAhIQEgcHHgMDDwEJBQEYCAEBCBgBBQkBDwIDHQcHEgEPEgICCSkJAgISEBIHBx0EAw4JBRYJAAAAAAQAAP+LA9YDhAA3AEAASgBUAAAlDgEHLgEnPgE3NiYnLgEnBicuATc+ARceAQcGBx4BFz4BNyYnJjY3NhYXFgYHBicOAQcOARceAScOARQWMjY0JgEmBgcGHgE+ASYlDgEeAT4BJy4BArYCZ01NZwIBSzwBChcZWDIvMEg+GR2DSUg+GREnF4AICIAXJxEZPkhJgx0ZPkgwLzJYGRcKATxLtSczM04zM/7mJEIPDB9JQhofAcIkHxpCSR8MD0JBTWcCAmdNQV8RFjIjJFsxChIbhUlIPRgchEkwHzOBFhaBMx8wSYQcGD1ISYUbEgoxWyQjMhYRXxoBM000NE0zAnsMHyQlQRsfSEIPD0JIHxtBJSQfAAIAAP/gA74DIAADABkAABchNSEBJwc0Nz4BNzY3JwQHBgcGBwYXJwcXQwLm/RoCZyusBgY0OX7zBv7zjjkiGgoHAaor8yA8ARgpqSc2PZtJmhg7G61HXUlUOCmnKu8AAAcAAAAAA8AC4QBTAGQAdQCBAI8AmACfAAAlHgEVFAYPASIGIiY1JQcjHgEVDgEHDgEjIi4CNz4BNz4BMzIWFzQ2PwEnLgEnBiMiJicuASc0PgIyFhceARcUBgczFyUyPwE2FhUXHgEUBgcFJS4BIwcGBwYWFx4BMzI3NiYDLgEjIgYHDgEXFjMyNjc+ATcBJwUVBxcwOwEXNycxND8BJwcUBhUwKwEHFxQGIiY0NjIWBSUHIwYVBQOzBQgKCUAFBAkI/qc6BgQCBTArIUYmIjcnFwQFMCshRiYTJhQHBUBGBAQFHTAiSCInLgUTJzdESSIrMAUCBAY6AVkFBAQFCEAJCggF/wD+hxgwGCIOChcWJxgwGCcTFxYBChwUGDAYJxYXEycYMBgnFrYBc0D+gFMGAQYZTUATBy0NBgEGBrMRHhERHhEBYP76VAMDASC6Bg8FCQwFIAYCBMAgDhsKJ0cYFBkTJzYdJ0cYFBkIBQUEBCYgAQcFExUYGEcnHTYnExUYGEcnChkKIMADAwECBSAFERMMBcbzDxEHAwkZQRkPERMZQf6mCQQSDhU/GRMRDxlBWQEgINo5LQYaLVMdCQcTDQQEBQZADxERHhER781HAQWmAAsAAP/AA/MDQQANAA4AHAAdADkASQBKAFQAVQBfAGAAAAEhIiY0NjMhMhYUBiM5ARUhIiY0NjMhMhYUBiM5ARcRLgEHISImNScmJy4BByEOARcRHgE3IT4BJzEnFAYHIS4BJxE+ATchHgEVEQEeATI2NCYiBgcxFR4BMjY0JiIGBzEDDf6yFRwcFQFOFRwcFf6yFRwcFQFOFRwcFeIEPAX+ehESDAwWGCkC/tE8GwIFOwQDYTMOAz4cFvz9FRwBARwVAwMWHP0iAR4sHh4sHgEBHiweHiweAQFzHCocHCocwxwqHBwqHKECbzYRAgsBFBMiIQgCBUcF/SVAEwQEQgUlFhwBARwWAgkWHAEBHBb99wFwFh4eLR0dF8MWHh4tHR0XAAAGAAD/fwOSA4gAFABEAHEAgQCFAJYAAAUuAS8BLgE+ATMhMh4BBg8BDgEHBjciKwEGLgInJicuAScmIyYnLgEnMDEmNjc+ARceARceAQcOAQcGBwYPAQYHDgEHJzsBMjY3Njc2PwE2PwE+ATc2JicuAScmBgcOARUUFhcWFx4BFx4BFxYXHgEfASMuASc1PgE7AR4BFxUWBicHFzcTLgE1LgEnIiY0NjceARcUBgH9FyUPRgkIBRALAQcLEAUICUMQJBQETxwXkA4eHREHBAUCBwMEBRwXLjIBAUBAQqdZUIkwLh4PDj4tCA0HBgsIBAYfI/RUmggGBwgNBwoTBAQHJjULDhonJ3NFS445NDgqJxMXAgUCBQwEDQgDBwL3zxofAQEhGM8aHwEBIRrMA8l5DhADdVgOEBAOcpcDEoABEQknBRMTCwsTEwUkCQ8DBP4BAhIaDA4EAwQCBhcXMoFGV5E3OTENDFVFQpFLO2kpCQYEBgsIDQ8hAz8FDQ8SCQgOAgQGIlcyPno2OUgKCysyK3hEOm0pFhEDAQIFCQUSEgcLA74BIRgJGSABIRcJGCFCAwYDAasBEA5TcQIRGxABA5RvDA8AAAADAAD/rwPSA1MACwAXADIAAAUmACc2ADcWABcGAAMOAQceARc+ATcuAQcWFyMuASMiBhQXFhc2NzMOASMiJyY0NzYzMgIAxv76BQUBBsbGAQYFBf76xqffBATfp6ffBATfIS0MTwcxKDE5HBozWAtODlpKWDEwLzJaSVAFAQfFxgEHBQX++cbF/vkDVgTfp6feBQXep6ff1iRHJyVJgiUkAQFXTUs6N7A4PQAACAAA/8ADwANAAA8AHwAjACcAKwAvADMANwAABSEuAScRPgE3IR4BFxEOAQEOAQcRHgEXIT4BNxEuAScHNSEVBTUhFQU1IRUFNSEVATMVIxUzFSMDCP3wTmcCAmdOAhBOZwICZ/2iPE8CAk88AhA8TwICTzz8ATf+yQE3/skBN/7JATf9ffj4+Pg/AmdOAhBOZwICZ0798E5nA1ICTzz98DxPAgJPPAIQPE8CuWNjl2Nj7GNjl2NjAnr4ifgAAAAABQAA/6AD4ANhABIAHgAqADcARAAAASIGBxEhESE+ATQmIyERIRE0JiUzMjY0JisBIgYUFgUhDgEUFjMhMjY0JgUeARchPgE0JiMhIgYBJgYHAQYeATY3ATYmA6QMEAH80wIpDBERDP2dA6EQ/R3pDBAQDOkMEBABL/7dDBAQDAEjDBAQ/rQBEAwCRQ0QEA39uwwQAyIJFwn+pAgCExcIAV0HAQH6EQz9/gMtARAZEPxfAjwMEQkRGBERGBF0ARAZEBAZEMsMEAEBEBkQEAKICAEK/moKFxACCQGXCRcAAAAGAAAAAAPgAu4ADwAZACMAJwArAC8AAAEhDgEHER4BFyE+ATcRLgEFITIWHQEhNTQ2ASEiJjURIREUBgEhFSEVIRUhJTMVIwOe/MQcJQEBJRwDOx0lAQEl/KgDOxEX/HYXA0z8xBAXA4oX/OQBlv5qATL+zgHZk5MC7QElHP2rHSUBASUdAlQdJRoXEZGRERf9XBYRAaL+XhEWAW1MRkzeTAAAAAUAAP+bA4oDbAAYACIAMwBGAE8AAAE1LgEnIw4BBxUjDgEHER4BFyE+ATcRLgElPgE3Mx4BFxUhAQ4BIyEiJicRPgE3ITEeARcFDgEHHgEXFRQWMjY9AT4BNy4BByImNDYyFhQGAxECeltvW3oCAzRFAQFFNAIeNEUBAUT93wJfR29HXwL+QQI3ASog/eIgKgEBKiACIB8pAf6oKTcBASggDhUOICgBATcqFRwcKxwcAgWPXHkCAnlbkAFFNP6KM0UBAUUzAXY0RJJHXwEBX0iP/hAgKisfAXYgKgECKSAiATkrJDUJbwoODgpvCTUkKzmaHy4fHy4fAAAAAAkAAP/gA9YDIAADAAcADgAVABkAHQAkACsAOwAAASE1IQc1IxUTFSE1LgEjISMiBgcVMxcVITUhIxUzFyEyNjc1IQc1IxUeATMDPgE3IR4BFxEOAQchLgEnAUYCZP2cK8XwAmQBJB39s4MdJAHFKwJk/XHFxSsCIh0kAf2cK8UBJB1uAT4vAtAvPgEBPi/9MC8+AQGWmZmZmQFdmVgcJSUcWPCZmZnEJRxYmZlYHCUCpS89AQE9L/2cLz0BAT0vAAQAAP+MA5MDewAPABcAHwAnAAABLgE+AhYXAR4BDgImJwEXDwEvAT8BARcPAS8BPwEBFw8BLwE/AQFACgUKFh4bCgG6CQYLFh4bCf4bZWUhImRkIgFVhoYtLIaGLAESZGQiIWVlIQG1Cx0cEwUKDP3uDB0cEgUKCwFxICFhYSEgYQGFKyuCgisrgv5FISBhYSAhYQAAABIA3gABAAAAAAAAABUAAAABAAAAAAABAAIAFQABAAAAAAACAAcAFwABAAAAAAADAAIAHgABAAAAAAAEAAIAIAABAAAAAAAFAAsAIgABAAAAAAAGAAIALQABAAAAAAAKACsALwABAAAAAAALABMAWgADAAEECQAAACoAbQADAAEECQABAAQAlwADAAEECQACAA4AmwADAAEECQADAAQAqQADAAEECQAEAAQArQADAAEECQAFABYAsQADAAEECQAGAAQAxwADAAEECQAKAFYAywADAAEECQALACYBIQpDcmVhdGVkIGJ5IGljb25mb250CnJmUmVndWxhcnJmcmZWZXJzaW9uIDEuMHJmR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20ACgBDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AAoAcgBmAFIAZQBnAHUAbABhAHIAcgBmAHIAZgBWAGUAcgBzAGkAbwBuACAAMQAuADAAcgBmAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQAEZm9yawVjaGVjawZzZWFyY2gPYWN0aW9uLXRlbXBsYXRlBXRhYmxlB2Rpc3BsYXkEc2F2ZQRsaW5rBmZvbGRlcgdsaWJyYXJ5BW1pbnVzBHBsdXMEY29kZQtzY3JpcHR0YWJsZQZ1bmxvY2sIZGF0YWJhc2UFcGFzdGUGcmVtb3ZlBmV4cG9ydAVzdGFydARydWxlBGNvcHkEdHJlZQlkZWNpc2lvbjEEZmxvdwRsaXN0BHJvb3QGc2VsZWN0BnJlbmFtZQZzY3JpcHQIY29uc3RhbnQHcGFja2FnZQ5zYXZlbmV3dmVyc2lvbgljcmVhdGVwcm8HdmVyc2lvbgR0eXBlBmFjdGlvbglhdXRob3JpdHkJb3BlcmF0aW9uBGpvaW4GaW1wb3J0A2N1dAdwcm9qZWN0CGRlY2lzaW9uCHZhcmlhYmxlCXBhcmFtZXRlcglzY29yZWNhcmQQY29tcGxleHNjb3JkY2FyZARsb2NrCGNyb3NzdGFiEmNvbmRpdGlvbi10ZW1wbGF0ZQAAAA=="},function(e,t,n){"use strict";(function(e){
/** @license React v0.12.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,i=!1,r=3,o=-1,a=-1,s=!1,l=!1;function c(){if(!s){var e=n.expirationTime;l?I():l=!0,M(d,e)}}function u(){var e=n,t=n.next;if(n===t)n=null;else{var i=n.previous;n=i.next=t,t.previous=i}e.next=e.previous=null,i=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=r,s=a;r=e,a=t;try{var l=i()}finally{r=o,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{i=null,e=n;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==n);null===i?i=n:i===n&&(n=l,c()),(t=i.previous).next=i.previous=l,l.next=i,l.previous=t}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{u()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():l=!1}}}function d(e){s=!0;var r=i;i=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{u()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{u()}while(null!==n&&!x())}finally{s=!1,i=r,null!==n?c():l=!1,f()}}var h,p,g=Date,y="function"==typeof setTimeout?setTimeout:void 0,m="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,v="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function A(e){h=b(function(t){m(p),e(t)}),p=y(function(){v(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return g.now()};var M,I,x,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var T=C._schedMock;M=T[0],I=T[1],x=T[2],t.unstable_now=T[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var N=null,D=function(e){if(null!==N)try{N(e)}finally{N=null}};M=function(e){null!==N?setTimeout(M,0,e):(N=e,setTimeout(D,0,!1))},I=function(){N=null},x=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var E=null,k=!1,_=-1,S=!1,j=!1,L=0,O=33,z=33;x=function(){return L<=t.unstable_now()};var B=new MessageChannel,R=B.port2;B.port1.onmessage=function(){k=!1;var e=E,n=_;E=null,_=-1;var i=t.unstable_now(),r=!1;if(0>=L-i){if(!(-1!==n&&n<=i))return S||(S=!0,A(P)),E=e,void(_=n);r=!0}if(null!==e){j=!0;try{e(r)}finally{j=!1}}};var P=function(e){if(null!==E){A(P);var t=e-L+z;t<z&&O<z?(8>t&&(t=8),z=t<O?O:t):O=t,L=e+z,k||(k=!0,R.postMessage(void 0))}else S=!1};M=function(e,t){E=e,_=t,j||0>t?R.postMessage(void 0):S||(S=!0,A(P))},I=function(){E=null,k=!1,_=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=r,a=o;r=e,o=t.unstable_now();try{return n()}finally{r=i,o=a,f()}},t.unstable_scheduleCallback=function(e,i){var a=-1!==o?o:t.unstable_now();if("object"==typeof i&&null!==i&&"number"==typeof i.timeout)i=a+i.timeout;else switch(r){case 1:i=a+-1;break;case 2:i=a+250;break;case 5:i=a+1073741823;break;case 4:i=a+1e4;break;default:i=a+5e3}if(e={callback:e,priorityLevel:r,expirationTime:i,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{a=null;var s=n;do{if(s.expirationTime>i){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,c()),(i=a.previous).next=a.previous=e,e.next=a,e.previous=i}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var i=e.previous;i.next=t,t.previous=i}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=r;return function(){var i=r,a=o;r=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{r=i,o=a,f()}}},t.unstable_getCurrentPriorityLevel=function(){return r},t.unstable_shouldYield=function(){return!i&&(null!==n&&n.expirationTime<a||x())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(98);var r=n(5),o=c(r),a=c(n(10)),s=c(n(100)),l=n(32);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=$(a.default.findDOMNode(this)),t=this.props,n=t.rowData,i=t.rowIndex,r=t.rowClick;e.click(function(e){r&&r(n,i,this),$(this).addClass("bg-warning").siblings().removeClass("bg-warning")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.headers,i=t.rowData,r=t.rowIndex,a=t.operations,c=t.select,u=t.menuOperation,f=[];if(n.forEach(function(e,t){f.push(o.default.createElement(s.default,{key:(0,l.uniqueID)(),onchange:function(t){i[e.name]=t},rowData:i,header:e}))}),a){u?f.push(o.default.createElement("td",{key:(0,l.uniqueID)(),style:{padding:"5px 5px"}},o.default.createElement("div",{className:"dropdown"},o.default.createElement("button",{key:(0,l.uniqueID)(),className:"btn btn-default dropdown-toggle",style:{border:"none",padding:"1px"},"data-toggle":"dropdown",href:"#"},o.default.createElement("i",{key:(0,l.uniqueID)(),className:"glyphicon glyphicon-align-justify",title:"操作菜单",style:{color:"#787878"}})),o.default.createElement("ul",{key:(0,l.uniqueID)(),className:"dropdown-menu",style:{left:"-170px"},role:"menu"},a.map(function(t,n){var a=t.label;return"change_kp_state"===a&&(a=i.check?"停用知识包":"启用知识包"),t.icon?o.default.createElement("li",{key:(0,l.uniqueID)()},o.default.createElement("a",{key:(0,l.uniqueID)(),href:"#",onClick:t.click.bind(e,r,i)},o.default.createElement("span",null,o.default.createElement("i",{key:(0,l.uniqueID)(),className:t.icon,title:a,style:t.style}),a))):o.default.createElement("li",{key:(0,l.uniqueID)()},o.default.createElement("a",{key:(0,l.uniqueID)(),href:"#",onClick:t.click.bind(e,r,i)},o.default.createElement("button",{key:(0,l.uniqueID)(),type:"button",className:"btn btn-link",style:{padding:"0px 1px"}},a)))}))))):f.push(o.default.createElement("td",{key:(0,l.uniqueID)(),style:{padding:"5px 5px"}},a.map(function(t,n){return t.icon?o.default.createElement("i",{key:(0,l.uniqueID)(),className:t.icon,title:t.label,style:t.style,onClick:t.click.bind(e,r,i)}):o.default.createElement("button",{key:(0,l.uniqueID)(),type:"button",className:"btn btn-link",style:{padding:"0px 1px"},onClick:t.click.bind(e,r,i)},t.label)})))}var d=c?"bg-warning":"";return o.default.createElement("tr",{style:{height:"26px"},className:d},f)}}]),t}();t.default=u},function(e,t,n){var i=n(99);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".content-tr:hover{\r\n    background: #fcf8e3;\r\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),a=f(o),s=f(n(10)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(51)),c=n(4),u=n(26);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"_storeData",value:function(){}},{key:"_showEditor",value:function(e){var t=this.props.rowData,n=$(s.default.findDOMNode(this));if(!this.cellEditor){switch(this.cellEditor=null,t._editorType){case"number":this.cellEditor=$('<input type="number" class="form-control" style="height:31px">');break;case"date":this.cellEditor=$('<input type="datetime-local" class="form-control" style="height:31px">');break;case"boolean":this.cellEditor=$('<select class="form-control" style="height:31px"><option value="true">true</option><option value="false" selected="selected">false</option></select>');break;case"list":this.cellEditor=$('<input type="text" class="form-control" style="height:31px" title="双击打开窗口编辑列表值">'),this.cellEditor.dblclick(function(){var i=t[e];i&&""!==i||(i="{}");var r=JSON.parse(i)||{},o=r.rows||[],a=r.type,s=function(i){var r={type:a,rows:i},o=JSON.stringify(r);t[e]=o,n.find("div").html(o)};if(a){var c=null,f=!0,d=!1,h=void 0;try{for(var p,g=simulatorCategoryData[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;if(a===y.clazz){c=y;break}}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}c||(c={variables:[{name:"value",label:a+"具体值"}]});var m=c.variables||[];l.eventEmitter.emit(l.SHOW_CHILD_LIST_DIALOG,{variables:m,rows:o,callback:s})}else{var b=window.simulatorCategoryData||[],v=$('<select class="form-control"></select>'),A=!0,w=!1,M=void 0;try{for(var I,x=b[Symbol.iterator]();!(A=(I=x.next()).done);A=!0){var C=I.value;v.append('<option value="'+C.clazz+'">'+C.name+"</option>")}}catch(e){w=!0,M=e}finally{try{!A&&x.return&&x.return()}finally{if(w)throw M}}v.append('<option value="Integer">Integer</option>'),v.append('<option value="Double">Double</option>'),v.append('<option value="Float">Float</option>'),v.append('<option value="String">String</option>'),v.append('<option value="" selected></option>'),u.MsgBox.dialog("选择子对象类型",v,function(){if((a=v.val())&&""!==a){var e=null;if("Integer"!==a&&"Double"!==a&&"String"!==a&&"Float"!==a){var t=!0,n=!1,i=void 0;try{for(var r,c=b[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var f=r.value;if(a===f.clazz){e=f;break}}}catch(e){n=!0,i=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw i}}}else e={variables:[{name:"value",label:a+"具体值"}]};var d=e.variables||[];l.eventEmitter.emit(l.SHOW_CHILD_LIST_DIALOG,{variables:d,rows:o,callback:s})}else u.MsgBox.alert("请先选择子对象类型!")})}});break;default:this.cellEditor=$('<input type="text" class="form-control" style="height:31px">')}n.append(this.cellEditor),this.cellEditor.blur(function(){var i=$(this).val();"datetime-local"===$(this).prop("type")&&(i=i.replace(/T/g," ")),t[e]=i;var r=n.find("div");r.html(t[e]),r.show(),$(this).hide()})}this.cellEditor.val(t[e]),this.cellEditor.show(),this.cellEditor.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.rowData,r=t.header,o=r.dateFormat,s=n[r.name];if(o){var u=new Date(s);s=(0,c.formatDate)(u,o)}s&&"object"===(void 0===s?"undefined":i(s))&&(s=JSON.stringify(s));var f={marginTop:"5px",minHeight:"26px",wordBreak:"break-all"};return"checkState"===r.name&&(f.color="启用"===s?"#4caf50":"#f44336"),a.default.createElement("td",{style:{padding:"1px 5px"}},a.default.createElement("div",{style:f,onClick:function(t){if(r.editable&&n._new){var i=t.target;$(i).css({display:"none"}),n._editorType?e._showEditor(r.name):l.eventEmitter.emit(l.SHOW_CELL_EDITOR,{targetDiv:i,rowData:n,colId:r.id})}}},s))}}]),t}();t.default=d},function(e,t){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(i).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery)},function(e,t){!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.4.0",n.TRANSITION_DURATION=150,n.prototype.close=function(t){var i=e(this),r=i.attr("data-target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),r="#"===r?[]:r;var o=e(document).find(r);function a(){o.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})}t.VERSION="3.4.0",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var i=e(t.target).closest(".btn");n.call(i,"toggle"),e(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})}t.VERSION="3.4.0",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(n,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(n,r),a=this.interval,s="next"==n?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(n),"object"==typeof o&&o.length&&o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([n,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(t){var i=e(this),r=i.attr("href");r&&(r=r.replace(/.*(?=#[^\s]+$)/,""));var o=i.attr("data-target")||r,a=e(document).find(o);if(a.hasClass("carousel")){var s=e.extend({},a.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),n.call(a,s),l&&a.data("bs.carousel").to(l),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(i)}function i(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||i.data("bs.collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.0",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(n=r.data("bs.collapse"))&&n.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),n||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=e.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,i){var r=e(i);this.addAriaAndCollapsedClass(n(r),r)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r=e(this);r.attr("data-target")||t.preventDefault();var o=n(r),a=o.data("bs.collapse")?"toggle":r.data();i.call(o,a)})}(jQuery)},function(e,t){!function(e){"use strict";var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',i=function(t){e(t).on("click.bs.dropdown",this.toggle)};function r(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(document).find(n);return i&&i.length?i:t.parent()}function o(i){i&&3===i.which||(e(t).remove(),e(n).each(function(){var t=e(this),n=r(t),o={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(n[0],i.target)||(n.trigger(i=e.Event("hide.bs.dropdown",o)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),n.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}i.VERSION="3.4.0",i.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var i=r(n),a=i.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var s={relatedTarget:this};if(i.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var o=r(i),a=o.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&o.find(n).trigger("focus"),i.trigger("click");var s=o.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(t.target);38==t.which&&l>0&&l--,40==t.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,i.prototype.toggle).on("keydown.bs.dropdown.data-api",n,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](i):a.show&&o.show(i)})}t.VERSION="3.4.0",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var i=this,r=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+n),e(this.fixedContent).each(function(t,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+n+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""})},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),r=i.attr("href"),o=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),a=e(document).find(o),s=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&t.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(a,s,this)})}(jQuery)},function(e,t){!function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.4.0",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(e(document).find(this.options.container)):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),f=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+d>p.bottom?"top":"top"==s&&u.top-d<p.top?"bottom":"right"==s&&u.right+f>p.width?"left":"left"==s&&u.left-f<p.left?"right":s,o.removeClass(h).addClass(s)}var g=this.getCalculatedOffset(s,u,f,d);this.applyPlacement(g,s);var y=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",y).emulateTransitionEnd(t.TRANSITION_DURATION):y()}},t.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var f=/top|bottom/.test(n),d=f?2*u.left-r+l:2*u.top-o+c,h=f?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(d,i[0][h],f)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){var i=this,r=e(this.$tip),o=e.Event("hide.bs."+this.type);function a(){"in"!=i.hoverState&&r.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}if(this.$element.trigger(o),!o.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,l,a)},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.tooltip",r=new t(this,o)),"string"==typeof n&&r[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery)},function(e,t){!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.0",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new t(this,o)),"string"==typeof n&&r[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery)},function(e,t){!function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t){this.element=e(t)};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new t(this)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.0",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(document).find(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},t.prototype.activate=function(n,i,r){var o=i.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i);var r=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=r.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.4.0",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&l+(s?a:t)>=e-i&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,n,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-n-o})}};var i=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(t,i)})})}(jQuery)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?r-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+f],f+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+f],f+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,f=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(t*l-1)*Math.pow(2,r),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*g}},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(15),t.createHash=t.Hash=n(20),t.createHmac=t.Hmac=n(60);var i=n(132),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return o};var a=n(63);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(134);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var l=n(151);t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var c=n(157);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n(191);var u=n(192);t.publicEncrypt=u.publicEncrypt,t.privateEncrypt=u.privateEncrypt,t.publicDecrypt=u.publicDecrypt,t.privateDecrypt=u.privateDecrypt;var f=n(195);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t){},function(e,t,n){"use strict";var i=n(1).Buffer,r=n(118);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,t.copy(n,r),s+=a.data.length,a=a.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(120),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,l=1,c={},u=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(r=f.documentElement,i=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[l]=r,i(l),l++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(8),n(11))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(8))},function(e,t,n){"use strict";e.exports=o;var i=n(57),r=n(21);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(0),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(36)},function(e,t,n){e.exports=n(13)},function(e,t,n){e.exports=n(35).Transform},function(e,t,n){e.exports=n(35).PassThrough},function(e,t,n){var i=n(0),r=n(16),o=n(1).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e){return e<<30|e>>>2}function u(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=i)<<5|t>>>27)+u(h,r,o,s)+l+n[d]+a[h];l=s,s=o,o=c(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},function(e,t,n){var i=n(0),r=n(16),o=n(1).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,r.call(this,64,56)}function c(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function f(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),g=c(i)+f(p,r,o,s)+l+n[h]+a[p]|0;l=s,s=o,o=u(r),r=i,i=g}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},function(e,t,n){var i=n(0),r=n(58),o=n(16),a=n(1).Buffer,s=new Array(64);function l(){this.init(),this._w=s,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=l},function(e,t,n){var i=n(0),r=n(59),o=n(16),a=n(1).Buffer,s=new Array(160);function l(){this.init(),this._w=s,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=l},function(e,t,n){"use strict";var i=n(0),r=n(1).Buffer,o=n(12),a=r.alloc(128),s=64;function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=r.concat([t,a],s));for(var n=this._ipad=r.allocUnsafe(s),i=this._opad=r.allocUnsafe(s),l=0;l<s;l++)n[l]=54^t[l],i[l]=92^t[l];this._hash=[n]}i(l,o),l.prototype._update=function(e){this._hash.push(e)},l.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=l},function(e,t,n){e.exports=n(62)},function(e,t,n){(function(t,i){var r,o=n(64),a=n(65),s=n(66),l=n(1).Buffer,c=t.crypto&&t.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(e,t,n,i,r){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:r}},e,i<<3)}).then(function(e){return l.from(e)})}e.exports=function(e,n,h,p,g,y){"function"==typeof g&&(y=g,g=void 0);var m=u[(g=g||"sha1").toLowerCase()];if(!m||"function"!=typeof t.Promise)return i.nextTick(function(){var t;try{t=s(e,n,h,p,g)}catch(e){return y(e)}y(null,t)});if(o(e,n,h,p),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");l.isBuffer(e)||(e=l.from(e,a)),l.isBuffer(n)||(n=l.from(n,a)),function(e,t){e.then(function(e){i.nextTick(function(){t(null,e)})},function(e){i.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var n=d(r=r||l.alloc(8),r,10,128,e).then(function(){return!0}).catch(function(){return!1});return f[e]=n,n}(m).then(function(t){return t?d(e,n,h,p,m):s(e,n,h,p,g)}),y)}}).call(this,n(8),n(11))},function(e,t,n){var i=n(135),r=n(41),o=n(42),a=n(150),s=n(29);function l(e,t,n){if(e=e.toLowerCase(),o[e])return r.createCipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),o[e])return r.createDecipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return l(e,r.key,r.iv)},t.createCipheriv=t.Cipheriv=l,t.createDecipher=t.Decipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return c(e,r.key,r.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(r.getCiphers())}},function(e,t,n){var i=n(12),r=n(40),o=n(0),a=n(1).Buffer,s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(e){i.call(this);var t,n=e.mode.toLowerCase(),r=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var l=e.iv;a.isBuffer(l)||(l=a.from(l)),this._des=r.create({key:o,iv:l,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=l,o(l,i),l.prototype._update=function(e){return a.from(this._des.update(e))},l.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,i){for(var r=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},t.rip=function(e,t,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)r<<=1,r|=t>>>s+a&1,r<<=1,r|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.pc1=function(e,t,n,i){for(var r=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,r){for(var o=0,a=0,s=i.length>>>1,l=0;l<s;l++)o<<=1,o|=e>>>i[l]&1;for(l=s;l<i.length;l++)a<<=1,a|=t>>>i[l]&1;n[r+0]=o>>>0,n[r+1]=a>>>0},t.expand=function(e,t,n){var i=0,r=0;i=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(o=11;o>=3;o-=4)r|=e>>>o&63,r<<=6;r|=(31&e)<<1|e>>>31,t[n+0]=i>>>0,t[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var r=[],o=0;o<t;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},function(e,t,n){"use strict";var i=n(6);function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,r,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),n+=this._flushBuffer(r,n);return t+=this._buffer(e,t),r},r.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";var i=n(6),r=n(0),o=n(40),a=o.utils,s=o.Cipher;function l(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new l;this._desState=t,this.deriveKeys(t,e.key)}r(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var n=a.readUInt32BE(t,0),r=a.readUInt32BE(t,4);a.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=u[o>>>1];n=a.r28shl(n,s),r=a.r28shl(r,s),a.pc2(n,r,e.keys,o)}},c.prototype._update=function(e,t,n,i){var r=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,r.tmp,0),o=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,s,r.tmp,0):this._decrypt(r,o,s,r.tmp,0),o=r.tmp[0],s=r.tmp[1],a.writeUInt32BE(n,o,i),a.writeUInt32BE(n,s,i+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,i=t;i<e.length;i++)e[i]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)i.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,i,r){for(var o=t,s=n,l=0;l<e.keys.length;l+=2){var c=e.keys[l],u=e.keys[l+1];a.expand(s,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var f=a.substitute(c,u),d=s;s=(o^a.permute(f))>>>0,o=d}a.rip(s,o,i,r)},c.prototype._decrypt=function(e,t,n,i,r){for(var o=n,s=t,l=e.keys.length-2;l>=0;l-=2){var c=e.keys[l],u=e.keys[l+1];a.expand(o,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var f=a.substitute(c,u),d=o;o=(s^a.permute(f))>>>0,s=d}a.rip(o,s,i,r)}},function(e,t,n){"use strict";var i=n(6),r=n(0),o={};function a(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var n=Object.keys(o),i=0;i<n.length;i++){var a=n[i];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,i);for(s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{o._update.call(this,e,t,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var i=n(6),r=n(0),o=n(40),a=o.Cipher,s=o.DES;function l(e,t){i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:r}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:n})]}function c(e){a.call(this,e);var t=new l(this.type,this.options.key);this._edeState=t}r(c,a),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,i){var r=this._edeState;r.ciphers[0]._update(e,t,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(e,t,n){var i=n(42),r=n(70),o=n(1).Buffer,a=n(71),s=n(12),l=n(28),c=n(29);function u(e,t,n){s.call(this),this._cache=new d,this._cipher=new l.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(0)(u,s),u.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return o.concat(i)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var s=i[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new r(s.module,t,n):new u(s.module,t,n)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return h(e,r.key,r.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var i=n(22);t.encrypt=function(e,t){var n=i(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return i(r,n)}},function(e,t,n){var i=n(1).Buffer,r=n(22);function o(e,t,n){var o=t.length,a=r(t,e._cache);return e._cache=e._cache.slice(o),e._prev=i.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var r,a=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){a=i.concat([a,o(e,t,n)]);break}r=e._cache.length,a=i.concat([a,o(e,t.slice(0,r),n)]),t=t.slice(r)}return a}},function(e,t,n){var i=n(1).Buffer;function r(e,t,n){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:r])]),r}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},function(e,t,n){var i=n(1).Buffer;function r(e,t,n){for(var i,r,a=-1,s=0;++a<8;)i=t&1<<7-a?128:0,s+=(128&(r=e._cipher.encryptBlock(e._prev)[0]^i))>>a%8,e._prev=o(e._prev,n?i:r);return s}function o(e,t){var n=e.length,r=-1,o=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++r<n;)o[r]=e[r]<<1|e[r+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},function(e,t,n){(function(e){var i=n(22);function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(this,n(3).Buffer)},function(e,t,n){var i=n(1).Buffer,r=i.alloc(16,0);function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],r=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=o(r)},a.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var i=n(70),r=n(1).Buffer,o=n(42),a=n(71),s=n(12),l=n(28),c=n(29);function u(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new l.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=r.allocUnsafe(0)}function d(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=r.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new i(s.module,t,n,!0):new u(s.module,t,n)}n(0)(u,s),u.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return r.concat(i)},u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=r.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return d(e,i.key,i.iv)},t.createDecipheriv=d},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var i=n(72),r=n(155),o=n(156);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(r[t].prime,"hex"),i=new e(r[t].gen,"hex");return new o(n,i)},t.createDiffieHellman=t.DiffieHellman=function t(n,r,s,l){return e.isBuffer(r)||void 0===a[r]?t(n,"binary",r,s):(r=r||"binary",l=l||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,l)),"number"==typeof n?new o(i(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,r)),new o(n,s,!0)))}}).call(this,n(3).Buffer)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var i=n(2),r=new(n(73)),o=new i(24),a=new i(11),s=new i(10),l=new i(3),c=new i(7),u=n(72),f=n(15);function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new i(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new i(e),this}e.exports=g;var p={};function g(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function y(e,n){var i=new t(e.toArray());return n?i.toString(n):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),i=[n,e.toString(16)].join("_");if(i in p)return p[i];var f,d=0;if(e.isEven()||!u.simpleSieve||!u.fermatTest(e)||!r.test(e))return d+=1,d+="02"===n||"05"===n?8:4,p[i]=d,d;switch(r.test(e.shrn(1))||(d+=2),n){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(l)&&f.cmp(c)&&(d+=8);break;default:d+=4}return p[i]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var n=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new t(n.toArray()),o=this.getPrime();if(r.length<o.length){var a=new t(o.length-r.length);a.fill(0),r=t.concat([a,r])}return r},g.prototype.getPublicKey=function(e){return y(this._pub,e)},g.prototype.getPrivateKey=function(e){return y(this._priv,e)},g.prototype.getPrime=function(e){return y(this.__prime,e)},g.prototype.getGenerator=function(e){return y(this._gen,e)},g.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new i(e),this}}).call(this,n(3).Buffer)},function(e,t,n){(function(t){var i=n(20),r=n(34),o=n(0),a=n(158),s=n(190),l=n(62);function c(e){r.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){r.Writable.call(this);var t=l[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new c(e)}function d(e){return new u(e)}Object.keys(l).forEach(function(e){l[e].id=new t(l[e].id,"hex"),l[e.toLowerCase()]=l[e]}),o(c,r.Writable),c.prototype._write=function(e,t,n){this._hash.update(e),n()},c.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=a(n,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},o(u,r.Writable),u.prototype._write=function(e,t,n){this._hash.update(e),n()},u.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},u.prototype.verify=function(e,n,i){"string"==typeof n&&(n=new t(n,i)),this.end();var r=this._hash.digest();return s(n,r,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}}).call(this,n(3).Buffer)},function(e,t,n){(function(t){var i=n(60),r=n(44),o=n(45).ec,a=n(2),s=n(31),l=n(83);function c(e,n,r,o){if((e=new t(e.toArray())).length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=r.length,l=function(e,n){e=(e=u(e,n)).mod(n);var i=new t(e.toArray());if(i.length<n.byteLength()){var r=new t(n.byteLength()-i.length);r.fill(0),i=t.concat([r,i])}return i}(r,n),c=new t(s);c.fill(1);var f=new t(s);return f.fill(0),f=i(o,f).update(c).update(new t([0])).update(e).update(l).digest(),c=i(o,f).update(c).digest(),{k:f=i(o,f).update(c).update(new t([1])).update(e).update(l).digest(),v:c=i(o,f).update(c).digest()}}function u(e,t){var n=new a(e),i=(e.length<<3)-t.bitLength();return i>0&&n.ishrn(i),n}function f(e,n,r){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)n.v=i(r,n.k).update(n.v).digest(),o=t.concat([o,n.v]);a=u(o,e),n.k=i(r,n.k).update(n.v).update(new t([0])).digest(),n.v=i(r,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,n,i){return e.toRed(a.mont(n)).redPow(t).fromRed().mod(i)}e.exports=function(e,n,i,h,p){var g=s(n);if(g.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,n){var i=l[n.curve.join(".")];if(!i)throw new Error("unknown curve "+n.curve.join("."));var r=new o(i).keyFromPrivate(n.privateKey).sign(e);return new t(r.toDER())}(e,g)}if("dsa"===g.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,n,i){var r,o=n.params.priv_key,s=n.params.p,l=n.params.q,h=n.params.g,p=new a(0),g=u(e,l).mod(l),y=!1,m=c(o,l,e,i);for(;!1===y;)r=f(l,m,i),p=d(h,r,s,l),0===(y=r.invm(l).imul(g.add(o.mul(p))).mod(l)).cmpn(0)&&(y=!1,p=new a(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e));128&n[0]&&(n=[0].concat(n));var i=[48,e.length+n.length+4,2,e.length];return i=i.concat(e,[2,n.length],n),new t(i)}(p,y)}(e,g,i)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var y=g.modulus.byteLength(),m=[0,1];e.length+m.length+1<y;)m.push(255);m.push(0);for(var b=-1;++b<e.length;)m.push(e[b]);return r(m,g)},e.exports.getKey=c,e.exports.makeKey=f}).call(this,n(3).Buffer)},function(e){e.exports=JSON.parse('{"_from":"elliptic@^6.0.0","_id":"elliptic@6.5.0","_inBundle":false,"_integrity":"sha512-eFOJTMyCYb7xtE/caJ6JJu+bhi67WCYNbkGSknu20pmM8Ke/bqOfdnZWxyoGN26JgfxTbXrsCkEw4KheCT/KGg==","_location":"/webpack/elliptic","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"elliptic@^6.0.0","name":"elliptic","escapedName":"elliptic","rawSpec":"^6.0.0","saveSpec":null,"fetchSpec":"^6.0.0"},"_requiredBy":["/webpack/browserify-sign","/webpack/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.0.tgz","_shasum":"2b8ed4c891b7de3200e14412a5b8248c7af505ca","_spec":"elliptic@^6.0.0","_where":"C:\\\\Users\\\\Jacky\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\webpack\\\\node_modules\\\\browserify-sign","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"bundleDependencies":false,"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},"deprecated":false,"description":"EC cryptography","devDependencies":{"brfs":"^1.4.3","coveralls":"^2.11.3","grunt":"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2","istanbul":"^0.4.2","jscs":"^2.9.0","jshint":"^2.6.0","mocha":"^2.1.0"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.0"}')},function(e,t,n){"use strict";var i=n(7),r=n(2),o=n(0),a=n(30),s=i.assert;function l(e){a.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,i){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(t,16),this.y=new r(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,n,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(t,16),this.y=new r(n,16),this.z=new r(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,a),e.exports=l,l.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new r(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)n=new r(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new r(e.a,16),b:new r(e.b,16)}}):this._getEndoBasis(n)}}},l.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:r.mont(e),n=new r(2).toRed(t).redInvm(),i=n.redNeg(),o=new r(3).toRed(t).redNeg().redSqrt().redMul(n);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},l.prototype._getEndoBasis=function(e){for(var t,n,i,o,a,s,l,c,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new r(1),g=new r(0),y=new r(0),m=new r(1),b=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),u=y.sub(v.mul(p));var A=m.sub(v.mul(g));if(!i&&c.cmp(f)<0)t=l.neg(),n=p,i=c.neg(),o=u;else if(i&&2==++b)break;l=c,h=d,d=c,y=p,p=u,m=g,g=A}a=c.neg(),s=u;var w=i.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),i.negative&&(i=i.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:o},{a:a,b:s}]},l.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],r=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=r.mul(n.a),s=o.mul(i.a),l=r.mul(n.b),c=o.mul(i.b);return{k1:e.sub(a).sub(s),k2:l.add(c).neg()}},l.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},l.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},l.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],l=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[2*o]=s,i[2*o+1]=l,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,i,r,2*o,n),u=0;u<2*o;u++)i[u]=null,r[u]=null;return c},o(c,a.BasePoint),l.prototype.point=function(e,t,n){return new c(this,e,t,n)},l.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function r(t){return e.point(t[0],t[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=r.redSqr().redISub(this.x.redAdd(this.x)),a=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new r(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},c.prototype.jmulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(u,a.BasePoint),l.prototype.jpoint=function(e,t,n){return new u(this,e,t,n)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),r=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=i.redSub(r),l=o.redSub(a);if(0===s.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=i.redMul(c),d=l.redSqr().redIAdd(u).redISub(f).redISub(f),h=l.redMul(f.redISub(d)).redISub(o.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),r=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),s=r.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),u=n.redMul(l),f=s.redSqr().redIAdd(c).redISub(u).redISub(u),d=s.redMul(u.redISub(f)).redISub(r.redMul(c)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,l=s.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<e;n++){var u=o.redSqr(),f=c.redSqr(),d=f.redSqr(),h=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(l)),p=o.redMul(f),g=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=h.redMul(y);m=m.redIAdd(m).redISub(d);var b=c.redMul(s);n+1<e&&(l=l.redMul(d)),o=g,s=b,c=m}return this.curve.jpoint(o,c.redMul(r),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),l=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=s.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(u).redISub(d);h=h.redIAdd(h);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=g.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},u.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=s.redSqr().redISub(a).redISub(a);e=l;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(u).redMul(this.x.redAdd(u));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(u);var y=f.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,n)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(r)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(a),u=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(u),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(i);return this.curve.jpoint(u,h,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),r=e.redAdd(e).redIAdd(e),o=r.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),l=i.redIAdd(i);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=r.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(l),u=t.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var f=this.x.redMul(s).redISub(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(c.redMul(l.redISub(c)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},u.prototype.mul=function(e,t){return e=new r(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),r=n.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(30),a=n(7);function s(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},r(l,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new l(this,e,t)},s.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(e,t){return new l(e,t[0],t[1]||e.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),i=e.redMul(t),r=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=r.redMul(i),s=t.z.redMul(o.redAdd(a).redSqr()),l=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,l)},l.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),r=[];0!==t.cmpn(0);t.iushrn(1))r.push(t.andln(1));for(var o=r.length-1;o>=0;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var i=n(7),r=n(2),o=n(0),a=n(30),s=i.assert;function l(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new r(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,i,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(t,16),this.y=new r(n,16),this.z=i?new r(i,16):this.curve.one,this.t=o&&new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,a),e.exports=l,l.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},l.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},l.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)},l.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var l=s.fromRed().isOdd();return(t&&!l||!t&&l)&&(s=s.redNeg()),this.point(e,s)},l.prototype.pointFromY=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},l.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===i.cmp(r)},o(c,a.BasePoint),l.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},l.prototype.point=function(e,t,n,i){return new c(this,e,t,n,i)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),a=o.redSub(n),s=i.redSub(t),l=r.redMul(a),c=o.redMul(s),u=r.redMul(s),f=a.redMul(o);return this.curve.point(l,c,f,u)},c.prototype._projDbl=function(){var e,t,n,i=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(r)).redAdd(o);if(this.zOne)e=i.redSub(r).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),l=a.redSub(s).redISub(s);e=i.redSub(r).redISub(o).redMul(l),t=a.redMul(c.redSub(o)),n=a.redMul(l)}}else{var c=r.redAdd(o);s=this.curve._mulC(this.z).redSqr(),l=c.redSub(s).redSub(s);e=this.curve._mulC(i.redISub(c)).redMul(l),t=this.curve._mulC(c).redMul(r.redISub(o)),n=c.redMul(l)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=r.redSub(i),s=r.redAdd(i),l=n.redAdd(t),c=o.redMul(a),u=s.redMul(l),f=o.redMul(l),d=a.redMul(s);return this.curve.point(c,u,d,f)},c.prototype._projAdd=function(e){var t,n,i=this.z.redMul(e.z),r=i.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),l=r.redSub(s),c=r.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=i.redMul(l).redMul(u);return this.curve.twisted?(t=i.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=l.redMul(c)):(t=i.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(l).redMul(c)),this.curve.point(f,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(e,t,n){"use strict";t.sha1=n(164),t.sha224=n(165),t.sha256=n(77),t.sha384=n(166),t.sha512=n(78)},function(e,t,n){"use strict";var i=n(9),r=n(23),o=n(76),a=i.rotl32,s=i.sum32,l=i.sum32_5,c=o.ft_1,u=r.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,u),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=a(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],o=this.h[1],u=this.h[2],d=this.h[3],h=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),g=l(a(r,5),c(p,o,u,d),h,n[i],f[p]);h=d,d=u,u=a(o,30),o=r,r=g}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";var i=n(9),r=n(77);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var i=n(9),r=n(78);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var i=n(9),r=n(23),o=i.rotl32,a=i.sum32,s=i.sum32_3,l=i.sum32_4,c=r.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,i){return e<=15?t^n^i:e<=31?t&n|~t&i:e<=47?(t|~n)^i:e<=63?t&i|n&~i:t^(n|~i)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(u,c),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],r=this.h[2],c=this.h[3],u=this.h[4],b=n,v=i,A=r,w=c,M=u,I=0;I<80;I++){var x=a(o(l(n,f(I,i,r,c),e[p[I]+t],d(I)),y[I]),u);n=u,u=c,c=o(r,10),r=i,i=x,x=a(o(l(b,f(79-I,v,A,w),e[g[I]+t],h(I)),m[I]),M),b=M,M=w,w=o(A,10),A=v,v=x}x=s(this.h[1],r,w),this.h[1]=s(this.h[2],c,M),this.h[2]=s(this.h[3],u,b),this.h[3]=s(this.h[4],n,v),this.h[4]=s(this.h[0],i,A),this.h[0]=x},u.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var i=n(9),r=n(6);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var i=n(2),r=n(171),o=n(7),a=n(46),s=n(43),l=o.assert,c=n(172),u=n(173);function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(l(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new c(this,e)},f.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new i(2));;){var a=new i(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),l=e.toArray("be",a),c=new r({hash:this.hash,entropy:s,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new i(1)),d=0;;d++){var h=o.k?o.k(d):new i(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var g=p.getX(),y=g.umod(this.n);if(0!==y.cmpn(0)){var m=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(y)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),b^=1),new u({r:y,s:m,recoveryParam:b})}}}}}},f.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r);var o=(t=new u(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,l=a.invm(this.n),c=l.mul(e).umod(this.n),f=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,r){l((3&n)===n,"The recovery param is more than two bits"),t=new u(t,r);var o=this.n,a=new i(e),s=t.r,c=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),g=c.mul(h).umod(o);return this.g.mulAdd(p,s,g)},f.prototype.getKeyRecoveryParam=function(e,t,n,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(e,t,r)}catch(e){continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var i=n(47),r=n(74),o=n(6);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),n=r.toArray(e.nonce,e.nonceEnc||"hex"),i=r.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}e.exports=a,a.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,i){"string"!=typeof t&&(i=n,n=t,t=null),e=r.toArray(e,t),n=r.toArray(n,i),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=n,n=t,t=null),n&&(n=r.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,r.encode(a,t)}},function(e,t,n){"use strict";var i=n(2),r=n(7).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?r(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var i=n(2),r=n(7),o=r.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function l(e,t){var n=e[t.place++];if(!(128&n))return n;for(var i=15&n,r=0,o=0,a=t.place;o<i;o++,a++)r<<=8,r|=e[a];return t.place=a,r}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=r.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(l(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=l(e,n),a=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var c=l(e,n);if(e.length!==c+n.place)return!1;var u=e.slice(n.place,c+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new i(a),this.s=new i(u),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,n.length);var o=i.concat(n),a=[48];return u(a,o.length),a=a.concat(o),r.encode(a,e)}},function(e,t,n){"use strict";var i=n(47),r=n(46),o=n(7),a=o.assert,s=o.parseBytes,l=n(175),c=n(176);function u(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=r[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),r=this.g.mul(i),o=this.encodePoint(r),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),l=i.add(a).umod(this.curve.n);return this.makeSignature({R:r,S:l,Rencoded:o})},u.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),r=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(r)).eq(o)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return l.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return l.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),r=o.intFromLE(n);return this.curve.pointFromY(r,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return o.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var i=n(7),r=i.assert,o=i.parseBytes,a=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var i=n(2),r=n(7),o=r.assert,a=r.cachedProperty,s=r.parseBytes;function l(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},function(e,t,n){"use strict";var i=n(24);t.certificate=n(187);var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=r;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=l;var c=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=c;var u=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=u,t.DSAparam=i.define("DSAparam",function(){this.int()});var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var d=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){var i=n(24),r=n(0);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=n(179).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return r(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,i=n.eval,r=n.execScript;!i&&r&&(r.call(n,"null"),i=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var o=Object_keys(n),a=i.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t,n){var i=n(0);function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=r,r.prototype.isError=function(e){return e instanceof o},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,i=e instanceof o;if(t=i?e:new o(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){var i=n(25).Reporter,r=n(25).EncoderBuffer,o=n(25).DecoderBuffer,a=n(6),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){var e=this._baseState;l.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},c.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var i=e[n];t[i]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){c.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}}),c.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},c.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var i,r=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var l=null;if(null!==n.explicit?l=n.explicit:null!==n.implicit?l=n.implicit:null!==n.tag&&(l=n.tag),null!==l||n.any){if(a=this._peekTag(e,l,n.any),e.isError(a))return a}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(c)}}if(n.obj&&a&&(i=e.enterObject()),a){if(null!==n.explicit){var u=this._decodeTag(e,n.explicit);if(e.isError(u))return u;e=u}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)c=e.save();var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?r=e.raw(c):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new o(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&a&&(r=e.leaveObject(i)),null===n.key||null===r&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,r),r},c.prototype._decodeGeneric=function(e,t,n){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){var n=this._baseState,i=null,r=!1;return Object.keys(n.choice).some(function(o){var a=e.save(),s=n.choice[o];try{var l=s._decode(e,t);if(e.isError(l))return!1;i={type:o,value:l},r=!0}catch(t){return e.restore(a),!1}return!0},this),r?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},c.prototype._encode=function(e,t,n){var i=this._baseState;if(null===i.default||i.default!==e){var r=this._encodeValue(e,t,n);if(void 0!==r&&!this._skipDefault(r,t,n))return r}},c.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)a=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var i=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var r=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),r},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(n){var i=this._baseState;return this._getUse(i.args[0],e)._encode(n,t)},l))}else null!==r.use?o=this._getUse(r.use,n)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,u=null===r.implicit?"universal":"context";null===c?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(c,s,u,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var n=this._baseState,i=n.choice[e.type];return i||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var i=n(80);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i._reverse(t.tag)},function(e,t,n){var i=t;i.der=n(81),i.pem=n(184)},function(e,t,n){var i=n(0),r=n(3).Buffer,o=n(81);function a(e){o.call(this,e),this.enc="pem"}i(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,l=-1,c=0;c<n.length;c++){var u=n[c].match(a);if(null!==u&&u[2]===i){if(-1!==s){if("END"!==u[1])break;l=c;break}if("BEGIN"!==u[1])break;s=c}}if(-1===s||-1===l)throw new Error("PEM section not found for: "+i);var f=n.slice(s+1,l).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new r(f,"base64");return o.prototype.decode.call(this,d,t)}},function(e,t,n){var i=t;i.der=n(82),i.pem=n(186)},function(e,t,n){var i=n(0),r=n(82);function o(e){r.call(this,e),this.enc="pem"}i(o,r),e.exports=o,o.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)i.push(n.slice(o,o+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},function(e,t,n){"use strict";var i=n(24),r=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),c=i.define("RDNSequence",function(){this.seqof(l)}),u=i.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),f=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),d=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(u),this.key("validity").use(f),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(29),s=n(41),l=n(1).Buffer;e.exports=function(e,t){var n,c=e.toString(),u=c.match(i);if(u){var f="aes"+u[1],d=l.from(u[2],"hex"),h=l.from(u[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(u[1],10)).key,g=[],y=s.createDecipheriv(f,p,d);g.push(y.update(h)),g.push(y.final()),n=l.concat(g)}else{var m=c.match(o);n=new l(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(r)[1],data:n}}},function(e,t,n){(function(t){var i=n(2),r=n(45).ec,o=n(31),a=n(83);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,l,c,u){var f=o(l);if("ec"===f.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var i=a[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new r(i),s=n.data.subjectPrivateKey.data;return o.verify(t,e,s)}(e,n,f)}if("dsa"===f.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,a=n.data.q,l=n.data.g,c=n.data.pub_key,u=o.signature.decode(e,"der"),f=u.s,d=u.r;s(f,a),s(d,a);var h=i.mont(r),p=f.invm(a);return 0===l.toRed(h).redPow(new i(t).mul(p).mod(a)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(a)).fromRed()).mod(r).mod(a).cmp(d)}(e,n,f)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");n=t.concat([u,n]);for(var d=f.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var g=-1;++g<n.length;)h.push(n[g]);h=new t(h);var y=i.mont(f.modulus);e=(e=new i(e).toRed(y)).redPow(new i(f.publicExponent)),e=new t(e.fromRed().toArray());var m=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(m=1),g=-1;++g<d;)m|=e[g]^h[g];return 0===m}}).call(this,n(3).Buffer)},function(e,t,n){(function(t){var i=n(45),r=n(2);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function s(e,n,i){Array.isArray(e)||(e=e.toArray());var r=new t(e);if(i&&r.length<i){var o=new t(i-r.length);o.fill(0),r=t.concat([o,r])}return n?r.toString(n):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,i){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var i=new r(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,n(3).Buffer)},function(e,t,n){t.publicEncrypt=n(193),t.privateDecrypt=n(194),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var i=n(31),r=n(15),o=n(20),a=n(84),s=n(85),l=n(2),c=n(86),u=n(44),f=n(1).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var h,p=i(e);if(4===d)h=function(e,t){var n=e.modulus.byteLength(),i=t.length,c=o("sha1").update(f.alloc(0)).digest(),u=c.length,d=2*u;if(i>n-d-2)throw new Error("message too long");var h=f.alloc(n-i-d-2),p=n-u-1,g=r(u),y=s(f.concat([c,h,f.alloc(1,1),t],p),a(g,p)),m=s(g,a(y,u));return new l(f.concat([f.alloc(1),m,y],n))}(p,t);else if(1===d)h=function(e,t,n){var i,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");i=n?f.alloc(a-o-3,255):function(e){var t,n=f.allocUnsafe(e),i=0,o=r(2*e),a=0;for(;i<e;)a===o.length&&(o=r(2*e),a=0),(t=o[a++])&&(n[i++]=t);return n}(a-o-3);return new l(f.concat([f.from([0,n?1:2]),i,f.alloc(1),t],a))}(p,t,n);else{if(3!==d)throw new Error("unknown padding");if((h=new l(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?u(h,p):c(h,p)}},function(e,t,n){var i=n(31),r=n(84),o=n(85),a=n(2),s=n(44),l=n(20),c=n(86),u=n(1).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var d,h=i(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=n?c(new a(t),h):s(t,h);var g=u.alloc(p-d.length);if(d=u.concat([g,d],p),4===f)return function(e,t){var n=e.modulus.byteLength(),i=l("sha1").update(u.alloc(0)).digest(),a=i.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),f=o(s,r(c,a)),d=o(c,r(f,n-a-1));if(function(e,t){e=u.from(e),t=u.from(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));var r=-1;for(;++r<i;)n+=e[r]^t[r];return n}(i,d.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,n){var i=t.slice(0,2),r=2,o=0;for(;0!==t[r++];)if(r>=t.length){o++;break}var a=t.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(r)}(0,d,n);if(3===f)return d;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,i){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(1),a=n(15),s=o.Buffer,l=o.kMaxLength,c=e.crypto||e.msCrypto,u=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>u||e<0)throw new TypeError("offset must be a uint32");if(e>l||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>u||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>l)throw new RangeError("buffer too small")}function h(e,t,n,r){if(i.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return c.getRandomValues(s),r?void i.nextTick(function(){r(null,e)}):e}if(!r)return a(n).copy(e,t),e;a(n,function(n,i){if(n)return r(n);i.copy(e,t),r(null,e)})}c&&c.getRandomValues||!i.browser?(t.randomFill=function(t,n,i,r){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)r=n,n=0,i=t.length;else if("function"==typeof i)r=i,i=t.length-n;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return f(n,t.length),d(i,n,t.length),h(t,n,i,r)},t.randomFillSync=function(t,n,i){void 0===n&&(n=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,t.length),void 0===i&&(i=t.length-n);return d(i,n,t.length),h(t,n,i)}):(t.randomFill=r,t.randomFillSync=r)}).call(this,n(8),n(11))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=l(r),a=l(n(10)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(51));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={display:"none"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;s.eventEmitter.on(s.SHOW_CELL_EDITOR,function(t){var n=e.props.header;if(t.colId===n.id){var i=$(t.targetDiv),r=i.parent(),o=$(a.default.findDOMNode(e));r.append(o);var s=t.rowData;o.val(s[n.name]),e.setState({$targetDiv:i,rowData:s,display:""})}})}},{key:"componentWillUnmount",value:function(){s.eventEmitter.removeAllListeners(s.SHOW_CELL_EDITOR)}},{key:"blur",value:function(){var e=this.state.$targetDiv;if(e){e.css({display:""});var t=a.default.findDOMNode(this).value;e.html(t);var n=this.props.header;this.state.rowData[n.name]=t,this.setState({display:"none"}),window.setDirty&&window.setDirty()}}},{key:"componentDidUpdate",value:function(){""===this.state.display&&a.default.findDOMNode(this).focus()}},{key:"render",value:function(){var e={display:this.state.display,height:"31px",padding:"0px 5px"},t=this.props.header,n=t.editorType,i=t.selectData;switch(n){case"select":return o.default.createElement("select",{style:e,onBlur:this.blur.bind(this),className:"form-control"},i.map(function(e,t){return o.default.createElement("option",{key:t},e)}));case"boolean":return o.default.createElement("select",{onBlur:this.blur.bind(this),className:"form-control"},o.default.createElement("option",{value:"true"},"true"),o.default.createElement("option",{value:"false",selected:"selected"},"false"));case"date":return o.default.createElement("input",{style:e,onBlur:this.blur.bind(this),type:"datetime-local",className:"form-control"});case"number":return o.default.createElement("input",{style:e,onBlur:this.blur.bind(this),type:"number",className:"form-control"});default:return o.default.createElement("input",{style:e,onBlur:this.blur.bind(this),type:"text",className:"form-control"})}}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SAVE=t.DEL_SLAVE=t.UPDATE_SLAVE=t.ADD_SLAVE=t.DEL_MASTER=t.DO_APPROVE=t.UPDATE_MASTER=t.ADD_MASTER=t.LOAD_SLAVE_COMPLETE=t.LOAD_MASTER_COMPLETED=void 0,t.save=function(e,t){return{newVersion:e,project:t,type:u}},t.refreshKnowledgeCache=function(e,t,n,i){var s=window._core_version;s&&(s=(0,o.encrypt)(s));var l=window.parent;l&&l.componentEvent&&l.componentEvent.eventEmitter.emit(l.componentEvent.SHOW_LOADING);$.ajax({url:window._server+"/packageeditor/refreshKnowledgeCache",data:{project:e,packageId:t,comment:n,version:s,active:i},type:"POST",success:function(n){l&&l.componentEvent&&l.componentEvent.eventEmitter.emit(l.componentEvent.HIDE_LOADING);var i=n.clientInfo;i?bootbox.confirm('<h3 class="text-danger">发布操作成功！</h3>项目['+decodeURI(decodeURI(e))+']中配置了如下客户端：<div class="well" style="margin: 5px 0px 5px 0px">'+i+"</div>是否将此次更新的知识包推送到这些客户端中？",function(n){n&&new a.PushDialog(e,t).show()}):bootbox.alert("知识包["+t+"]发布成功!")},error:function(e){l&&l.componentEvent&&l.componentEvent.eventEmitter.emit(l.componentEvent.HIDE_LOADING),(0,r.handleError)(e)}})},t.pushToClients=function(e,t,n,i){var o=window.parent.componentEvent;o.eventEmitter.emit(o.SHOW_LOADING),$.ajax({url:window._server+"/packageeditor/pushKnowledgePackageToClients",data:{project:e,packageId:t,client:n,version:i},type:"POST",success:function(e){o.eventEmitter.emit(o.HIDE_LOADING),f(e)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,r.handleError)(e)}})},t.showDeloyResultInfo=f,t.loadClients=function(e,t){var n=window._server+"/packageeditor/loadClients";$.ajax({url:n,data:{project:e},type:"POST",success:function(e){t.call(this,e)},error:function(e){(0,r.handleError)(e)}})},t.saveData=d,t.addMaster=function(e,t){var n=e;return n.resourceItems=[],n.createDate=new Date,d([n],t,"insert")},t.updateMaster=function(e,t){return d([t],e,"update")},t.deleteMaster=function(e,t){return d([],e,"delete",t)},t.deleteSlave=function(e,t,n){return e.resourceItems.splice(t,1),d([e],n,"update")},t.addSlave=function(e,t,n){return e.resourceItems.push(t),d([e],n,"update")},t.updateSlave=function(e,t,n){var i=e.resourceItems[t.rowIndex];return i.name=t.name,i.path=t.path,i.version=t.version,d([e],n,"update")},t.approve=function(e){return $.ajax({url:window._server+"/packageeditor/packageStateChange",data:{packageId:e.packageId,project:e.project,state:e.check},type:"POST",success:function(){},error:function(e){(0,r.handleError)(e)}}),{type:c,data:e}},t.adminCheck=function(e,t){$.ajax({url:window._server+"/packageeditor/admin",success:function(n){n.admin?e():t?t():bootbox.alert("权限不足，只有管理才可能进行此操作！")}})},t.loadMasterData=h,t.loadSimulatorCategoryData=function(e,t){var n=window._core_version;n&&(n=(0,o.encrypt)(n));var i=window._server+"/packageeditor/loadForTestVariableCategories";$.ajax({url:i,type:"POST",data:{files:e,version:n},success:function(e){t(e)},error:function(e){var t=window.parent.componentEvent;t.eventEmitter.emit(t.HIDE_LOADING),(0,r.handleError)(e)}})},t.removeDeployKnowledgePackage=function(e,t){$.ajax({type:"POST",data:{project:e,packageId:t},url:window._server+"/packageeditor/removeDeployKnowledgePackage",success:function(){},error:function(e){(0,r.handleError)(e)}})},t.loadSlaveData=function(e){return{type:l,masterRowData:e}};var i=n(4),r=n(4),o=n(50),a=n(240),s=t.LOAD_MASTER_COMPLETED="load_master_completed",l=t.LOAD_SLAVE_COMPLETE="load_slave_completed",c=(t.ADD_MASTER="add_master",t.UPDATE_MASTER="update_master",t.DO_APPROVE="do_approve"),u=(t.DEL_MASTER="del_master",t.ADD_SLAVE="add_slave",t.UPDATE_SLAVE="update_slave",t.DEL_SLAVE="del_slave",t.SAVE="save");function f(e){var t=$('<div class="well" style="margin: 5px 0px 5px 0px"></div>'),n=function(e){var n=$(e.info);if(t.append(n),!e.result){n.css({cursor:"pointer"}),n.prop("title","点击查看推送失败原因");var i=$("<div>"+e.error+"</div>");t.append(i),i.hide(),n.click(function(){e.showError?(e.showError=!1,i.hide()):(e.showError=!0,i.show())})}},i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){n(a.value)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}bootbox.dialog({message:"<div></div>",size:"large"}).find(".bootbox-body").append(t)}function d(e,t,n,o){var a='<?xml version="1.0" encoding="utf-8"?>';a+="<res-packages>";return e.forEach(function(e,t){if(a+='<res-package id="'+(0,r.escapeXml)(e.id)+'" name="'+(0,r.escapeXml)(e.name)+'" check="'+e.check+'" create_date="'+(0,i.formatDate)(e.createDate,"yyyy-MM-dd HH:mm:ss")+'"',e.monitor&&(a+=' monitor="true"',a+=' show-log="'+(e.showLog?"true":"false")+'"',a+=' show-fired-flow-node-list="'+(e.showFiredFlowNodeList?"true":"false")+'"',a+=' show-matched-rule-list="'+(e.showMatchedRuleList?"true":"false")+'"',a+=' show-not-match-rule-list="'+(e.showNotMatchRuleList?"true":"false")+'"'),a+=">",e.quickTestData&&(a+="<quick-test-data>",a+="<![CDATA[",a+=JSON.stringify(e.quickTestData),a+="]]>",a+="</quick-test-data>"),e.monitor){var n=!0,o=!1,s=void 0;try{for(var l,c=(e.inputData||[])[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var u=l.value;a+='<input name="'+u.name+'">';var f=!0,d=!1,h=void 0;try{for(var p,g=u.fields[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;a+='<field name="'+y.name+'" label="'+y.label+'"/>'}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}a+="</input>"}}catch(e){o=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw s}}var m=!0,b=!1,v=void 0;try{for(var A,w=(e.outputData||[])[Symbol.iterator]();!(m=(A=w.next()).done);m=!0){var M=A.value;a+='<output name="'+M.name+'">';var I=!0,x=!1,C=void 0;try{for(var T,N=M.fields[Symbol.iterator]();!(I=(T=N.next()).done);I=!0){var D=T.value;a+='<field name="'+D.name+'" label="'+D.label+'"/>'}}catch(e){x=!0,C=e}finally{try{!I&&N.return&&N.return()}finally{if(x)throw C}}a+="</output>"}}catch(e){b=!0,v=e}finally{try{!m&&w.return&&w.return()}finally{if(b)throw v}}}if(e.service&&e.service.enabled){a+='<service security="'+(e.service.security||"false")+'"',e.service.security&&(a+=' username="'+(0,r.escapeXml)(e.service.username)+'" password="'+(0,r.escapeXml)(e.service.password)+'"'),a+=">";var E=!0,k=!1,_=void 0;try{for(var S,j=(e.service.inputData||[])[Symbol.iterator]();!(E=(S=j.next()).done);E=!0){var L=S.value;a+='<input name="'+L.name+'">';var O=!0,z=!1,B=void 0;try{for(var R,P=L.fields[Symbol.iterator]();!(O=(R=P.next()).done);O=!0){var U=R.value;a+='<field name="'+U.name+'" label="'+U.label+'"/>'}}catch(e){z=!0,B=e}finally{try{!O&&P.return&&P.return()}finally{if(z)throw B}}a+="</input>"}}catch(e){k=!0,_=e}finally{try{!E&&j.return&&j.return()}finally{if(k)throw _}}var Q=!0,Y=!1,F=void 0;try{for(var H,G=(e.service.outputData||[])[Symbol.iterator]();!(Q=(H=G.next()).done);Q=!0){var W=H.value;a+='<output name="'+W.name+'">';var V=!0,Z=!1,J=void 0;try{for(var X,$=W.fields[Symbol.iterator]();!(V=(X=$.next()).done);V=!0){var K=X.value;a+='<field name="'+K.name+'" label="'+K.label+'"/>'}}catch(e){Z=!0,J=e}finally{try{!V&&$.return&&$.return()}finally{if(Z)throw J}}a+="</output>"}}catch(e){Y=!0,F=e}finally{try{!Q&&G.return&&G.return()}finally{if(Y)throw F}}a+="</service>"}e.resourceItems.forEach(function(e,t){a+='<res-package-item name="'+e.name+'" path="'+e.path+'" version="'+e.version+'"/>'}),a+="</res-package>"}),a+="</res-packages>",a=encodeURIComponent(a),function(e){$.ajax({url:window._server+"/packageeditor/saveResourcePackages",type:"POST",data:{xml:a,project:t,op:n,packageId:o},success:function(){"insert"===n&&(window.pageIndex=1e7),e(h(t))},error:function(e){(0,r.handleError)(e)}})}}function h(e,t,n){return t||(t=window.pageIndex),n||(n=window.pageSize),function(i){var o=window._server+"/packageeditor/loadPackages";$.ajax({url:o,type:"POST",data:{project:e,pageIndex:t,pageSize:n},success:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=(e.resourcePackages||[])[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value;l.quickTestData&&(l.quickTestData=JSON.parse(l.quickTestData))}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}i({type:s,masterData:e.resourcePackages,pageIndex:e.pageIndex,totalPage:e.totalPage,total:e.total,pageSize:e.pageSize})},error:function(e){(0,r.handleError)(e)}})}}},function(e,t,n){var i;i=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i,r;i=[n(1),n(3),n(4)],void 0===(r=function(e){return e}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,r;i=[n(2)],void 0===(r=function(e){function t(n){if(t.is(n,"function"))return m?n():e.on("raphael.DOMload",n);if(t.is(n,H))return t._engine.create[T](t,n.splice(0,3+t.is(n[0],Y))).add(n);var i=Array.prototype.slice.call(arguments,0);if(t.is(i[i.length-1],"function")){var r=i.pop();return m?r.call(t._engine.create[T](t,i)):e.on("raphael.DOMload",function(){r.call(t._engine.create[T](t,i))})}return t._engine.create[T](t,arguments)}function n(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var i in e)e[M](i)&&(t[i]=n(e[i]));return t}function i(e,t,n){return function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),a=i.cache=i.cache||{},s=i.count=i.count||[];return a[M](o)?(function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}(s,o),n?n(a[o]):a[o]):(s.length>=1e3&&delete a[s.shift()],s.push(o),a[o]=e[T](t,r),n?n(a[o]):a[o])}}function r(){return this.hex}function o(e,t){for(var n=[],i=0,r=e.length;r-2*!t>i;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?r-4==i?o[3]={x:+e[0],y:+e[1]}:r-2==i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[r-2],y:+e[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function a(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function s(e,t,n,i,r,o,s,l,c){null==c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var g=u*f[p]+u,y=a(g,e,n,r,s),m=a(g,t,i,o,l),b=y*y+m*m;h+=d[p]*z.sqrt(b)}return u*h}function l(e,t,n,i,r,o,a,s){if(!(B(e,n)<R(r,a)||R(e,n)>B(r,a)||B(t,i)<R(o,s)||R(t,i)>B(o,s))){var l=(e-n)*(o-s)-(t-i)*(r-a);if(l){var c=((e*i-t*n)*(r-a)-(e-n)*(r*s-o*a))/l,u=((e*i-t*n)*(o-s)-(t-i)*(r*s-o*a))/l,f=+c.toFixed(2),d=+u.toFixed(2);if(!(f<+R(e,n).toFixed(2)||f>+B(e,n).toFixed(2)||f<+R(r,a).toFixed(2)||f>+B(r,a).toFixed(2)||d<+R(t,i).toFixed(2)||d>+B(t,i).toFixed(2)||d<+R(o,s).toFixed(2)||d>+B(o,s).toFixed(2)))return{x:c,y:u}}}}function c(e,n,i){var r=t.bezierBBox(e),o=t.bezierBBox(n);if(!t.isBBoxIntersect(r,o))return i?0:[];for(var a=s.apply(0,e),c=s.apply(0,n),u=B(~~(a/5),1),f=B(~~(c/5),1),d=[],h=[],p={},g=i?0:[],y=0;y<u+1;y++){var m=t.findDotsAtSegment.apply(t,e.concat(y/u));d.push({x:m.x,y:m.y,t:y/u})}for(y=0;y<f+1;y++)m=t.findDotsAtSegment.apply(t,n.concat(y/f)),h.push({x:m.x,y:m.y,t:y/f});for(y=0;y<u;y++)for(var b=0;b<f;b++){var v=d[y],A=d[y+1],w=h[b],M=h[b+1],I=P(A.x-v.x)<.001?"y":"x",x=P(M.x-w.x)<.001?"y":"x",C=l(v.x,v.y,A.x,A.y,w.x,w.y,M.x,M.y);if(C){if(p[C.x.toFixed(4)]==C.y.toFixed(4))continue;p[C.x.toFixed(4)]=C.y.toFixed(4);var T=v.t+P((C[I]-v[I])/(A[I]-v[I]))*(A.t-v.t),N=w.t+P((C[x]-w[x])/(M[x]-w[x]))*(M.t-w.t);T>=0&&T<=1.001&&N>=0&&N<=1.001&&(i?g++:g.push({x:C.x,y:C.y,t1:R(T,1),t2:R(N,1)}))}}return g}function u(e,n,i){e=t._path2curve(e),n=t._path2curve(n);for(var r,o,a,s,l,u,f,d,h,p,g=i?0:[],y=0,m=e.length;y<m;y++){var b=e[y];if("M"==b[0])r=l=b[1],o=u=b[2];else{"C"==b[0]?(h=[r,o].concat(b.slice(1)),r=h[6],o=h[7]):(h=[r,o,r,o,l,u,l,u],r=l,o=u);for(var v=0,A=n.length;v<A;v++){var w=n[v];if("M"==w[0])a=f=w[1],s=d=w[2];else{"C"==w[0]?(p=[a,s].concat(w.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,f,d,f,d],a=f,s=d);var M=c(h,p,i);if(i)g+=M;else{for(var I=0,x=M.length;I<x;I++)M[I].segment1=y,M[I].segment2=v,M[I].bez1=h,M[I].bez2=p;g=g.concat(M)}}}}}return g}function f(e,t,n,i,r,o){null!=e?(this.a=+e,this.b=+t,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+k+this.y+k+this.width+" × "+this.height}function h(e,t,n,i,r,o){function a(e){return((c*e+l)*e+s)*e}var s=3*t,l=3*(i-t)-s,c=1-s-l,u=3*n,f=3*(r-n)-u,d=1-u-f;return function(e,t){var n=function(e,t){var n,i,r,o,u,f;for(r=e,f=0;f<8;f++){if(o=a(r)-e,P(o)<t)return r;if(P(u=(3*c*r+2*l)*r+s)<1e-6)break;r-=o/u}if(i=1,(r=e)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=a(r),P(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}(e,t);return((d*n+f)*n+u)*n}(e,1/(200*o))}function p(e,t){var n=[],i={};if(this.ms=t,this.times=1,e){for(var r in e)e[M](r)&&(i[X(r)]=e[r],n.push(X(r)));n.sort(le)}this.anim=i,this.top=n[n.length-1],this.percents=n}function g(n,i,r,o,a,s){r=X(r);var l,c,u,d,p,g,y=n.ms,m={},b={},A={};if(o)for(I=0,x=nt.length;I<x;I++){var w=nt[I];if(w.el.id==i.id&&w.anim==n){w.percent!=r?(nt.splice(I,1),u=1):c=w,i.attr(w.totalOrigin);break}}else o=+b;for(var I=0,x=n.percents.length;I<x;I++){if(n.percents[I]==r||n.percents[I]>o*n.top){r=n.percents[I],p=n.percents[I-1]||0,y=y/n.top*(r-p),d=n.percents[I+1],l=n.anim[r];break}o&&i.attr(n.anim[n.percents[I]])}if(l){if(c)c.initstatus=o,c.start=new Date-c.ms*o;else{for(var C in l)if(l[M](C)&&(ee[M](C)||i.paper.customAttributes[M](C)))switch(m[C]=i.attr(C),null==m[C]&&(m[C]=q[C]),b[C]=l[C],ee[C]){case Y:A[C]=(b[C]-m[C])/y;break;case"colour":m[C]=t.getRGB(m[C]);var T=t.getRGB(b[C]);A[C]={r:(T.r-m[C].r)/y,g:(T.g-m[C].g)/y,b:(T.b-m[C].b)/y};break;case"path":var D=Se(m[C],b[C]),E=D[1];for(m[C]=D[0],A[C]=[],I=0,x=m[C].length;I<x;I++){A[C][I]=[0];for(var k=1,j=m[C][I].length;k<j;k++)A[C][I][k]=(E[I][k]-m[C][I][k])/y}break;case"transform":var L=i._,O=Be(L[C],b[C]);if(O)for(m[C]=O.from,b[C]=O.to,A[C]=[],A[C].real=!0,I=0,x=m[C].length;I<x;I++)for(A[C][I]=[m[C][I][0]],k=1,j=m[C][I].length;k<j;k++)A[C][I][k]=(b[C][I][k]-m[C][I][k])/y;else{var z=i.matrix||new f,B={_:{transform:L.transform},getBBox:function(){return i.getBBox(1)}};m[C]=[z.a,z.b,z.c,z.d,z.e,z.f],Oe(B,b[C]),b[C]=B._.transform,A[C]=[(B.matrix.a-z.a)/y,(B.matrix.b-z.b)/y,(B.matrix.c-z.c)/y,(B.matrix.d-z.d)/y,(B.matrix.e-z.e)/y,(B.matrix.f-z.f)/y]}break;case"csv":var R=_(l[C])[S](v),P=_(m[C])[S](v);if("clip-rect"==C)for(m[C]=P,A[C]=[],I=P.length;I--;)A[C][I]=(R[I]-m[C][I])/y;b[C]=R;break;default:for(R=[][N](l[C]),P=[][N](m[C]),A[C]=[],I=i.paper.customAttributes[C].length;I--;)A[C][I]=((R[I]||0)-(P[I]||0))/y}var U=l.easing,Q=t.easing_formulas[U];if(!Q)if((Q=_(U).match(Z))&&5==Q.length){var F=Q;Q=function(e){return h(e,+F[1],+F[2],+F[3],+F[4],y)}}else Q=ce;if(w={anim:n,percent:r,timestamp:g=l.start||n.start||+new Date,start:g+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:y,easing:Q,from:m,diff:A,to:b,el:i,callback:l.callback,prev:p,next:d,repeat:s||n.times,origin:i.attr(),totalOrigin:a},nt.push(w),o&&!c&&!u&&(w.stop=!0,w.start=new Date-y*o,1==nt.length))return rt();u&&(w.start=new Date-w.ms*o),1==nt.length&&it(rt)}e("raphael.anim.start."+i.id,i,n)}}function y(e){for(var t=0;t<nt.length;t++)nt[t].el.paper==e&&nt.splice(t--,1)}t.version="2.2.0",t.eve=e;var m,b,v=/[, ]+/,A={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,M="hasOwnProperty",I={doc:document,win:window},x={was:Object.prototype[M].call(I.win,"Raphael"),is:I.win.Raphael},C=function(){this.ca=this.customAttributes={}},T="apply",N="concat",D="ontouchstart"in I.win||I.win.DocumentTouch&&I.doc instanceof DocumentTouch,E="",k=" ",_=String,S="split",j="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[S](k),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=_.prototype.toLowerCase,z=Math,B=z.max,R=z.min,P=z.abs,U=z.pow,Q=z.PI,Y="number",F="string",H="array",G=Object.prototype.toString,W=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),V={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,J=z.round,X=parseFloat,$=parseInt,K=_.prototype.toUpperCase,q=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},ee=t._availableAnimAttrs={blur:Y,"clip-rect":"csv",cx:Y,cy:Y,fill:"colour","fill-opacity":Y,"font-size":Y,height:Y,opacity:Y,path:"path",r:Y,rx:Y,ry:Y,stroke:"colour","stroke-opacity":Y,"stroke-width":Y,transform:"transform",width:Y,x:Y,y:Y},te=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ne={hs:1,rg:1},ie=/,?([achlmqrstvxz]),?/gi,re=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,oe=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ae=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,se=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),le=function(e,t){return X(e)-X(t)},ce=function(e){return e},ue=t._rectPath=function(e,t,n,i,r){return r?[["M",e+r,t],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",n,0],["l",0,i],["l",-n,0],["z"]]},fe=function(e,t,n,i){return null==i&&(i=n),[["M",e,t],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},de=t._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return fe(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return fe(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ue(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ue(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ue(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ue(t.x,t.y,t.width,t.height)}},he=t.mapPath=function(e,t){if(!t)return e;var n,i,r,o,a,s,l;for(r=0,a=(e=Se(e)).length;r<a;r++)for(o=1,s=(l=e[r]).length;o<s;o+=2)n=t.x(l[o],l[o+1]),i=t.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return e};if(t._g=I,t.type=I.win.SVGAngle||I.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var pe,ge=I.doc.createElement("div");if(ge.innerHTML='<v:shape adj="1"/>',(pe=ge.firstChild).style.behavior="url(#default#VML)",!pe||"object"!=typeof pe.adj)return t.type=E;ge=null}t.svg=!(t.vml="VML"==t.type),t._Paper=C,t.fn=b=C.prototype=t.prototype,t._id=0,t.is=function(e,t){return"finite"==(t=O.call(t))?!V[M](+e):"array"==t?e instanceof Array:"null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||G.call(e).slice(8,-1).toLowerCase()==t},t.angle=function(e,n,i,r,o,a){if(null==o){var s=e-i,l=n-r;return s||l?(180+180*z.atan2(-l,-s)/Q+360)%360:0}return t.angle(e,n,o,a)-t.angle(i,r,o,a)},t.rad=function(e){return e%360*Q/180},t.deg=function(e){return Math.round(180*e/Q%360*1e3)/1e3},t.snapTo=function(e,n,i){if(i=t.is(i,"finite")?i:10,t.is(e,H)){for(var r=e.length;r--;)if(P(e[r]-n)<=i)return e[r]}else{var o=n%(e=+e);if(o<i)return n-o;if(o>e-i)return n-o+e}return n},t.createUUID=function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*z.random()|0;return("x"==e?t:3&t|8).toString(16)}),t.setWindow=function(n){e("raphael.setWindow",t,I.win,n),I.win=n,I.doc=I.win.document,t._engine.initWin&&t._engine.initWin(I.win)};var ye=function(e){if(t.vml){var n,r=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(e){n=createPopup().document.body}var a=n.createTextRange();ye=i(function(e){try{n.style.color=_(e).replace(r,E);var t=a.queryCommandValue("ForeColor");return"#"+("000000"+(t=(255&t)<<16|65280&t|(16711680&t)>>>16).toString(16)).slice(-6)}catch(e){return"none"}})}else{var s=I.doc.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",I.doc.body.appendChild(s),ye=i(function(e){return s.style.color=e,I.doc.defaultView.getComputedStyle(s,E).getPropertyValue("color")})}return ye(e)},me=function(){return"hsb("+[this.h,this.s,this.b]+")"},be=function(){return"hsl("+[this.h,this.s,this.l]+")"},ve=function(){return this.hex},Ae=function(e,n,i){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,n=e.g,e=e.r),null==n&&t.is(e,F)){var r=t.getRGB(e);e=r.r,n=r.g,i=r.b}return(e>1||n>1||i>1)&&(e/=255,n/=255,i/=255),[e,n,i]},we=function(e,n,i,r){var o={r:e*=255,g:n*=255,b:i*=255,hex:t.rgb(e,n,i),toString:ve};return t.is(r,"finite")&&(o.opacity=r),o};t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=ve,e},t.hsb2rgb=function(e,t,n,i){var r,o,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,i=e.o,e=e.h),s=(l=n*t)*(1-P((e=(e*=360)%360/60)%2-1)),r=o=a=n-l,we(r+=[l,s,0,0,s,l][e=~~e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],i)},t.hsl2rgb=function(e,t,n,i){var r,o,a,s,l;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(n=e.l,t=e.s,e=e.h),(e>1||t>1||n>1)&&(e/=360,t/=100,n/=100),s=(l=2*t*(n<.5?n:1-n))*(1-P((e=(e*=360)%360/60)%2-1)),r=o=a=n-l/2,we(r+=[l,s,0,0,s,l][e=~~e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],i)},t.rgb2hsb=function(e,t,n){var i,r;return e=(n=Ae(e,t,n))[0],t=n[1],n=n[2],{h:((0==(r=(i=B(e,t,n))-R(e,t,n))?null:i==e?(t-n)/r:i==t?(n-e)/r+2:(e-t)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:me}},t.rgb2hsl=function(e,t,n){var i,r,o,a;return e=(n=Ae(e,t,n))[0],t=n[1],n=n[2],i=((r=B(e,t,n))+(o=R(e,t,n)))/2,{h:((0==(a=r-o)?null:r==e?(t-n)/a:r==t?(n-e)/a+2:(e-t)/a+4)+360)%6*60/360,s:0==a?0:i<.5?a/(2*i):a/(2-2*i),l:i,toString:be}},t._path2string=function(){return this.join(",").replace(ie,"$1")},t._preload=function(e,t){var n=I.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){t.call(this),this.onload=null,I.doc.body.removeChild(this)},n.onerror=function(){I.doc.body.removeChild(this)},I.doc.body.appendChild(n),n.src=e},t.getRGB=i(function(e){if(!e||(e=_(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!ne[M](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=ye(e));var n,i,o,a,s,l,c=e.match(W);return c?(c[2]&&(o=$(c[2].substring(5),16),i=$(c[2].substring(3,5),16),n=$(c[2].substring(1,3),16)),c[3]&&(o=$((s=c[3].charAt(3))+s,16),i=$((s=c[3].charAt(2))+s,16),n=$((s=c[3].charAt(1))+s,16)),c[4]&&(l=c[4][S](te),n=X(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=X(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=X(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(a=X(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),c[5]?(l=c[5][S](te),n=X(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=X(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=X(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(a=X(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsb2rgb(n,i,o,a)):c[6]?(l=c[6][S](te),n=X(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=X(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),o=X(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(a=X(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsl2rgb(n,i,o,a)):((c={r:n,g:i,b:o,toString:r}).hex="#"+(16777216|o|i<<8|n<<16).toString(16).slice(1),t.is(a,"finite")&&(c.opacity=a),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},t),t.hsb=i(function(e,n,i){return t.hsb2rgb(e,n,i).hex}),t.hsl=i(function(e,n,i){return t.hsl2rgb(e,n,i).hex}),t.rgb=i(function(e,t,n){function i(e){return e+.5|0}return"#"+(16777216|i(n)|i(t)<<8|i(e)<<16).toString(16).slice(1)}),t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=Me(e);if(n.arr)return xe(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return t.is(e,H)&&t.is(e[0],H)&&(r=xe(e)),r.length||_(e).replace(re,function(e,t,n){var o=[],a=t.toLowerCase();if(n.replace(ae,function(e,t){t&&o.push(+t)}),"m"==a&&o.length>2&&(r.push([t][N](o.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)r.push([t][N](o));else for(;o.length>=i[a]&&(r.push([t][N](o.splice(0,i[a]))),i[a]););}),r.toString=t._path2string,n.arr=xe(r),r},t.parseTransformString=i(function(e){if(!e)return null;var n=[];return t.is(e,H)&&t.is(e[0],H)&&(n=xe(e)),n.length||_(e).replace(oe,function(e,t,i){var r=[];O.call(t),i.replace(ae,function(e,t){t&&r.push(+t)}),n.push([t][N](r))}),n.toString=t._path2string,n});var Me=function(e){var t=Me.ps=Me.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)t[M](n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]};t.findDotsAtSegment=function(e,t,n,i,r,o,a,s,l){var c=1-l,u=U(c,3),f=U(c,2),d=l*l,h=d*l,p=u*e+3*f*l*n+3*c*l*l*r+h*a,g=u*t+3*f*l*i+3*c*l*l*o+h*s,y=e+2*l*(n-e)+d*(r-2*n+e),m=t+2*l*(i-t)+d*(o-2*i+t),b=n+2*l*(r-n)+d*(a-2*r+n),v=i+2*l*(o-i)+d*(s-2*o+i),A=c*e+l*n,w=c*t+l*i,M=c*r+l*a,I=c*o+l*s,x=90-180*z.atan2(y-b,m-v)/Q;return(y>b||m<v)&&(x+=180),{x:p,y:g,m:{x:y,y:m},n:{x:b,y:v},start:{x:A,y:w},end:{x:M,y:I},alpha:x}},t.bezierBBox=function(e,n,i,r,o,a,s,l){t.is(e,"array")||(e=[e,n,i,r,o,a,s,l]);var c=_e.apply(null,e);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},t.isPointInsideBBox=function(e,t,n){return t>=e.x&&t<=e.x2&&n>=e.y&&n<=e.y2},t.isBBoxIntersect=function(e,n){var i=t.isPointInsideBBox;return i(n,e.x,e.y)||i(n,e.x2,e.y)||i(n,e.x,e.y2)||i(n,e.x2,e.y2)||i(e,n.x,n.y)||i(e,n.x2,n.y)||i(e,n.x,n.y2)||i(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(e,t){return u(e,t)},t.pathIntersectionNumber=function(e,t){return u(e,t,1)},t.isPointInsidePath=function(e,n,i){var r=t.pathBBox(e);return t.isPointInsideBBox(r,n,i)&&u(e,[["M",n,i],["H",r.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var Ie=t.pathBBox=function(e){var t=Me(e);if(t.bbox)return n(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,r=0,o=0,a=[],s=[],l=0,c=(e=Se(e)).length;l<c;l++)if("M"==(i=e[l])[0])r=i[1],o=i[2],a.push(r),s.push(o);else{var u=_e(r,o,i[1],i[2],i[3],i[4],i[5],i[6]);a=a[N](u.min.x,u.max.x),s=s[N](u.min.y,u.max.y),r=i[5],o=i[6]}var f=R[T](0,a),d=R[T](0,s),h=B[T](0,a),p=B[T](0,s),g=h-f,y=p-d,m={x:f,y:d,x2:h,y2:p,width:g,height:y,cx:f+g/2,cy:d+y/2};return t.bbox=n(m),m},xe=function(e){var i=n(e);return i.toString=t._path2string,i},Ce=t._pathToRelative=function(e){var n=Me(e);if(n.rel)return xe(n.rel);t.is(e,H)&&t.is(e&&e[0],H)||(e=t.parsePathString(e));var i=[],r=0,o=0,a=0,s=0,l=0;"M"==e[0][0]&&(a=r=e[0][1],s=o=e[0][2],l++,i.push(["M",r,o]));for(var c=l,u=e.length;c<u;c++){var f=i[c]=[],d=e[c];if(d[0]!=O.call(d[0]))switch(f[0]=O.call(d[0]),f[0]){case"a":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+(d[6]-r).toFixed(3),f[7]=+(d[7]-o).toFixed(3);break;case"v":f[1]=+(d[1]-o).toFixed(3);break;case"m":a=d[1],s=d[2];default:for(var h=1,p=d.length;h<p;h++)f[h]=+(d[h]-(h%2?r:o)).toFixed(3)}else{f=i[c]=[],"m"==d[0]&&(a=d[1]+r,s=d[2]+o);for(var g=0,y=d.length;g<y;g++)i[c][g]=d[g]}var m=i[c].length;switch(i[c][0]){case"z":r=a,o=s;break;case"h":r+=+i[c][m-1];break;case"v":o+=+i[c][m-1];break;default:r+=+i[c][m-2],o+=+i[c][m-1]}}return i.toString=t._path2string,n.rel=xe(i),i},Te=t._pathToAbsolute=function(e){var n=Me(e);if(n.abs)return xe(n.abs);if(t.is(e,H)&&t.is(e&&e[0],H)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var i=[],r=0,a=0,s=0,l=0,c=0;"M"==e[0][0]&&(s=r=+e[0][1],l=a=+e[0][2],c++,i[0]=["M",r,a]);for(var u,f,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),h=c,p=e.length;h<p;h++){if(i.push(u=[]),(f=e[h])[0]!=K.call(f[0]))switch(u[0]=K.call(f[0]),u[0]){case"A":u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=+(f[6]+r),u[7]=+(f[7]+a);break;case"V":u[1]=+f[1]+a;break;case"H":u[1]=+f[1]+r;break;case"R":for(var g=[r,a][N](f.slice(1)),y=2,m=g.length;y<m;y++)g[y]=+g[y]+r,g[++y]=+g[y]+a;i.pop(),i=i[N](o(g,d));break;case"M":s=+f[1]+r,l=+f[2]+a;default:for(y=1,m=f.length;y<m;y++)u[y]=+f[y]+(y%2?r:a)}else if("R"==f[0])g=[r,a][N](f.slice(1)),i.pop(),i=i[N](o(g,d)),u=["R"][N](f.slice(-2));else for(var b=0,v=f.length;b<v;b++)u[b]=f[b];switch(u[0]){case"Z":r=s,a=l;break;case"H":r=u[1];break;case"V":a=u[1];break;case"M":s=u[u.length-2],l=u[u.length-1];default:r=u[u.length-2],a=u[u.length-1]}}return i.toString=t._path2string,n.abs=xe(i),i},Ne=function(e,t,n,i){return[e,t,n,i,n,i]},De=function(e,t,n,i,r,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*i,a*r+s*n,a*o+s*i,r,o]},Ee=function(e,t,n,r,o,a,s,l,c,u){var f,d=120*Q/180,h=Q/180*(+o||0),p=[],g=i(function(e,t,n){return{x:e*z.cos(n)-t*z.sin(n),y:e*z.sin(n)+t*z.cos(n)}});if(u)x=u[0],C=u[1],M=u[2],I=u[3];else{e=(f=g(e,t,-h)).x,t=f.y,l=(f=g(l,c,-h)).x,c=f.y,z.cos(Q/180*o),z.sin(Q/180*o);var y=(e-l)/2,m=(t-c)/2,b=y*y/(n*n)+m*m/(r*r);b>1&&(n*=b=z.sqrt(b),r*=b);var v=n*n,A=r*r,w=(a==s?-1:1)*z.sqrt(P((v*A-v*m*m-A*y*y)/(v*m*m+A*y*y))),M=w*n*m/r+(e+l)/2,I=w*-r*y/n+(t+c)/2,x=z.asin(((t-I)/r).toFixed(9)),C=z.asin(((c-I)/r).toFixed(9));(x=e<M?Q-x:x)<0&&(x=2*Q+x),(C=l<M?Q-C:C)<0&&(C=2*Q+C),s&&x>C&&(x-=2*Q),!s&&C>x&&(C-=2*Q)}var T=C-x;if(P(T)>d){var D=C,E=l,k=c;C=x+d*(s&&C>x?1:-1),l=M+n*z.cos(C),c=I+r*z.sin(C),p=Ee(l,c,n,r,o,0,s,E,k,[C,D,M,I])}T=C-x;var _=z.cos(x),j=z.sin(x),L=z.cos(C),O=z.sin(C),B=z.tan(T/4),R=4/3*n*B,U=4/3*r*B,Y=[e,t],F=[e+R*j,t-U*_],H=[l+R*O,c-U*L],G=[l,c];if(F[0]=2*Y[0]-F[0],F[1]=2*Y[1]-F[1],u)return[F,H,G][N](p);for(var W=[],V=0,Z=(p=[F,H,G][N](p).join()[S](",")).length;V<Z;V++)W[V]=V%2?g(p[V-1],p[V],h).y:g(p[V],p[V+1],h).x;return W},ke=function(e,t,n,i,r,o,a,s,l){var c=1-l;return{x:U(c,3)*e+3*U(c,2)*l*n+3*c*l*l*r+U(l,3)*a,y:U(c,3)*t+3*U(c,2)*l*i+3*c*l*l*o+U(l,3)*s}},_e=i(function(e,t,n,i,r,o,a,s){var l,c=r-2*n+e-(a-2*r+n),u=2*(n-e)-2*(r-n),f=e-n,d=(-u+z.sqrt(u*u-4*c*f))/2/c,h=(-u-z.sqrt(u*u-4*c*f))/2/c,p=[t,s],g=[e,a];return P(d)>"1e12"&&(d=.5),P(h)>"1e12"&&(h=.5),d>0&&d<1&&(l=ke(e,t,n,i,r,o,a,s,d),g.push(l.x),p.push(l.y)),h>0&&h<1&&(l=ke(e,t,n,i,r,o,a,s,h),g.push(l.x),p.push(l.y)),c=o-2*i+t-(s-2*o+i),f=t-i,d=(-(u=2*(i-t)-2*(o-i))+z.sqrt(u*u-4*c*f))/2/c,h=(-u-z.sqrt(u*u-4*c*f))/2/c,P(d)>"1e12"&&(d=.5),P(h)>"1e12"&&(h=.5),d>0&&d<1&&(l=ke(e,t,n,i,r,o,a,s,d),g.push(l.x),p.push(l.y)),h>0&&h<1&&(l=ke(e,t,n,i,r,o,a,s,h),g.push(l.x),p.push(l.y)),{min:{x:R[T](0,g),y:R[T](0,p)},max:{x:B[T](0,g),y:B[T](0,p)}}}),Se=t._path2curve=i(function(e,t){var n=!t&&Me(e);if(!t&&n.curve)return xe(n.curve);for(var i=Te(e),r=t&&Te(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][N](Ee[T](0,[t.x,t.y][N](e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r][N](e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"][N](De(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][N](De(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][N](Ne(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][N](Ne(t.x,t.y,e[1],t.y));break;case"V":e=["C"][N](Ne(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][N](Ne(t.x,t.y,t.X,t.Y))}return e},l=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)u[t]="A",r&&(f[t]="A"),e.splice(t++,0,["C"][N](n.splice(0,6)));e.splice(t,1),g=B(i.length,r&&r.length||0)}},c=function(e,t,n,o,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=e[a][1],n.y=e[a][2],g=B(i.length,r&&r.length||0))},u=[],f=[],d="",h="",p=0,g=B(i.length,r&&r.length||0);p<g;p++){i[p]&&(d=i[p][0]),"C"!=d&&(u[p]=d,p&&(h=u[p-1])),i[p]=s(i[p],o,h),"A"!=u[p]&&"C"==d&&(u[p]="C"),l(i,p),r&&(r[p]&&(d=r[p][0]),"C"!=d&&(f[p]=d,p&&(h=f[p-1])),r[p]=s(r[p],a,h),"A"!=f[p]&&"C"==d&&(f[p]="C"),l(r,p)),c(i,r,o,a,p),c(r,i,a,o,p);var y=i[p],m=r&&r[p],b=y.length,v=r&&m.length;o.x=y[b-2],o.y=y[b-1],o.bx=X(y[b-4])||o.x,o.by=X(y[b-3])||o.y,a.bx=r&&(X(m[v-4])||a.x),a.by=r&&(X(m[v-3])||a.y),a.x=r&&m[v-2],a.y=r&&m[v-1]}return r||(n.curve=xe(i)),r?[i,r]:i},null,xe),je=(t._parseDots=i(function(e){for(var n=[],i=0,r=e.length;i<r;i++){var o={},a=e[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=t.getRGB(a[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var s=X(n[i-1].offset||0),l=0,c=i+1;c<r;c++)if(n[c].offset){l=n[c].offset;break}l||(l=100,c=r);for(var u=((l=X(l))-s)/(c-i+1);i<c;i++)s+=u,n[i].offset=s+"%"}return n}),t._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),Le=(t._tofront=function(e,t){t.top!==e&&(je(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},t._toback=function(e,t){t.bottom!==e&&(je(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},t._insertafter=function(e,t,n){je(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},t._insertbefore=function(e,t,n){je(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},t.toMatrix=function(e,t){var n=Ie(e),i={_:{transform:E},getBBox:function(){return n}};return Oe(i,t),i.matrix}),Oe=(t.transformPath=function(e,t){return he(e,Le(e,t))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=_(n).replace(/\.{3}|\u2026/g,e._.transform||E);var i,r,o=t.parseTransformString(n),a=0,s=1,l=1,c=e._,u=new f;if(c.transform=o||[],o)for(var d=0,h=o.length;d<h;d++){var p,g,y,m,b,v=o[d],A=v.length,w=_(v[0]).toLowerCase(),M=v[0]!=w,I=M?u.invert():0;"t"==w&&3==A?M?(p=I.x(0,0),g=I.y(0,0),y=I.x(v[1],v[2]),m=I.y(v[1],v[2]),u.translate(y-p,m-g)):u.translate(v[1],v[2]):"r"==w?2==A?(b=b||e.getBBox(1),u.rotate(v[1],b.x+b.width/2,b.y+b.height/2),a+=v[1]):4==A&&(M?(y=I.x(v[2],v[3]),m=I.y(v[2],v[3]),u.rotate(v[1],y,m)):u.rotate(v[1],v[2],v[3]),a+=v[1]):"s"==w?2==A||3==A?(b=b||e.getBBox(1),u.scale(v[1],v[A-1],b.x+b.width/2,b.y+b.height/2),s*=v[1],l*=v[A-1]):5==A&&(M?(y=I.x(v[3],v[4]),m=I.y(v[3],v[4]),u.scale(v[1],v[2],y,m)):u.scale(v[1],v[2],v[3],v[4]),s*=v[1],l*=v[2]):"m"==w&&7==A&&u.add(v[1],v[2],v[3],v[4],v[5],v[6]),c.dirtyT=1,e.matrix=u}e.matrix=u,c.sx=s,c.sy=l,c.deg=a,c.dx=i=u.e,c.dy=r=u.f,1==s&&1==l&&!a&&c.bbox?(c.bbox.x+=+i,c.bbox.y+=+r):c.dirtyT=1}),ze=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}},Be=t._equaliseTransform=function(e,n){n=_(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var i,r,o,a,s=B(e.length,n.length),l=[],c=[],u=0;u<s;u++){if(o=e[u]||ze(n[u]),a=n[u]||ze(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[u]=[],c[u]=[],i=0,r=B(o.length,a.length);i<r;i++)i in o&&(l[u][i]=o[i]),i in a&&(c[u][i]=a[i])}return{from:l,to:c}};t._getContainer=function(e,n,i,r){var o;if(null!=(o=null!=r||t.is(e,"object")?e:I.doc.getElementById(e)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:e,y:n,width:i,height:r}},t.pathToRelative=Ce,t._engine={},t.path2curve=Se,t.matrix=function(e,t,n,i,r,o){return new f(e,t,n,i,r,o)},function(e){function n(e){return e[0]*e[0]+e[1]*e[1]}function i(e){var t=z.sqrt(n(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}e.add=function(e,t,n,i,r,o){var a,s,l,c,u=[[],[],[]],d=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[e,n,r],[t,i,o],[0,0,1]];for(e&&e instanceof f&&(h=[[e.a,e.c,e.e],[e.b,e.d,e.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(c=0,l=0;l<3;l++)c+=d[a][l]*h[l][s];u[a][s]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},e.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new f(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},e.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(e,t){this.add(1,0,0,1,e,t)},e.scale=function(e,t,n,i){null==t&&(t=e),(n||i)&&this.add(1,0,0,1,n,i),this.add(e,0,0,t,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},e.rotate=function(e,n,i){e=t.rad(e),n=n||0,i=i||0;var r=+z.cos(e).toFixed(9),o=+z.sin(e).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},e.x=function(e,t){return e*this.a+t*this.c+this.e},e.y=function(e,t){return e*this.b+t*this.d+this.f},e.get=function(e){return+this[_.fromCharCode(97+e)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=z.sqrt(n(r[0])),i(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=z.sqrt(n(r[1])),i(r[1]),e.shear/=e.scaley;var o=-r[0][1],a=r[1][1];return a<0?(e.rotate=t.deg(z.acos(a)),o<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(z.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(e){var t=e||this[S]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:E)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:E)+(t.rotate?"r"+[t.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);for(var Re=function(){this.returnValue=!1},Pe=function(){return this.originalEvent.preventDefault()},Ue=function(){this.cancelBubble=!0},Qe=function(){return this.originalEvent.stopPropagation()},Ye=function(e){var t=I.doc.documentElement.scrollTop||I.doc.body.scrollTop,n=I.doc.documentElement.scrollLeft||I.doc.body.scrollLeft;return{x:e.clientX+n,y:e.clientY+t}},Fe=I.doc.addEventListener?function(e,t,n,i){var r=function(e){var t=Ye(e);return n.call(i,e,t.x,t.y)};if(e.addEventListener(t,r,!1),D&&L[t]){var o=function(t){for(var r=Ye(t),o=t,a=0,s=t.targetTouches&&t.targetTouches.length;a<s;a++)if(t.targetTouches[a].target==e){(t=t.targetTouches[a]).originalEvent=o,t.preventDefault=Pe,t.stopPropagation=Qe;break}return n.call(i,t,r.x,r.y)};e.addEventListener(L[t],o,!1)}return function(){return e.removeEventListener(t,r,!1),D&&L[t]&&e.removeEventListener(L[t],o,!1),!0}}:I.doc.attachEvent?function(e,t,n,i){var r=function(e){e=e||I.win.event;var t=I.doc.documentElement.scrollTop||I.doc.body.scrollTop,r=I.doc.documentElement.scrollLeft||I.doc.body.scrollLeft,o=e.clientX+r,a=e.clientY+t;return e.preventDefault=e.preventDefault||Re,e.stopPropagation=e.stopPropagation||Ue,n.call(i,e,o,a)};return e.attachEvent("on"+t,r),function(){return e.detachEvent("on"+t,r),!0}}:void 0,He=[],Ge=function(t){for(var n,i=t.clientX,r=t.clientY,o=I.doc.documentElement.scrollTop||I.doc.body.scrollTop,a=I.doc.documentElement.scrollLeft||I.doc.body.scrollLeft,s=He.length;s--;){if(n=He[s],D&&t.touches){for(var l,c=t.touches.length;c--;)if((l=t.touches[c]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,f=n.el.node,d=f.nextSibling,h=f.parentNode,p=f.style.display;I.win.opera&&h.removeChild(f),f.style.display="none",u=n.el.paper.getElementByPoint(i,r),f.style.display=p,I.win.opera&&(d?h.insertBefore(f,d):h.appendChild(f)),u&&e("raphael.drag.over."+n.el.id,n.el,u),i+=a,r+=o,e("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,t)}},We=function(n){t.unmousemove(Ge).unmouseup(We);for(var i,r=He.length;r--;)(i=He[r]).el._drag={},e("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);He=[]},Ve=t.el={},Ze=j.length;Ze--;)!function(e){t[e]=Ve[e]=function(n,i){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:Fe(this.shape||this.node||I.doc,e,n,i||this)})),this},t["un"+e]=Ve["un"+e]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=e||!t.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(j[Ze]);Ve.data=function(n,i){var r=se[this.id]=se[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(t.is(n,"object")){for(var o in n)n[M](o)&&this.data(o,n[o]);return this}return e("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,e("raphael.data.set."+this.id,this,i,n),this},Ve.removeData=function(e){return null==e?se[this.id]={}:se[this.id]&&delete se[this.id][e],this},Ve.getData=function(){return n(se[this.id]||{})},Ve.hover=function(e,t,n,i){return this.mouseover(e,n).mouseout(t,i||n)},Ve.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var Je=[];Ve.drag=function(n,i,r,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,u=l.clientY,f=I.doc.documentElement.scrollTop||I.doc.body.scrollTop,d=I.doc.documentElement.scrollLeft||I.doc.body.scrollLeft;if(this._drag.id=l.identifier,D&&l.touches)for(var h,p=l.touches.length;p--;)if(h=l.touches[p],this._drag.id=h.identifier,h.identifier==this._drag.id){c=h.clientX,u=h.clientY;break}this._drag.x=c+d,this._drag.y=u+f,!He.length&&t.mousemove(Ge).mouseup(We),He.push({el:this,move_scope:o,start_scope:a,end_scope:s}),i&&e.on("raphael.drag.start."+this.id,i),n&&e.on("raphael.drag.move."+this.id,n),r&&e.on("raphael.drag.end."+this.id,r),e("raphael.drag.start."+this.id,a||o||this,l.clientX+d,l.clientY+f,l)}return this._drag={},Je.push({el:this,start:l}),this.mousedown(l),this},Ve.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Ve.undrag=function(){for(var n=Je.length;n--;)Je[n].el==this&&(this.unmousedown(Je[n].start),Je.splice(n,1),e.unbind("raphael.drag.*."+this.id));!Je.length&&t.unmousemove(Ge).unmouseup(We),He=[]},b.circle=function(e,n,i){var r=t._engine.circle(this,e||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(e,n,i,r,o){var a=t._engine.rect(this,e||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},b.ellipse=function(e,n,i,r){var o=t._engine.ellipse(this,e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},b.path=function(e){e&&!t.is(e,F)&&!t.is(e[0],H)&&(e+=E);var n=t._engine.path(t.format[T](t,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(e,n,i,r,o){var a=t._engine.image(this,e||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},b.text=function(e,n,i){var r=t._engine.text(this,e||0,n||0,_(i));return this.__set__&&this.__set__.push(r),r},b.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new at(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},b.setStart=function(e){this.__set__=e||this.set()},b.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},b.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},b.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},b.setViewBox=function(e,n,i,r,o){return t._engine.setViewBox.call(this,e,n,i,r,o)},b.top=b.bottom=null,b.raphael=t,b.getElementByPoint=function(e,t){var n=this,i=n.canvas,r=I.doc.elementFromPoint(e,t);if(I.win.opera&&"svg"==r.tagName){var o=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,a=r.clientLeft||i.clientLeft||0;return{y:t.top+(I.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:t.left+(I.win.pageXOffset||r.scrollLeft||i.scrollLeft)-a}}(i),a=i.createSVGRect();a.x=e-o.x,a.y=t-o.y,a.width=a.height=1;var s=i.getIntersectionList(a,null);s.length&&(r=s[s.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r&&r.raphael?n.getById(r.raphaelid):null},b.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(i){t.isBBoxIntersect(i.getBBox(),e)&&n.push(i)}),n},b.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},b.forEach=function(e,t){for(var n=this.bottom;n;){if(!1===e.call(t,n))return this;n=n.next}return this},b.getElementsByPoint=function(e,t){var n=this.set();return this.forEach(function(i){i.isPointInside(e,t)&&n.push(i)}),n},Ve.isPointInside=function(e,n){var i=this.realPath=de[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=t.transformPath(i,this.attr("transform"))),t.isPointInsidePath(i,e,n)},Ve.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=de[this.type](this),t.bboxwt=Ie(this.realPath),t.bboxwt.toString=d,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=de[this.type](this)),t.bbox=Ie(he(this.realPath,this.matrix)),t.bbox.toString=d,t.dirty=t.dirtyT=0),t.bbox)},Ve.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ve.glow=function(e){if("text"==this.type)return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:null==e.opacity?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},n=t.width/2,i=this.paper,r=i.set(),o=this.realPath||de[this.type](this);o=this.matrix?he(o,this.matrix):o;for(var a=1;a<n+1;a++)r.push(i.path(o).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/n*a).toFixed(3),opacity:+(t.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var Xe=function(e,n,i,r,o,a,l,c,u){return null==u?s(e,n,i,r,o,a,l,c):t.findDotsAtSegment(e,n,i,r,o,a,l,c,function(e,t,n,i,r,o,a,l,c){if(!(c<0||s(e,t,n,i,r,o,a,l)<c)){var u,f=.5,d=1-f;for(u=s(e,t,n,i,r,o,a,l,d);P(u-c)>.01;)u=s(e,t,n,i,r,o,a,l,d+=(u<c?1:-1)*(f/=2));return d}}(e,n,i,r,o,a,l,c,u))},$e=function(e,n){return function(i,r,o){for(var a,s,l,c,u,f="",d={},h=0,p=0,g=(i=Se(i)).length;p<g;p++){if("M"==(l=i[p])[0])a=+l[1],s=+l[2];else{if(h+(c=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(n&&!d.start){if(f+=["C"+(u=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return f;d.start=f,f=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),h+=c,a=+l[5],s=+l[6];continue}if(!e&&!n)return{x:(u=Xe(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).x,y:u.y,alpha:u.alpha}}h+=c,a=+l[5],s=+l[6]}f+=l.shift()+l}return d.end=f,(u=e?h:n?d:t.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},Ke=$e(1),qe=$e(),et=$e(0,1);t.getTotalLength=Ke,t.getPointAtLength=qe,t.getSubpath=function(e,t,n){if(this.getTotalLength(e)-n<1e-6)return et(e,t).end;var i=et(e,n,1);return t?et(i,t).end:i},Ve.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():Ke(e)},Ve.getPointAtLength=function(e){var t=this.getPath();if(t)return qe(t,e)},Ve.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},Ve.getSubpath=function(e,n){var i=this.getPath();if(i)return t.getSubpath(i,e,n)};var tt=t.easing_formulas={linear:function(e){return e},"<":function(e){return U(e,1.7)},">":function(e){return U(e,.48)},"<>":function(e){var t=.48-e/1.04,n=z.sqrt(.1734+t*t),i=n-t,r=-n-t,o=U(P(i),1/3)*(i<0?-1:1)+U(P(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:U(2,-10*e)*z.sin(2*Q*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}};tt.easeIn=tt["ease-in"]=tt["<"],tt.easeOut=tt["ease-out"]=tt[">"],tt.easeInOut=tt["ease-in-out"]=tt["<>"],tt["back-in"]=tt.backIn,tt["back-out"]=tt.backOut;var nt=[],it=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},rt=function(){for(var n=+new Date,i=0;i<nt.length;i++){var r=nt[i];if(!r.el.removed&&!r.paused){var o,a,s=n-r.start,l=r.ms,c=r.easing,u=r.from,f=r.diff,d=r.to,h=(r.t,r.el),p={},y={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&nt.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/l))/r.anim.top,!(s<0))if(s<l){var m=c(s/l);for(var b in u)if(u[M](b)){switch(ee[b]){case Y:o=+u[b]+m*l*f[b];break;case"colour":o="rgb("+[ot(J(u[b].r+m*l*f[b].r)),ot(J(u[b].g+m*l*f[b].g)),ot(J(u[b].b+m*l*f[b].b))].join(",")+")";break;case"path":o=[];for(var v=0,A=u[b].length;v<A;v++){o[v]=[u[b][v][0]];for(var w=1,I=u[b][v].length;w<I;w++)o[v][w]=+u[b][v][w]+m*l*f[b][v][w];o[v]=o[v].join(k)}o=o.join(k);break;case"transform":if(f[b].real)for(o=[],v=0,A=u[b].length;v<A;v++)for(o[v]=[u[b][v][0]],w=1,I=u[b][v].length;w<I;w++)o[v][w]=u[b][v][w]+m*l*f[b][v][w];else{var x=function(e){return+u[b][e]+m*l*f[b][e]};o=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==b)for(o=[],v=4;v--;)o[v]=+u[b][v]+m*l*f[b][v];break;default:var C=[][N](u[b]);for(o=[],v=h.paper.customAttributes[b].length;v--;)o[v]=+C[v]+m*l*f[b][v]}p[b]=o}h.attr(p),function(t,n,i){setTimeout(function(){e("raphael.anim.frame."+t,n,i)})}(h.id,h,r.anim)}else{if(function(n,i,r){setTimeout(function(){e("raphael.anim.frame."+i.id,i,r),e("raphael.anim.finish."+i.id,i,r),t.is(n,"function")&&n.call(i)})}(r.callback,h,r.anim),h.attr(d),nt.splice(i--,1),r.repeat>1&&!r.next){for(a in d)d[M](a)&&(y[a]=r.totalOrigin[a]);r.el.attr(y),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}nt.length&&it(rt)},ot=function(e){return e>255?255:e<0?0:e};Ve.animateWith=function(e,n,i,r,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var l=i instanceof p?i:t.animation(i,r,o,a);g(l,s,l.percents[0],null,s.attr());for(var c=0,u=nt.length;c<u;c++)if(nt[c].anim==n&&nt[c].el==e){nt[u-1].start=nt[c].start;break}return s},Ve.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},p.prototype.delay=function(e){var t=new p(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},p.prototype.repeat=function(e){var t=new p(this.anim,this.ms);return t.del=this.del,t.times=z.floor(B(e,0))||1,t},t.animation=function(e,n,i,r){if(e instanceof p)return e;!t.is(i,"function")&&i||(r=r||i||null,i=null),e=Object(e),n=+n||0;var o,a,s={};for(a in e)e[M](a)&&X(a)!=a&&X(a)+"%"!=a&&(o=!0,s[a]=e[a]);if(o)return i&&(s.easing=i),r&&(s.callback=r),new p({100:s},n);if(r){var l=0;for(var c in e){var u=$(c);e[M](c)&&u>l&&(l=u)}!e[l+="%"].callback&&(e[l].callback=r)}return new p(e,n)},Ve.animate=function(e,n,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var a=e instanceof p?e:t.animation(e,n,i,r);return g(a,o,a.percents[0],null,o.attr()),o},Ve.setTime=function(e,t){return e&&null!=t&&this.status(e,R(t,e.ms)/e.ms),this},Ve.status=function(e,t){var n,i,r=[],o=0;if(null!=t)return g(e,this,-1,R(t,1)),this;for(n=nt.length;o<n;o++)if((i=nt[o]).el.id==this.id&&(!e||i.anim==e)){if(e)return i.status;r.push({anim:i.anim,status:i.status})}return e?0:r},Ve.pause=function(t){for(var n=0;n<nt.length;n++)nt[n].el.id!=this.id||t&&nt[n].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,nt[n].anim)&&(nt[n].paused=!0);return this},Ve.resume=function(t){for(var n=0;n<nt.length;n++)if(nt[n].el.id==this.id&&(!t||nt[n].anim==t)){var i=nt[n];!1!==e("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Ve.stop=function(t){for(var n=0;n<nt.length;n++)nt[n].el.id!=this.id||t&&nt[n].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,nt[n].anim)&&nt.splice(n--,1);return this},e.on("raphael.remove",y),e.on("raphael.clear",y),Ve.toString=function(){return"Raphaël’s object"};var at=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,n=e.length;t<n;t++)!e[t]||e[t].constructor!=Ve.constructor&&e[t].constructor!=at||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},st=at.prototype;for(var lt in st.push=function(){for(var e,t,n=0,i=arguments.length;n<i;n++)!(e=arguments[n])||e.constructor!=Ve.constructor&&e.constructor!=at||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},st.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},st.forEach=function(e,t){for(var n=0,i=this.items.length;n<i;n++)if(!1===e.call(t,this.items[n],n))return this;return this},Ve)Ve[M](lt)&&(st[lt]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e][T](n,t)})}}(lt));return st.attr=function(e,n){if(e&&t.is(e,H)&&t.is(e[0],"object"))for(var i=0,r=e.length;i<r;i++)this.items[i].attr(e[i]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(e,n);return this},st.clear=function(){for(;this.length;)this.pop()},st.splice=function(e,t,n){e=e<0?B(this.length+e,0):e,t=B(0,R(this.length-e,t));var i,r=[],o=[],a=[];for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;i<t;i++)o.push(this[e+i]);for(;i<this.length-e;i++)r.push(this[e+i]);var s=a.length;for(i=0;i<s+r.length;i++)this.items[e+i]=this[e+i]=i<s?a[i]:r[i-s];for(i=this.items.length=this.length-=t-s;this[i];)delete this[i++];return new at(o)},st.exclude=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return this.splice(t,1),!0},st.animate=function(e,n,i,r){(t.is(i,"function")||!i)&&(r=i||null);var o,a,s=this.items.length,l=s,c=this;if(!s)return this;r&&(a=function(){!--s&&r.call(c)}),i=t.is(i,F)?i:a;var u=t.animation(e,n,i,a);for(o=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,u,u),this.items[l]&&!this.items[l].removed||s--;return this},st.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},st.getBBox=function(){for(var e=[],t=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();e.push(o.x),t.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:e=R[T](0,e),y:t=R[T](0,t),x2:n=B[T](0,n),y2:i=B[T](0,i),width:n-e,height:i-t}},st.clone=function(e){e=this.paper.set();for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].clone());return e},st.toString=function(){return"Raphaël‘s set"},st.glow=function(e){var t=this.paper.set();return this.forEach(function(n,i){var r=n.glow(e);null!=r&&r.forEach(function(e,n){t.push(e)})}),t},st.isPointInside=function(e,t){var n=!1;return this.forEach(function(i){if(i.isPointInside(e,t))return n=!0,!1}),n},t.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var i in e.face)e.face[M](i)&&(t.face[i]=e.face[i]);if(this.fonts[n]?this.fonts[n].push(t):this.fonts[n]=[t],!e.svg)for(var r in t.face["units-per-em"]=$(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[M](r)){var o=e.glyphs[r];if(t.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},o.k)for(var a in o.k)o[M](a)&&(t.glyphs[r].k[a]=o.k[a])}return e},b.getFont=function(e,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var o,a=t.fonts[e];if(!a){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[M](l)&&s.test(l)){a=t.fonts[l];break}}if(a)for(var c=0,u=a.length;c<u&&((o=a[c]).face["font-weight"]!=n||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);c++);return o}},b.print=function(e,n,i,r,o,a,s,l){a=a||"middle",s=B(R(s||0,1),-1),l=B(R(l||1,3),1);var c,u=_(i)[S](E),f=0,d=0,h=E;if(t.is(r,"string")&&(r=this.getFont(r)),r){c=(o||16)/r.face["units-per-em"];for(var p=r.face.bbox[S](v),g=+p[0],y=p[3]-p[1],m=0,b=+p[1]+("baseline"==a?y+ +r.face.descent:y/2),A=0,w=u.length;A<w;A++){if("\n"==u[A])f=0,I=0,d=0,m+=y*l;else{var M=d&&r.glyphs[u[A-1]]||{},I=r.glyphs[u[A]];f+=d?(M.w||r.w)+(M.k&&M.k[u[A]]||0)+r.w*s:0,d=1}I&&I.d&&(h+=t.transformPath(I.d,["t",f*c,m*c,"s",c,c,g,b,"t",(e-g)/c,(n-b)/c]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(t.is(e,"array"))for(var n,i=this.set(),r=0,o=e.length;r<o;r++)n=e[r]||{},A[M](n.type)&&i.push(this[n.type]().attr(n));return i},t.format=function(e,n){var i=t.is(n,H)?[0][N](n):arguments;return e&&t.is(e,F)&&i.length-1&&(e=e.replace(w,function(e,t){return null==i[++t]?E:i[t]})),e||E},t.fullfill=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(e,n,i){var r=i;return n.replace(t,function(e,t,n,i,o){t=t||i,r&&(t in r&&(r=r[t]),"function"==typeof r&&o&&(r=r()))}),r=(null==r||r==i?e:r)+""};return function(t,i){return String(t).replace(e,function(e,t){return n(e,t,i)})}}(),t.ninja=function(){if(x.was)I.win.Raphael=x.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return t},t.st=st,e.on("raphael.DOMload",function(){m=!0}),function(e,n,i){null==e.readyState&&e.addEventListener&&(e.addEventListener(n,i=function(){e.removeEventListener(n,i,!1),e.readyState="complete"},!1),e.readyState="loading"),function n(){/in/.test(e.readyState)?setTimeout(n,9):t.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),t}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,r,o,a,s,l,c,u,f,d,h,p,g,y;a="0.5.0",s="hasOwnProperty",l=/[\.\/]/,c=/\s*,\s*/,u=function(e,t){return e-t},f={n:{}},d=function(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]},h=function(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]},p=Object.prototype.toString,g=String,y=Array.isArray||function(e){return e instanceof Array||"[object Array]"==p.call(e)},eve=function(e,t){var n,i=o,a=Array.prototype.slice.call(arguments,2),s=eve.listeners(e),l=0,c=[],f={},p=[],g=r;p.firstDefined=d,p.lastDefined=h,r=e,o=0;for(var y=0,m=s.length;y<m;y++)"zIndex"in s[y]&&(c.push(s[y].zIndex),s[y].zIndex<0&&(f[s[y].zIndex]=s[y]));for(c.sort(u);c[l]<0;)if(n=f[c[l++]],p.push(n.apply(t,a)),o)return o=i,p;for(y=0;y<m;y++)if("zIndex"in(n=s[y]))if(n.zIndex==c[l]){if(p.push(n.apply(t,a)),o)break;do{if((n=f[c[++l]])&&p.push(n.apply(t,a)),o)break}while(n)}else f[n.zIndex]=n;else if(p.push(n.apply(t,a)),o)break;return o=i,r=g,p},eve._events=f,eve.listeners=function(e){var t,n,i,r,o,a,s,c,u=y(e)?e:e.split(l),d=f,h=[d],p=[];for(r=0,o=u.length;r<o;r++){for(c=[],a=0,s=h.length;a<s;a++)for(n=[(d=h[a].n)[u[r]],d["*"]],i=2;i--;)(t=n[i])&&(c.push(t),p=p.concat(t.f||[]));h=c}return p},eve.separator=function(e){e?(e="["+(e=g(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",l=new RegExp(e)):l=/[\.\/]/},eve.on=function(e,t){if("function"!=typeof t)return function(){};for(var n=y(e)?y(e[0])?e:[e]:g(e).split(c),i=0,r=n.length;i<r;i++)!function(e){for(var n,i=y(e)?e:g(e).split(l),r=f,o=0,a=i.length;o<a;o++)r=(r=r.n).hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,a=r.f.length;o<a;o++)if(r.f[o]==t){n=!0;break}!n&&r.f.push(t)}(n[i]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){o=1},eve.nt=function(e){var t=y(r)?r.join("."):r;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return y(r)?r:r.split(l)},eve.off=eve.unbind=function(e,t){if(e){var n=y(e)?y(e[0])?e:[e]:g(e).split(c);if(n.length>1)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],t);else{n=y(e)?e:g(e).split(l);var o,a,u,d,h,p=[f];for(i=0,r=n.length;i<r;i++)for(d=0;d<p.length;d+=u.length-2){if(u=[d,1],o=p[d].n,"*"!=n[i])o[n[i]]&&u.push(o[n[i]]);else for(a in o)o[s](a)&&u.push(o[a]);p.splice.apply(p,u)}for(i=0,r=p.length;i<r;i++)for(o=p[i];o.n;){if(t){if(o.f){for(d=0,h=o.f.length;d<h;d++)if(o.f[d]==t){o.f.splice(d,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[s](a)&&o.n[a].f){var m=o.n[a].f;for(d=0,h=m.length;d<h;d++)if(m[d]==t){m.splice(d,1);break}!m.length&&delete o.n[a].f}}else for(a in delete o.f,o.n)o.n[s](a)&&o.n[a].f&&delete o.n[a].f;o=o.n}}}else eve._events=f={n:{}}},eve.once=function(e,t){var n=function(){return eve.off(e,n),t.apply(this,arguments)};return eve.on(e,n)},eve.version=a,eve.toString=function(){return"You are running Eve "+a},void 0!==e&&e.exports?e.exports=eve:void 0===(i=function(){return eve}.apply(t,[]))||(e.exports=i)},function(e,t,n){var i,r;i=[n(1)],void 0===(r=function(e){if(!e||e.svg){var t="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,c=/[, ]+/,u=e.eve,f="",d=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var y=function(i,r){if(r)for(var o in"string"==typeof i&&(i=y(i)),r)r[t](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(h,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])));else(i=e._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},m=function(t,r){var c="linear",u=t.id+r,d=.5,h=.5,p=t.node,g=t.paper,m=p.style,v=e._g.doc.getElementById(u);if(!v){if(r=(r=n(r).replace(e._radial_gradient,function(e,t,n){if(c="radial",t&&n){d=i(t);var r=2*((h=i(n))>.5)-1;l(d-.5,2)+l(h-.5,2)>.25&&(h=o.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*r)}return f})).split(/\s*\-\s*/),"linear"==c){var A=r.shift();if(A=-i(A),isNaN(A))return null;var w=[0,0,o.cos(e.rad(A)),o.sin(e.rad(A))],M=1/(a(s(w[2]),s(w[3]))||1);w[2]*=M,w[3]*=M,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var I=e._parseDots(r);if(!I)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&u!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){v=y(c+"Gradient",{id:u}),t.gradient=v,y(v,"radial"==c?{fx:d,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(v);for(var x=0,C=I.length;x<C;x++)v.appendChild(y("stop",{offset:I[x].offset?I[x].offset:x?"100%":"0%","stop-color":I[x].color||"#fff","stop-opacity":isFinite(I[x].opacity)?I[x].opacity:1}))}}return y(p,{fill:b(u),opacity:1,"fill-opacity":1}),m.fill=f,m.opacity=1,m.fillOpacity=1,1},b=function(e){if(function(){var e=document.documentMode;return e&&(9===e||10===e)}())return"url('#"+e+"')";var t=document.location;return"url('"+t.protocol+"//"+t.host+t.pathname+t.search+"#"+e+"')"},v=function(e){var t=e.getBBox(1);y(e.pattern,{patternTransform:e.matrix.invert()+" translate("+t.x+","+t.y+")"})},A=function(i,r,o){if("path"==i.type){for(var a,s,l,c,u,d=n(r).toLowerCase().split("-"),h=i.paper,m=o?"end":"start",b=i.node,v=i.attrs,A=v["stroke-width"],w=d.length,M="classic",I=3,x=3,C=5;w--;)switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":M=d[w];break;case"wide":x=5;break;case"narrow":x=2;break;case"long":I=5;break;case"short":I=2}if("open"==M?(I+=2,x+=2,C+=2,l=1,c=o?4:1,u={fill:"none",stroke:v.stroke}):(c=l=I/2,u={fill:v.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=M){var T="raphael-marker-"+M,N="raphael-marker-"+m+M+I+x+"-obj"+i.id;e._g.doc.getElementById(T)?g[T]++:(h.defs.appendChild(y(y("path"),{"stroke-linecap":"round",d:p[M],id:T})),g[T]=1);var D,E=e._g.doc.getElementById(N);E?(g[N]++,D=E.getElementsByTagName("use")[0]):(E=y(y("marker"),{id:N,markerHeight:x,markerWidth:I,orient:"auto",refX:c,refY:x/2}),D=y(y("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+I/2+" "+x/2+") ":f)+"scale("+I/C+","+x/C+")","stroke-width":(1/((I/C+x/C)/2)).toFixed(4)}),E.appendChild(D),h.defs.appendChild(E),g[N]=1),y(D,u);var k=l*("diamond"!=M&&"oval"!=M);o?(a=i._.arrows.startdx*A||0,s=e.getTotalLength(v.path)-k*A):(a=k*A,s=e.getTotalLength(v.path)-(i._.arrows.enddx*A||0)),(u={})["marker-"+m]="url(#"+N+")",(s||a)&&(u.d=e.getSubpath(v.path,a,s)),y(b,u),i._.arrows[m+"Path"]=T,i._.arrows[m+"Marker"]=N,i._.arrows[m+"dx"]=k,i._.arrows[m+"Type"]=M,i._.arrows[m+"String"]=r}else o?(a=i._.arrows.startdx*A||0,s=e.getTotalLength(v.path)-a):(a=0,s=e.getTotalLength(v.path)-(i._.arrows.enddx*A||0)),i._.arrows[m+"Path"]&&y(b,{d:e.getSubpath(v.path,a,s)}),delete i._.arrows[m+"Path"],delete i._.arrows[m+"Marker"],delete i._.arrows[m+"dx"],delete i._.arrows[m+"Type"],delete i._.arrows[m+"String"];for(u in g)if(g[t](u)&&!g[u]){var _=e._g.doc.getElementById(u);_&&_.parentNode.removeChild(_)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},M=function(e,t,i){if(t=w[n(t).toLowerCase()]){for(var r=e.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,a=[],s=t.length;s--;)a[s]=t[s]*r+(s%2?1:-1)*o;y(e.node,{"stroke-dasharray":a.join(",")})}else y(e.node,{"stroke-dasharray":"none"})},I=function(i,o){var l=i.node,u=i.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[t](p)){if(!e._availableAttrs[t](p))continue;var g=o[p];switch(u[p]=g,p){case"blur":i.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=y("title");var w=e._g.doc.createTextNode(g);b.appendChild(w),l.appendChild(b)}break;case"href":case"target":var I=l.parentNode;if("a"!=I.tagName.toLowerCase()){var C=y("a");I.insertBefore(C,l),C.appendChild(l),I=C}"target"==p?I.setAttributeNS(h,"show","blank"==g?"new":g):I.setAttributeNS(h,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":A(i,g);break;case"arrow-end":A(i,g,1);break;case"clip-rect":var T=n(g).split(c);if(4==T.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var N=y("clipPath"),D=y("rect");N.id=e.createUUID(),y(D,{x:T[0],y:T[1],width:T[2],height:T[3]}),N.appendChild(D),i.paper.defs.appendChild(N),y(l,{"clip-path":"url(#"+N.id+")"}),i.clip=D}if(!g){var E=l.getAttribute("clip-path");if(E){var k=e._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,f));k&&k.parentNode.removeChild(k),y(l,{"clip-path":f}),delete i.clip}}break;case"path":"path"==i.type&&(y(l,{d:g?u.path=e._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),i._.dirty=1,!u.fx)break;p="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,g),i.pattern&&v(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,g),i._.dirty=1,!u.fy)break;p="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,g),i.pattern&&v(i),i._.dirty=1;break;case"r":"rect"==i.type?y(l,{rx:g,ry:g}):l.setAttribute(p,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(h,"href",g);break;case"stroke-width":1==i._.sx&&1==i._.sy||(g/=a(s(i._.sx),s(i._.sy))||1),l.setAttribute(p,g),u["stroke-dasharray"]&&M(i,u["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1));break;case"stroke-dasharray":M(i,g,o);break;case"fill":var _=n(g).match(e._ISURL);if(_){N=y("pattern");var S=y("image");N.id=e.createUUID(),y(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),y(S,{x:0,y:0,"xlink:href":_[1]}),N.appendChild(S),function(t){e._preload(_[1],function(){var e=this.offsetWidth,n=this.offsetHeight;y(t,{width:e,height:n}),y(S,{width:e,height:n})})}(N),i.paper.defs.appendChild(N),y(l,{fill:"url(#"+N.id+")"}),i.pattern=N,i.pattern&&v(i);break}var j=e.getRGB(g);if(j.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&m(i,g)){if("opacity"in u||"fill-opacity"in u){var L=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(L){var O=L.getElementsByTagName("stop");y(O[O.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete o.gradient,delete u.gradient,!e.is(u.opacity,"undefined")&&e.is(o.opacity,"undefined")&&y(l,{opacity:u.opacity}),!e.is(u["fill-opacity"],"undefined")&&e.is(o["fill-opacity"],"undefined")&&y(l,{"fill-opacity":u["fill-opacity"]});j[t]("opacity")&&y(l,{"fill-opacity":j.opacity>1?j.opacity/100:j.opacity});case"stroke":j=e.getRGB(g),l.setAttribute(p,j.hex),"stroke"==p&&j[t]("opacity")&&y(l,{"stroke-opacity":j.opacity>1?j.opacity/100:j.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&A(i,i._.arrows.startString),"endString"in i._.arrows&&A(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(g).charAt())&&m(i,g);break;case"opacity":u.gradient&&!u[t]("stroke-opacity")&&y(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){(L=e._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&(O=L.getElementsByTagName("stop"),y(O[O.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=r(g,10)+"px");var z=p.replace(/(\-.)/g,function(e){return e.substring(1).toUpperCase()});l.style[z]=g,i._.dirty=1,l.setAttribute(p,g)}}x(i,o),l.style.visibility=d},x=function(i,o){if("text"==i.type&&(o[t]("text")||o[t]("font")||o[t]("font-size")||o[t]("x")||o[t]("y"))){var a=i.attrs,s=i.node,l=s.firstChild?r(e._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(o[t]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,u=n(o.text).split("\n"),d=[],h=0,p=u.length;h<p;h++)c=y("tspan"),h&&y(c,{dy:1.2*l,x:a.x}),c.appendChild(e._g.doc.createTextNode(u[h])),s.appendChild(c),d[h]=c}else for(h=0,p=(d=s.getElementsByTagName("tspan")).length;h<p;h++)h?y(d[h],{dy:1.2*l,x:a.x}):y(d[0],{dy:0});y(s,{x:a.x,y:a.y}),i._.dirty=1;var g=i._getBBox(),m=a.y-(g.y+g.height/2);m&&e.is(m,"finite")&&y(d[0],{dy:m})}},C=function(e){return e.parentNode&&"a"===e.parentNode.tagName.toLowerCase()?e.parentNode:e},T=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},N=e.el;T.prototype=N,N.constructor=T,e._engine.path=function(e,t){var n=y("path");t.canvas&&t.canvas.appendChild(n);var i=new T(n,t);return i.type="path",I(i,{fill:"none",stroke:"#000",path:e}),i},N.rotate=function(e,t,r){if(this.removed)return this;if((e=n(e).split(c)).length-1&&(t=i(e[1]),r=i(e[2])),e=i(e[0]),null==r&&(t=r),null==t||null==r){var o=this.getBBox(1);t=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",e,t,r]])),this},N.scale=function(e,t,r,o){if(this.removed)return this;if((e=n(e).split(c)).length-1&&(t=i(e[1]),r=i(e[2]),o=i(e[3])),e=i(e[0]),null==t&&(t=e),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,t,r,o]])),this},N.translate=function(e,t){return this.removed?this:((e=n(e).split(c)).length-1&&(t=i(e[1])),e=i(e[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",e,t]])),this)},N.transform=function(n){var i=this._;if(null==n)return i.transform;if(e._extractTransform(this,n),this.clip&&y(this.clip,{transform:this.matrix.invert()}),this.pattern&&v(this),this.node&&y(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},N.hide=function(){return this.removed||(this.node.style.display="none"),this},N.show=function(){return this.removed||(this.node.style.display=""),this},N.remove=function(){var t=C(this.node);if(!this.removed&&t.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),e._tear(this,n),t.parentNode.removeChild(t),this.removeData(),this)this[i]="function"==typeof this[i]?e._removedFactory(i):null;this.removed=!0}},N._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var t,n=!1;this.paper.canvas.parentElement?t=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(t=this.paper.canvas.parentNode.style),t&&"none"==t.display&&(n=!0,t.display="");var i={};try{i=this.node.getBBox()}catch(e){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(t.display="none")}return e&&this.hide(),i},N.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[t](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&e.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(c),s={},l=0,f=a.length;l<f;l++)(n=a[l])in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return f-1?s:s[a[0]]}if(null==i&&e.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=i){var d={};d[n]=i}else null!=n&&e.is(n,"object")&&(d=n);for(var h in d)u("raphael.attr."+h+"."+this.id,this,d[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[t](h)&&d[t](h)&&e.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var g in this.attrs[h]=d[h],p)p[t](g)&&(d[g]=p[g])}return I(this,d),this},N.toFront=function(){if(this.removed)return this;var t=C(this.node);t.parentNode.appendChild(t);var n=this.paper;return n.top!=this&&e._tofront(this,n),this},N.toBack=function(){if(this.removed)return this;var t=C(this.node),n=t.parentNode;return n.insertBefore(t,n.firstChild),e._toback(this,this.paper),this.paper,this},N.insertAfter=function(t){if(this.removed||!t)return this;var n=C(this.node),i=C(t.node||t[t.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),e._insertafter(this,t,this.paper),this},N.insertBefore=function(t){if(this.removed||!t)return this;var n=C(this.node),i=C(t.node||t[0].node);return i.parentNode.insertBefore(n,i),e._insertbefore(this,t,this.paper),this},N.blur=function(t){var n=this;if(0!=+t){var i=y("filter"),r=y("feGaussianBlur");n.attrs.blur=t,i.id=e.createUUID(),y(r,{stdDeviation:+t||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,y(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},e._engine.circle=function(e,t,n,i){var r=y("circle");e.canvas&&e.canvas.appendChild(r);var o=new T(r,e);return o.attrs={cx:t,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",y(r,o.attrs),o},e._engine.rect=function(e,t,n,i,r,o){var a=y("rect");e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:t,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",y(a,s.attrs),s},e._engine.ellipse=function(e,t,n,i,r){var o=y("ellipse");e.canvas&&e.canvas.appendChild(o);var a=new T(o,e);return a.attrs={cx:t,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",y(o,a.attrs),a},e._engine.image=function(e,t,n,i,r,o){var a=y("image");y(a,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(h,"href",t),e.canvas&&e.canvas.appendChild(a);var s=new T(a,e);return s.attrs={x:n,y:i,width:r,height:o,src:t},s.type="image",s},e._engine.text=function(t,n,i,r){var o=y("text");t.canvas&&t.canvas.appendChild(o);var a=new T(o,t);return a.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":e._availableAttrs["font-family"],"font-size":e._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",I(a,a.attrs),a},e._engine.setSize=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t&&t.container,i=t.x,r=t.y,o=t.width,a=t.height;if(!n)throw new Error("SVG container not found.");var s,l=y("svg"),c="overflow:hidden;";return i=i||0,r=r||0,y(l,{height:a=a||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=c+"position:absolute;left:"+i+"px;top:"+r+"px",e._g.doc.body.appendChild(l),s=1):(l.style.cssText=c+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new e._Paper).width=o,n.height=a,n.canvas=l,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},e._engine.setViewBox=function(e,t,n,i,r){u("raphael.setViewBox",this,this._viewBox,[e,t,n,i,r]);var o,s,l=this.getSize(),c=a(n/l.width,i/l.height),f=this.top,h=r?"xMidYMid meet":"xMinYMin";for(null==e?(this._vbSize&&(c=1),delete this._vbSize,o="0 0 "+this.width+d+this.height):(this._vbSize=c,o=e+d+t+d+n+d+i),y(this.canvas,{viewBox:o,preserveAspectRatio:h});c&&f;)s="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":s}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[e,t,n,i,!!r],this},e.prototype.renderfix=function(){var e,t=this.canvas,n=t.style;try{e=t.getScreenCTM()||t.createSVGMatrix()}catch(n){e=t.createSVGMatrix()}var i=-e.e%1,r=-e.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=y("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),t.appendChild(this.desc),t.appendChild(this.defs=y("defs"))},e.prototype.remove=function(){for(var t in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null};var D=e.st;for(var E in N)N[t](E)&&!D[t](E)&&(D[E]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(E))}}.apply(t,i))||(e.exports=r)},function(e,t,n){var i,r;i=[n(1)],void 0===(r=function(e){if(!e||e.vml){var t="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,a=r.max,s=r.min,l=r.abs,c="fill",u=/[, ]+/,f=e.eve,d=" ",h="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,y=/ progid:\S+Blur\([^\)]+\)/g,m=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",v=21600,A={path:1,rect:1,image:1},w={circle:1,ellipse:1},M=function(t){var i=/[ahqstv]/gi,r=e._pathToAbsolute;if(n(t).match(i)&&(r=e._path2curve),i=/[clmz]/g,r==e._pathToAbsolute&&!n(t).match(i)){var a=n(t).replace(g,function(e,t,n){var i=[],r="m"==t.toLowerCase(),a=p[t];return n.replace(m,function(e){r&&2==i.length&&(a+=i+p["m"==t?"l":"L"],i=[]),i.push(o(e*v))}),a+i});return a}var s,l,c=r(t);a=[];for(var u=0,f=c.length;u<f;u++){s=c[u],"z"==(l=c[u][0].toLowerCase())&&(l="x");for(var y=1,b=s.length;y<b;y++)l+=o(s[y]*v)+(y!=b-1?",":h);a.push(l)}return a.join(d)},I=function(t,n,i){var r=e.matrix();return r.rotate(-t,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},x=function(e,t,n,i,r,o){var a=e._,s=e.matrix,u=a.fillpos,f=e.node,h=f.style,p=1,g="",y=v/t,m=v/n;if(h.visibility="hidden",t&&n){if(f.coordsize=l(y)+d+l(m),h.rotation=o*(t*n<0?-1:1),o){var b=I(o,i,r);i=b.dx,r=b.dy}if(t<0&&(g+="x"),n<0&&(g+=" y")&&(p=-1),h.flip=g,f.coordorigin=i*-y+d+r*-m,u||a.fillsize){var A=f.getElementsByTagName(c);A=A&&A[0],f.removeChild(A),u&&(b=I(o,s.x(u[0],u[1]),s.y(u[0],u[1])),A.position=b.dx*p+d+b.dy*p),a.fillsize&&(A.size=a.fillsize[0]*l(t)+d+a.fillsize[1]*l(n)),f.appendChild(A)}h.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var C,T=function(e,t,i){for(var r=n(t).toLowerCase().split("-"),o=i?"end":"start",a=r.length,s="classic",l="medium",c="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=r[a];break;case"wide":case"narrow":c=r[a];break;case"long":case"short":l=r[a]}var u=e.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=s,u[o+"arrowlength"]=l,u[o+"arrowwidth"]=c},N=function(r,l){r.attrs=r.attrs||{};var f=r.node,p=r.attrs,g=f.style,y=A[r.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),m=w[r.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),b=r;for(var I in l)l[t](I)&&(p[I]=l[I]);if(y&&(p.path=e._getPath[r.type](r),r._.dirty=1),l.href&&(f.href=l.href),l.title&&(f.title=l.title),l.target&&(f.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||y)&&(f.path=M(~n(p.path).toLowerCase().indexOf("r")?e._pathToAbsolute(p.path):p.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],x(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),m){var N=+p.cx,E=+p.cy,k=+p.rx||+p.r||0,_=+p.ry||+p.r||0;f.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((N-k)*v),o((E-_)*v),o((N+k)*v),o((E+_)*v),o(N*v)),r._.dirty=1}if("clip-rect"in l){var S=n(l["clip-rect"]).split(u);if(4==S.length){S[2]=+S[2]+ +S[0],S[3]=+S[3]+ +S[1];var j=f.clipRect||e._g.doc.createElement("div"),L=j.style;L.clip=e.format("rect({1}px {2}px {3}px {0}px)",S),f.clipRect||(L.position="absolute",L.top=0,L.left=0,L.width=r.paper.width+"px",L.height=r.paper.height+"px",f.parentNode.insertBefore(j,f),j.appendChild(f),f.clipRect=j)}l["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(r.textpath){var O=r.textpath.style;l.font&&(O.font=l.font),l["font-family"]&&(O.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,h)+'"'),l["font-size"]&&(O.fontSize=l["font-size"]),l["font-weight"]&&(O.fontWeight=l["font-weight"]),l["font-style"]&&(O.fontStyle=l["font-style"])}if("arrow-start"in l&&T(b,l["arrow-start"]),"arrow-end"in l&&T(b,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var z=f.getElementsByTagName(c);if(!(z=z&&z[0])&&(z=C(c)),"image"==r.type&&l.src&&(z.src=l.src),l.fill&&(z.on=!0),null!=z.on&&"none"!=l.fill&&null!==l.fill||(z.on=!1),z.on&&l.fill){var B=n(l.fill).match(e._ISURL);if(B){z.parentNode==f&&f.removeChild(z),z.rotate=!0,z.src=B[1],z.type="tile";var R=r.getBBox(1);z.position=R.x+d+R.y,r._.fillpos=[R.x,R.y],e._preload(B[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else z.color=e.getRGB(l.fill).hex,z.src=h,z.type="solid",e.getRGB(l.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&D(b,l.fill,z)&&(p.fill="none",p.gradient=l.fill,z.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var P=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+e.getRGB(l.fill).o+1||2)-1);P=s(a(P,0),1),z.opacity=P,z.src&&(z.color="none")}f.appendChild(z);var U=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],Q=!1;!U&&(Q=U=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(U.on=!0),("none"==l.stroke||null===l.stroke||null==U.on||0==l.stroke||0==l["stroke-width"])&&(U.on=!1);var Y=e.getRGB(l.stroke);U.on&&l.stroke&&(U.color=Y.hex),P=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+Y.o+1||2)-1);var F=.75*(i(l["stroke-width"])||1);if(P=s(a(P,0),1),null==l["stroke-width"]&&(F=p["stroke-width"]),l["stroke-width"]&&(U.weight=F),F&&F<1&&(P*=F)&&(U.weight=1),U.opacity=P,l["stroke-linejoin"]&&(U.joinstyle=l["stroke-linejoin"]||"miter"),U.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(U.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var H={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};U.dashstyle=H[t](l["stroke-dasharray"])?H[l["stroke-dasharray"]]:h}Q&&f.appendChild(U)}if("text"==b.type){b.paper.canvas.style.display=h;var G=b.paper.span,W=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);g=G.style,p.font&&(g.font=p.font),p["font-family"]&&(g.fontFamily=p["font-family"]),p["font-weight"]&&(g.fontWeight=p["font-weight"]),p["font-style"]&&(g.fontStyle=p["font-style"]),W=i(p["font-size"]||W&&W[0])||10,g.fontSize=100*W+"px",b.textpath.string&&(G.innerHTML=n(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var V=G.getBoundingClientRect();b.W=p.w=(V.right-V.left)/100,b.H=p.h=(V.bottom-V.top)/100,b.X=p.x,b.Y=p.y+b.H/2,("x"in l||"y"in l)&&(b.path.v=e.format("m{0},{1}l{2},{1}",o(p.x*v),o(p.y*v),o(p.x*v)+1));for(var Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,X=Z.length;J<X;J++)if(Z[J]in l){b._.dirty=1;break}switch(p["text-anchor"]){case"start":b.textpath.style["v-text-align"]="left",b.bbx=b.W/2;break;case"end":b.textpath.style["v-text-align"]="right",b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},D=function(t,o,a){t.attrs=t.attrs||{},t.attrs;var s=Math.pow,l="linear",c=".5 .5";if(t.attrs.gradient=o,o=(o=n(o).replace(e._radial_gradient,function(e,t,n){return l="radial",t&&n&&(t=i(t),n=i(n),s(t-.5,2)+s(n-.5,2)>.25&&(n=r.sqrt(.25-s(t-.5,2))*(2*(n>.5)-1)+.5),c=t+d+n),h})).split(/\s*\-\s*/),"linear"==l){var u=o.shift();if(u=-i(u),isNaN(u))return null}var f=e._parseDots(o);if(!f)return null;if(t=t.shape||t.node,f.length){t.removeChild(a),a.on=!0,a.method="none",a.color=f[0].color,a.color2=f[f.length-1].color;for(var p=[],g=0,y=f.length;g<y;g++)f[g].offset&&p.push(f[g].offset+d+f[g].color);a.colors=p.length?p.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=c,a.angle=0):(a.type="gradient",a.angle=(270-u)%360),t.appendChild(a)}return 1},E=function(t,n){this[0]=this.node=t,t.raphael=!0,this.id=e._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},k=e.el;E.prototype=k,k.constructor=E,k.transform=function(t){if(null==t)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:h;r&&(i=t=n(t).replace(/\.{3}|\u2026/g,this._.transform||h)),e._extractTransform(this,o+t);var a,s=this.matrix.clone(),l=this.skew,c=this.node,u=~n(this.attrs.fill).indexOf("-"),f=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),f||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),u&&a.noRotation||!a.isSimple){c.style.filter=s.toFilter();var p=this.getBBox(),g=this.getBBox(1),y=p.x-g.x,m=p.y-g.y;c.coordorigin=y*-v+d+m*-v,x(this,1,1,y,m,0)}else c.style.filter=h,x(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else c.style.filter=h,l.matrix=n(s),l.offset=s.offset();return null!==i&&(this._.transform=i,e._extractTransform(this,i)),this},k.rotate=function(e,t,r){if(this.removed)return this;if(null!=e){if((e=n(e).split(u)).length-1&&(t=i(e[1]),r=i(e[2])),e=i(e[0]),null==r&&(t=r),null==t||null==r){var o=this.getBBox(1);t=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",e,t,r]])),this}},k.translate=function(e,t){return this.removed?this:((e=n(e).split(u)).length-1&&(t=i(e[1])),e=i(e[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=e,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",e,t]])),this)},k.scale=function(e,t,r,o){if(this.removed)return this;if((e=n(e).split(u)).length-1&&(t=i(e[1]),r=i(e[2]),o=i(e[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),e=i(e[0]),null==t&&(t=e),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",e,t,r,o]])),this._.dirtyT=1,this},k.hide=function(){return!this.removed&&(this.node.style.display="none"),this},k.show=function(){return!this.removed&&(this.node.style.display=h),this},k.auxGetBBox=e.el.getBBox,k.getBBox=function(){var e=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var t={},n=1/this.paper._viewBoxShift.scale;return t.x=e.x-this.paper._viewBoxShift.dx,t.x*=n,t.y=e.y-this.paper._viewBoxShift.dy,t.y*=n,t.width=e.width*n,t.height=e.height*n,t.x2=t.x+t.width,t.y2=t.y+t.height,t}return e},k._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},k.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},k.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[t](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&e.is(n,"string")){if(n==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(u),s={},l=0,d=a.length;l<d;l++)(n=a[l])in this.attrs?s[n]=this.attrs[n]:e.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=e._availableAttrs[n];return d-1?s:s[a[0]]}if(this.attrs&&null==i&&e.is(n,"array")){for(s={},l=0,d=n.length;l<d;l++)s[n[l]]=this.attr(n[l]);return s}var h;for(var p in null!=i&&((h={})[n]=i),null==i&&e.is(n,"object")&&(h=n),h)f("raphael.attr."+p+"."+this.id,this,h[p]);if(h){for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&h[t](p)&&e.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(h[p]));for(var y in this.attrs[p]=h[p],g)g[t](y)&&(h[y]=g[y])}h.text&&"text"==this.type&&(this.textpath.string=h.text),N(this,h)}return this},k.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},k.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},k.insertAfter=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),e._insertafter(this,t,this.paper),this)},k.insertBefore=function(t){return this.removed?this:(t.constructor==e.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),e._insertbefore(this,t,this.paper),this)},k.blur=function(t){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(y,h),0!=+t?(this.attrs.blur=t,n.filter=i+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",o(+t||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},e._engine.path=function(e,t){var n=C("shape");n.style.cssText=b,n.coordsize=v+d+v,n.coordorigin=t.coordorigin;var i=new E(n,t),r={fill:"none",stroke:"#000"};e&&(r.path=e),i.type="path",i.path=[],i.Path=h,N(i,r),t.canvas&&t.canvas.appendChild(n);var o=C("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(h),i},e._engine.rect=function(t,n,i,r,o,a){var s=e._rectPath(n,i,r,o,a),l=t.path(s),c=l.attrs;return l.X=c.x=n,l.Y=c.y=i,l.W=c.width=r,l.H=c.height=o,c.r=a,c.path=s,l.type="rect",l},e._engine.ellipse=function(e,t,n,i,r){var o=e.path();return o.attrs,o.X=t-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",N(o,{cx:t,cy:n,rx:i,ry:r}),o},e._engine.circle=function(e,t,n,i){var r=e.path();return r.attrs,r.X=t-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",N(r,{cx:t,cy:n,r:i}),r},e._engine.image=function(t,n,i,r,o,a){var s=e._rectPath(i,r,o,a),l=t.path(s).attr({stroke:"none"}),u=l.attrs,f=l.node,d=f.getElementsByTagName(c)[0];return u.src=n,l.X=u.x=i,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=a,u.path=s,l.type="image",d.parentNode==f&&f.removeChild(d),d.rotate=!0,d.src=n,d.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,a],f.appendChild(d),x(l,1,1,0,0,0),l},e._engine.text=function(t,i,r,a){var s=C("shape"),l=C("path"),c=C("textpath");i=i||0,r=r||0,a=a||"",l.v=e.format("m{0},{1}l{2},{1}",o(i*v),o(r*v),o(i*v)+1),l.textpathok=!0,c.string=n(a),c.on=!0,s.style.cssText=b,s.coordsize=v+d+v,s.coordorigin="0 0";var u=new E(s,t),f={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};u.shape=s,u.path=l,u.textpath=c,u.type="text",u.attrs.text=n(a),u.attrs.x=i,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,N(u,f),s.appendChild(c),s.appendChild(l),t.canvas.appendChild(s);var p=C("skew");return p.on=!0,s.appendChild(p),u.skew=p,u.transform(h),u},e._engine.setSize=function(t,n){var i=this.canvas.style;return this.width=t,this.height=n,t==+t&&(t+="px"),n==+n&&(n+="px"),i.width=t,i.height=n,i.clip="rect(0 "+t+" "+n+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(t,n,i,r,o){e.eve("raphael.setViewBox",this,this._viewBox,[t,n,i,r,o]);var a,s,l=this.getSize(),c=l.width,u=l.height;return o&&(i*(a=u/r)<c&&(t-=(c-i*a)/2/a),r*(s=c/i)<u&&(n-=(u-r*s)/2/s)),this._viewBox=[t,n,i,r,!!o],this._viewBoxShift={dx:-t,dy:-n,scale:l},this.forEach(function(e){e.transform("...")}),this},e._engine.initWin=function(e){var t=e.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(e){return t.createElement("<rvml:"+e+' class="rvml">')}}catch(e){C=function(e){return t.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var t=e._getContainer.apply(0,arguments),n=t.container,i=t.height,r=t.width,o=t.x,a=t.y;if(!n)throw new Error("VML container not found.");var s=new e._Paper,l=s.canvas=e._g.doc.createElement("div"),c=l.style;return o=o||0,a=a||0,r=r||512,i=i||342,s.width=r,s.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),s.coordsize=216e5+d+216e5,s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(e._g.doc.body.appendChild(l),c.left=o+"px",c.top=a+"px",c.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=h,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){for(var t in e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;return!0};var _=e.st;for(var S in k)k[t](S)&&!_[t](S)&&(_[S]=function(e){return function(){var t=arguments;return this.forEach(function(n){n[e].apply(n,t)})}}(S))}}.apply(t,i))||(e.exports=r)}])},e.exports=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=s(r),a=s(n(201));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.data,i=e.dispatch,r=e.menuId,s=[];return t.forEach(function(e,t){s.push(o.default.createElement(a.default,{item:e,key:t,data:n,dispatch:i}))}),o.default.createElement("div",{id:r},o.default.createElement("ul",{className:"dropdown-menu",style:{color:"rgb(11, 54, 106)"}},s))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=s(r),a=s(n(89));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.dispatch,r=t.selectDir,s=[];return n.forEach(function(t,n){s.push(o.default.createElement(a.default,{data:t,key:n,dispatch:i,selectDir:r,expandLevel:e.props.expandLevel}))}),o.default.createElement("ul",{style:{marginLeft:"-18px"}},s)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=s(r),a=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.item,n=e.data,i=e.dispatch;if(t.click){var r=a.default.findDOMNode(this);$(r).click(function(e){t.click(n,i)})}}},{key:"render",value:function(){var e=this.props.item;return o.default.createElement("li",null,o.default.createElement("a",{href:"###"},o.default.createElement("i",{className:e.icon,style:{color:"#00A0E8"}})," ",e.name))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(241)),o=a(n(203));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.output=n,this.fieldsData=i,this.variableCategory=t,this.variableCategories=r,this.init()}return i(e,[{key:"init",value:function(){this.container=$('<div style="padding: 0px 20px 0px"><label>'+this.variableCategory.name+"</label></div>");var e=$('<button class="btn btn-link">添加字段</button>');this.container.append(e);var t=$('<i class="glyphicon glyphicon-trash" style="color: red;cursor: pointer"></i>');this.container.append(t);var n=this;t.click(function(){bootbox.confirm("真的要删除当前变量分类及其下字段吗？",function(e){if(e){var t=n.categoryItems.indexOf(n);n.categoryItems.splice(t,1),n.container.remove()}})});var i=$("<div></div>");this.container.append(i),e.click(function(){new r.default(n.output).show(n.variableCategory.variables,function(e){e.items=n.items;var t=null,r=!0,o=!1,a=void 0;try{for(var s,l=n.items[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(c.field.name===e.field.name){t=c.field.label+"字段已存在，不能重复添加!";break}}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}t?bootbox.alert(t):(n.items.push(e),e.variableCategories=n.variableCategories,i.append(e.container))})}),this.initData(i)}},{key:"initData",value:function(e){if(this.fieldsData){var t=!0,n=!1,i=void 0;try{for(var r,a=(this.fieldsData||[])[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value,l=s.name,c=this.findVariable(l);if(c){var u=new o.default(c,this.output);this.items.push(u),u.items=this.items,u.editor&&(u.editor.val(s.value),u.value=s.value),u.variableCategories=this.variableCategories,e.append(u.container)}}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}}},{key:"findVariable",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.variableCategory.variables[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name===e){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}},{key:"toData",value:function(){var e={categoryName:this.variableCategory.name,categoryClass:this.variableCategory.clazz,fields:[]},t=!0,n=!1,i=void 0;try{for(var r,o=this.items[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.fields.push(a.toData())}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(255),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.field=t,this.output=n,this.variableCategories=null,this.init()}return r(e,[{key:"init",value:function(){this.container=$('<div style="margin:5px;padding:5px;"><label>'+this.field.label+"</label></div>");var e=$("<span></span>");this.container.append(e);var t=$('<i class="glyphicon glyphicon-remove" style="color: #ef7f38;cursor: pointer"></i>');this.container.append(t);var n=this;t.click(function(){bootbox.confirm("真的要删除当前字段吗？",function(e){if(e){var t=n.items.indexOf(n);n.items.splice(t,1),n.container.remove()}})}),this.output?this.container.css("display","inline-block"):("Boolean"===this.field.type?(this.value="true",this.editor=$('<select class="form-control" placeholder="请输入值"><option value="true">true</option><option value="false">false</option></select>')):"List"===this.field.type||"Set"===this.field.type?(this.editor=$('<textarea class="form-control" rows="5" placeholder="请输入一段集合类型的JSON"></textarea>'),this.objectButton=$('<button type="button" class="btn btn-link">选择对象来创建集合</button>'),this.objectButton.click(function(){new a.default(!0).show(n.variableCategories,function(e){n.editor.val(e),n.value=e})})):"Object"===this.field.type||"Map"===this.field.type?(this.editor=$('<textarea class="form-control" rows="5" placeholder="请输入一段JSON对象值"></textarea>'),this.objectButton=$('<button type="button" class="btn btn-link">选择对象创建所需JSON</button>'),this.objectButton.click(function(){new a.default(!1).show(n.variableCategories,function(e){n.editor.val(e),n.value=e})})):"Date"===this.field.type?this.editor=$('<input type="text" class="form-control" placeholder="日期格式为:yyyy-MM-dd或yyyy-MM-dd HH:mm:ss">'):"Integer"===this.field.type?this.editor=$('<input type="text" class="form-control" placeholder="请输入一个整数">'):"Double"===this.field.type||"Long"===this.field.type||"Float"===this.field.type||"BigDecimal"===this.field.type?this.editor=$('<input type="text" class="form-control" placeholder="请输入一个数字">'):this.editor=$('<input type="text" class="form-control" placeholder="请输入值">'),this.container.append(this.editor),this.editor.change(function(){n.value=$(this).val()}),this.objectButton&&e.append(this.objectButton))}},{key:"toData",value:function(){var e={name:this.field.name,label:this.field.label,type:this.field.type};return this.output||(e.value=this.value),e}}]),e}();t.default=s},function(e,t,n){var i=n(205);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".tree {\r\n}\r\n.tree li {\r\n    list-style-type:none;\r\n    margin:0;\r\n    padding:2px 5px 0 0px;\r\n    position:relative;\r\n    line-height: 1;\r\n}\r\n.tree li::before, .tree li::after {\r\n    content:'';\r\n    left:-35px;\r\n    position:absolute;\r\n    right:auto\r\n}\r\n.tree li::before {\r\n    border-left:1px solid #999;\r\n    bottom:50px;\r\n    height:100%;\r\n    top:-6px;\r\n    width:1px;\r\n}\r\n.tree li div li::before {\r\n    border:none;\r\n}\r\n.tree li::after {\r\n    border-top:1px solid #999;\r\n    height:20px;\r\n    top:23px;\r\n    width:15px\r\n}\r\n.tree li div li::after {\r\n    border:none\r\n}\r\n.tree li {\r\n    margin-top:-5px;\r\n}\r\n.tree li span {\r\n    border:1px solid transparent;\r\n    display:inline-block;\r\n    padding:2px 2px;\r\n    margin:10px 0px 5px -20px;\r\n    cursor:pointer;\r\n    white-space: nowrap;\r\n}\r\n.tree li.parent_li>span {\r\n}\r\n.tree>ul>li::before, .tree>ul>li::after {\r\n    border:0\r\n}\r\n.tree li:last-child::before {\r\n    height:30px;\r\n}\r\n.tree-active{\r\n    border:solid 1px #2196F3 !important\r\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(49);var r=n(5),o=d(r),a=d(n(48)),s=d(n(207)),l=f(n(32)),c=f(n(14)),u=d(n(208));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"选择资源"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;c.eventEmitter.on(c.TREE_NODE_DBLCLICK,function(t){e.callback(t.fullPath,"LATEST"),c.eventEmitter.emit(c.HIDE_KNOWLEDGE_TREE_DIALOG)}),c.eventEmitter.on(c.OPEN_KNOWLEDGE_TREE_DIALOG,function(t){e._config=t,e.withoutVersion=t.withoutVersion,e.callback=t.callback;var n=!1;window.authority_config&&(n=!0),l.loadResourceTreeData({project:t.project,forLib:t.forLib,fileType:t.fileType,authority:n},function(e){this.setState({data:e,fileType:t.fileType}),$("#_knowledge_tree_dialog_container").children(".modal").modal("show")}.bind(e))}),c.eventEmitter.on(c.HIDE_KNOWLEDGE_TREE_DIALOG,function(){$("#_knowledge_tree_dialog_container").children(".modal").modal("hide")}),c.eventEmitter.on(c.TREE_NODE_CLICK,function(t){e.currentNodeData=t}),c.eventEmitter.on(c.TREE_DIR_NODE_CLICK,function(t){e.currentNodeData=t})}},{key:"search",value:function(){var e=$(".resSearchText").val(),t=this._config;l.loadResourceTreeData({project:t.project,forLib:t.forLib,fileType:t.fileType,searchFileName:e},function(e){this.setState({data:e,fileType:t.fileType})}.bind(this))}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeAllListeners(c.OPEN_KNOWLEDGE_TREE_DIALOG),c.eventEmitter.removeAllListeners(c.HIDE_KNOWLEDGE_TREE_DIALOG),c.eventEmitter.removeAllListeners(c.TREE_NODE_CLICK)}},{key:"render",value:function(){var e=o.default.createElement("div",{className:"tree",style:{marginLeft:"10px"}},o.default.createElement("div",null,o.default.createElement("input",{type:"text",className:"form-control resSearchText",placeholder:"请输入要查询的文件名...",style:{display:"inline-block",width:"220px"}}),o.default.createElement("a",{href:"###",onClick:this.search.bind(this),style:{margin:"6px",fontSize:"16px"}},o.default.createElement("i",{className:"glyphicon glyphicon-search"}))),o.default.createElement(s.default,{data:this.state.data,selectDir:this.props.selectDir})),t=(this.state.fileType,[{name:"确定",className:"btn btn-danger",icon:"glyphicon glyphicon-floppy-saved",click:function(){this.currentNodeData?(this.callback(this.currentNodeData.fullPath,"LATEST"),c.eventEmitter.emit(c.HIDE_KNOWLEDGE_TREE_DIALOG)):bootbox.alert("请先选择一个文件")}.bind(this)}]);return this.withoutVersion||t.push({name:"选择版本",className:"btn btn-primary",icon:"glyphicon glyphicon-hand-up",click:function(){this.currentNodeData?c.eventEmitter.emit(c.OPEN_VERSION_SELECT_DIALOG,{file:this.currentNodeData.fullPath,callback:this.callback}):bootbox.alert("请先选择一个文件")}.bind(this)}),o.default.createElement("div",null,o.default.createElement(u.default,null),o.default.createElement("div",{id:"_knowledge_tree_dialog_container"},o.default.createElement(a.default,{title:this.state.title,body:e,buttons:t})))}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(49);var r=s(n(89)),o=n(5),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.selectDir;return t?(function e(t,n){t._level=n++;var i=t.children;i&&i.forEach(function(t,i){e(t,n)})}(t,1),a.default.createElement("ul",{style:{paddingLeft:"20px"}},a.default.createElement(r.default,{data:t,selectDir:n,expandLevel:this.props.expandLevel}))):a.default.createElement("ul",null)}}]),t}();t.default=l,l.defaultProps={expandLevel:3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=d(r),a=d(n(10)),s=d(n(92)),l=d(n(48)),c=f(n(14)),u=f(n(32));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;c.eventEmitter.on(c.OPEN_VERSION_SELECT_DIALOG,function(t){var n=t.file;e.callback=t.callback,e.file=n,u.loadFileVersions(n,function(e){$(a.default.findDOMNode(this)).modal("show"),this.setState({data:e,title:"选择文件["+n+"]的版本"})}.bind(e))}),c.eventEmitter.on(c.HIDE_VERSION_SELECT_DIALOG,function(){$(a.default.findDOMNode(e)).modal("hide")}),$(a.default.findDOMNode(this)).modal("hide")}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeAllListeners(c.OPEN_VERSION_SELECT_DIALOG),c.eventEmitter.removeAllListeners(c.HIDE_VERSION_SELECT_DIALOG)}},{key:"render",value:function(){var e={width:"75px",operations:[{label:"选择该版本",icon:"rf rf-select",style:{fontSize:"18px",color:"#337ab7",padding:"0px 4px",cursor:"pointer"},click:function(e,t){this.callback(this.file,t.name),c.eventEmitter.emit(c.HIDE_VERSION_SELECT_DIALOG),c.eventEmitter.emit(c.HIDE_KNOWLEDGE_TREE_DIALOG)}.bind(this)}]},t=o.default.createElement(s.default,{headers:[{id:"v-name",name:"name",label:"版本名称",filterable:!0,width:"100px"},{id:"v-comment",name:"comment",label:"版本描述"},{id:"v-createUser",name:"createUser",label:"创建人",filterable:!0,width:"140px"},{id:"v-createDate",name:"createDate",label:"创建日期",width:"140px",dateFormat:"yyyy-MM-dd HH:mm:ss"}],operationConfig:e,rows:this.state.data||[]});return o.default.createElement(l.default,{title:this.state.title,body:t,buttons:[],large:!0})}}]),t}();t.default=h},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=i||r||o,s=a&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),y=/Android/.test(e),m=g||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),v=/\bCrOS\b/.test(e),A=/win/i.test(t),w=f&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,l=!0);var M=b&&(c||f&&(null==w||w<12.11)),I=n||a&&s>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,T=function(e,t){var n=e.className,i=x(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function N(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function D(e,t){return N(e).appendChild(t)}function E(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function k(e,t,n,i){var r=E(e,t,n,i);return r.setAttribute("role","presentation"),r}function _(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function S(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function j(e,t){var n=e.className;x(t).test(n)||(e.className+=(n?" ":"")+t)}function L(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!x(n[i]).test(t)&&(t+=" "+n[i]);return t}C=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var O=function(e){e.select()};function z(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function B(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function R(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}g?O=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(O=function(e){try{e.select()}catch(e){}});var P=function(){this.id=null};function U(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}P.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Q=30,Y={toString:function(){return"CodeMirror.Pass"}},F={scroll:!1},H={origin:"*mouse"},G={origin:"+move"};function W(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var a=o-i;if(o==e.length||r+a>=t)return i+Math.min(a,t-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=t)return i}}var V=[""];function Z(e){for(;V.length<=e;)V.push(J(V)+" ");return V[e]}function J(e){return e[e.length-1]}function X(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function $(){}function K(e,t){var n;return Object.create?n=Object.create(e):($.prototype=e,n=new $),t&&B(t,n),n}var q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||q.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ie.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+i}}function se(e,t,i){var r=this;this.input=i,r.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=k("div",null,"CodeMirror-code"),r.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=E("div",null,"CodeMirror-cursors"),r.measure=E("div",null,"CodeMirror-measure"),r.lineMeasure=E("div",null,"CodeMirror-measure"),r.lineSpace=k("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=k("div",[r.lineSpace],"CodeMirror-lines");r.mover=E("div",[o],null,"position: relative"),r.sizer=E("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=E("div",null,null,"position: absolute; height: "+Q+"px; width: 1px;"),r.gutters=E("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=E("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=E("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),a&&s<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||n&&m||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function le(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function ce(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function ue(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function fe(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function de(e){if(null==e.parent)return null;for(var t=e.parent,n=U(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function he(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function pe(e,t){return t>=e.first&&t<e.first+e.size}function ge(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ye(e,t,n){if(void 0===n&&(n=null),!(this instanceof ye))return new ye(e,t,n);this.line=e,this.ch=t,this.sticky=n}function me(e,t){return e.line-t.line||e.ch-t.ch}function be(e,t){return e.sticky==t.sticky&&0==me(e,t)}function ve(e){return ye(e.line,e.ch)}function Ae(e,t){return me(e,t)<0?t:e}function we(e,t){return me(e,t)<0?e:t}function Me(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ie(e,t){if(t.line<e.first)return ye(e.first,0);var n=e.first+e.size-1;return t.line>n?ye(n,le(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?ye(e.line,t):n<0?ye(e.line,0):e}(t,le(e,t.line).text.length)}function xe(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=Ie(e,t[i]);return n}var Ce=!1,Te=!1;function Ne(e,t,n){this.marker=e,this.from=t,this.to=n}function De(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Ee(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function ke(e,t){if(t.full)return null;var n=pe(e,t.from.line)&&le(e,t.from.line).markedSpans,i=pe(e,t.to.line)&&le(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,a=0==me(t.from,t.to),s=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Ne(a,o.from,s?null:o.to))}}return i}(n,r,a),l=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Ne(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,a),c=1==t.text.length,u=J(t.text).length+(c?r:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=De(l,d.marker);h?c&&(d.to=null==h.to?null:h.to+u):d.to=r}}if(l)for(var p=0;p<l.length;++p){var g=l[p];null!=g.to&&(g.to+=u),null==g.from?De(s,g.marker)||(g.from=u,c&&(s||(s=[])).push(g)):(g.from+=u,c&&(s||(s=[])).push(g))}s&&(s=_e(s)),l&&l!=s&&(l=_e(l));var y=[s];if(!c){var m,b=t.text.length-2;if(b>0&&s)for(var v=0;v<s.length;++v)null==s[v].to&&(m||(m=[])).push(new Ne(s[v].marker,null,null));for(var A=0;A<b;++A)y.push(m);y.push(l)}return y}function _e(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Se(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function je(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Le(e){return e.inclusiveLeft?-1:0}function Oe(e){return e.inclusiveRight?1:0}function ze(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=me(i.from,r.from)||Le(e)-Le(t);if(o)return-o;var a=me(i.to,r.to)||Oe(e)-Oe(t);return a||t.id-e.id}function Be(e,t){var n,i=Te&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||ze(n,r.marker)<0)&&(n=r.marker);return n}function Re(e){return Be(e,!0)}function Pe(e){return Be(e,!1)}function Ue(e,t){var n,i=Te&&e.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||ze(n,o.marker)<0)&&(n=o.marker)}return n}function Qe(e,t,n,i,r){var o=le(e,t),a=Te&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=me(c.from,n)||Le(l.marker)-Le(r),f=me(c.to,i)||Oe(l.marker)-Oe(r);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?me(c.to,n)>=0:me(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?me(c.from,i)<=0:me(c.from,i)<0)))return!0}}}function Ye(e){for(var t;t=Re(e);)e=t.find(-1,!0).line;return e}function Fe(e,t){var n=le(e,t),i=Ye(n);return n==i?t:de(i)}function He(e,t){if(t>e.lastLine())return t;var n,i=le(e,t);if(!Ge(e,i))return t;for(;n=Pe(i);)i=n.find(1,!0).line;return de(i)+1}function Ge(e,t){var n=Te&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&We(e,t,i))return!0}}function We(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return We(e,i.line,De(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&We(e,t,r))return!0}function Ve(e){for(var t=0,n=(e=Ye(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Ze(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=Re(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=Pe(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function Je(e){var t=e.display,n=e.doc;t.maxLine=le(n,n.first),t.maxLineLength=Ze(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Ze(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var Xe=null;function $e(e,t,n){var i;Xe=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?i=r:Xe=r),o.from==t&&(o.from!=o.to&&"before"!=n?i=r:Xe=r)}return null!=i?i:Xe}var Ke=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var f,d=l.length,h=[],p=0;p<d;++p)h.push((f=l.charCodeAt(p))<=247?e.charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1785?t.charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");for(var g=0,y=u;g<d;++g){var m=h[g];"m"==m?h[g]=y:y=m}for(var b=0,v=u;b<d;++b){var A=h[b];"1"==A&&"r"==v?h[b]="n":r.test(A)&&(v=A,"r"==A&&(h[b]="R"))}for(var w=1,M=h[0];w<d-1;++w){var I=h[w];"+"==I&&"1"==M&&"1"==h[w+1]?h[w]="1":","!=I||M!=h[w+1]||"1"!=M&&"n"!=M||(h[w]=M),M=I}for(var x=0;x<d;++x){var C=h[x];if(","==C)h[x]="N";else if("%"==C){var T=void 0;for(T=x+1;T<d&&"%"==h[T];++T);for(var N=x&&"!"==h[x-1]||T<d&&"1"==h[T]?"1":"N",D=x;D<T;++D)h[D]=N;x=T-1}}for(var E=0,k=u;E<d;++E){var _=h[E];"L"==k&&"1"==_?h[E]="L":r.test(_)&&(k=_)}for(var S=0;S<d;++S)if(i.test(h[S])){var j=void 0;for(j=S+1;j<d&&i.test(h[j]);++j);for(var L="L"==(S?h[S-1]:u),O=L==("L"==(j<d?h[j]:u))?L?"L":"R":u,z=S;z<j;++z)h[z]=O;S=j-1}for(var B,R=[],P=0;P<d;)if(o.test(h[P])){var U=P;for(++P;P<d&&o.test(h[P]);++P);R.push(new s(0,U,P))}else{var Q=P,Y=R.length;for(++P;P<d&&"L"!=h[P];++P);for(var F=Q;F<P;)if(a.test(h[F])){Q<F&&R.splice(Y,0,new s(1,Q,F));var H=F;for(++F;F<P&&a.test(h[F]);++F);R.splice(Y,0,new s(2,H,F)),Q=F}else++F;Q<P&&R.splice(Y,0,new s(1,Q,P))}return"ltr"==c&&(1==R[0].level&&(B=l.match(/^\s+/))&&(R[0].from=B[0].length,R.unshift(new s(0,0,B[0].length))),1==J(R).level&&(B=l.match(/\s+$/))&&(J(R).to-=B[0].length,R.push(new s(0,d-B[0].length,d)))),"rtl"==c?R.reverse():R}}();function qe(e,t){var n=e.order;return null==n&&(n=e.order=Ke(e.text,t)),n}var et=[],tt=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||et).concat(n)}};function nt(e,t){return e._handlers&&e._handlers[t]||et}function it(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=U(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function rt(e,t){var n=nt(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function ot(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,n||t.type,e,t),ft(t)||t.codemirrorIgnore}function at(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==U(n,t[i])&&n.push(t[i])}function st(e,t){return nt(e,t).length>0}function lt(e){e.prototype.on=function(e,t){tt(this,e,t)},e.prototype.off=function(e,t){it(this,e,t)}}function ct(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ft(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function dt(e){ct(e),ut(e)}function ht(e){return e.target||e.srcElement}function pt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var gt,yt,mt=function(){if(a&&s<9)return!1;var e=E("div");return"draggable"in e||"dragDrop"in e}();function bt(e){if(null==gt){var t=E("span","​");D(e,E("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(gt=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=gt?E("span","​"):E("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function vt(e){if(null!=yt)return yt;var t=D(e,document.createTextNode("AخA")),n=C(t,0,1).getBoundingClientRect(),i=C(t,1,2).getBoundingClientRect();return N(e),!(!n||n.left==n.right)&&(yt=i.right-n.right<3)}var At,wt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Mt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},It="oncopy"in(At=E("div"))||(At.setAttribute("oncopy","return;"),"function"==typeof At.oncopy),xt=null,Ct={},Tt={};function Nt(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ct[e]=t}function Dt(e){if("string"==typeof e&&Tt.hasOwnProperty(e))e=Tt[e];else if(e&&"string"==typeof e.name&&Tt.hasOwnProperty(e.name)){var t=Tt[e.name];"string"==typeof t&&(t={name:t}),(e=K(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Dt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Dt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Et(e,t){t=Dt(t);var n=Ct[t.name];if(!n)return Et(e,"text/plain");var i=n(e,t);if(kt.hasOwnProperty(t.name)){var r=kt[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)i[a]=t.modeProps[a];return i}var kt={};function _t(e,t){B(t,kt.hasOwnProperty(e)?kt[e]:kt[e]={})}function St(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function jt(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Lt(e,t,n){return!e.startState||e.startState(t,n)}var Ot=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Ot.prototype.eol=function(){return this.pos>=this.string.length},Ot.prototype.sol=function(){return this.pos==this.lineStart},Ot.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ot.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ot.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ot.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ot.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ot.prototype.skipToEnd=function(){this.pos=this.string.length},Ot.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ot.prototype.backUp=function(e){this.pos-=e},Ot.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Ot.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Ot.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ot.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ot.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ot.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var zt=function(e,t){this.state=e,this.lookAhead=t},Bt=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Rt(e,t,n,i){var r=[e.state.modeGen],o={};Vt(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var a=n.state,s=function(i){n.baseTokens=r;var s=e.state.overlays[i],l=1,c=0;n.state=!0,Vt(e,t.text,s.mode,n,function(e,t){for(var n=l;c<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(s.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Pt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ut(e,de(t)),r=t.text.length>e.options.maxHighlightLength&&St(e.doc.mode,i.state),o=Rt(e,t,i);r&&(i.state=r),t.stateAfter=i.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ut(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return new Bt(i,!0,t);var o=function(e,t,n){for(var i,r,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=le(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof zt?c.lookAhead:0)<=o.modeFrontier))return s;var u=R(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=s-1,i=u)}return r}(e,t,n),a=o>i.first&&le(i,o-1).stateAfter,s=a?Bt.fromSaved(i,a,o):new Bt(i,Lt(i.mode),o);return i.iter(o,t,function(n){Qt(e,n.text,s);var i=s.line;n.stateAfter=i==t-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?s.save():null,s.nextLine()}),n&&(i.modeFrontier=s.line),s}function Qt(e,t,n,i){var r=e.doc.mode,o=new Ot(t,e.options.tabSize,n);for(o.start=o.pos=i||0,""==t&&Yt(r,n.state);!o.eol();)Ft(r,o,n.state),o.start=o.pos}function Yt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=jt(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ft(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=jt(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Bt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Bt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Bt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Bt.fromSaved=function(e,t,n){return t instanceof zt?new Bt(e,St(e.mode,t.state),n,t.lookAhead):new Bt(e,St(e.mode,t),n)},Bt.prototype.save=function(e){var t=!1!==e?St(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new zt(t,this.maxLookAhead):t};var Ht=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Gt(e,t,n,i){var r,o,a=e.doc,s=a.mode,l=le(a,(t=Ie(a,t)).line),c=Ut(e,t.line,n),u=new Ot(l.text,e.options.tabSize,c);for(i&&(o=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=Ft(s,u,c.state),i&&o.push(new Ht(u,r,St(a.mode,c.state)));return i?o:new Ht(u,r,c.state)}function Wt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Vt(e,t,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,f=new Ot(t,e.options.tabSize,i),d=e.options.addModeClass&&[null];for(""==t&&Wt(Yt(n,i.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Qt(e,t,i,f.pos),f.pos=t.length,l=null):l=Wt(Ft(n,f,i.state,d),o),d){var h=d[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<f.start;)r(c=Math.min(f.start,c+5e3),u);u=l}f.start=f.pos}for(;c<f.pos;){var p=Math.min(f.pos,c+5e3);r(p,u),c=p}}var Zt=function(e,t,n){this.text=e,je(this,t),this.height=n?n(this):1};function Jt(e){e.parent=null,Se(e)}Zt.prototype.lineNo=function(){return de(this)},lt(Zt);var Xt={},$t={};function Kt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?$t:Xt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function qt(e,t){var n=k("span",null,null,l?"padding-right: .1px":null),i={pre:k("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,a=void 0;i.pos=0,i.addToken=tn,vt(e.display.measure)&&(a=qe(o,e.doc.direction))&&(i.addToken=nn(i.addToken,a)),i.map=[],on(o,i,Pt(e,o,t!=e.display.externalMeasured&&de(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=L(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=L(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(bt(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=i.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=L(i.pre.className,i.textClass||"")),i}function en(e){var t=E("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function tn(e,t,n,i,r,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}(t,e.trailingSpace):t,f=e.cm.state.specialChars,d=!1;if(f.test(t)){c=document.createDocumentFragment();for(var h=0;;){f.lastIndex=h;var p=f.exec(t),g=p?p.index-h:t.length-h;if(g){var y=document.createTextNode(u.slice(h,h+g));a&&s<9?c.appendChild(E("span",[y])):c.appendChild(y),e.map.push(e.pos,e.pos+g,y),e.col+=g,e.pos+=g}if(!p)break;h+=g+1;var m=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,v=b-e.col%b;(m=c.appendChild(E("span",Z(v),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=v}else"\r"==p[0]||"\n"==p[0]?((m=c.appendChild(E("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?c.appendChild(E("span",[m])):c.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||r||d||o){var A=n||"";i&&(A+=i),r&&(A+=r);var w=E("span",[c],A,o);if(l)for(var M in l)l.hasOwnProperty(M)&&"style"!=M&&"class"!=M&&w.setAttribute(M,l[M]);return e.content.appendChild(w)}e.content.appendChild(c)}}function nn(e,t){return function(n,i,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>c&&f.from<=c);d++);if(f.to>=u)return e(n,i,r,o,a,s,l);e(n,i.slice(0,f.to-c),r,o,null,s,l),o=null,i=i.slice(f.to-c),c=f.to}}}function rn(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function on(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var a,s,l,c,u,f,d,h=r.length,p=0,g=1,y="",m=0;;){if(m==p){l=c=u=s="",d=null,f=null,m=1/0;for(var b=[],v=void 0,A=0;A<i.length;++A){var w=i[A],M=w.marker;if("bookmark"==M.type&&w.from==p&&M.widgetNode)b.push(M);else if(w.from<=p&&(null==w.to||w.to>p||M.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,c=""),M.className&&(l+=" "+M.className),M.css&&(s=(s?s+";":"")+M.css),M.startStyle&&w.from==p&&(u+=" "+M.startStyle),M.endStyle&&w.to==m&&(v||(v=[])).push(M.endStyle,w.to),M.title&&((d||(d={})).title=M.title),M.attributes)for(var I in M.attributes)(d||(d={}))[I]=M.attributes[I];M.collapsed&&(!f||ze(f.marker,M)<0)&&(f=w)}else w.from>p&&m>w.from&&(m=w.from)}if(v)for(var x=0;x<v.length;x+=2)v[x+1]==m&&(c+=" "+v[x]);if(!f||f.from==p)for(var C=0;C<b.length;++C)rn(t,0,b[C]);if(f&&(f.from||0)==p){if(rn(t,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var T=Math.min(h,m);;){if(y){var N=p+y.length;if(!f){var D=N>T?y.slice(0,T-p):y;t.addToken(t,D,a?a+l:l,u,p+D.length==m?c:"",s,d)}if(N>=T){y=y.slice(T-p),p=T;break}p=N,u=""}y=r.slice(o,o=n[g++]),a=Kt(n[g++],t.cm.options)}}else for(var E=1;E<n.length;E+=2)t.addToken(t,r.slice(o,o=n[E]),Kt(n[E+1],t.cm.options))}function an(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Pe(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?de(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ge(e,t)}function sn(e,t,n){for(var i,r=[],o=t;o<n;o=i){var a=new an(e.doc,le(e.doc,o),o);i=o+a.size,r.push(a)}return r}var ln=null,cn=null;function un(e,t){var n=nt(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);ln?i=ln.delayedCallbacks:cn?i=cn:(i=cn=[],setTimeout(fn,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function fn(){var e=cn;cn=null;for(var t=0;t<e.length;++t)e[t]()}function dn(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?gn(e,t):"gutter"==o?mn(e,t,n,i):"class"==o?yn(e,t):"widget"==o&&bn(e,t,i)}t.changes=null}function hn(e){return e.node==e.text&&(e.node=E("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):qt(e,t)}function gn(e,t){var n=t.text.className,i=pn(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,yn(e,t)):n&&(t.text.className=n)}function yn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=hn(t);t.background=i.insertBefore(E("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?hn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function mn(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=hn(t);t.gutterBackground=E("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=hn(t),s=t.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(E("div",ge(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(E("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function bn(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);An(e,t,n)}function vn(e,t,n,i){var r=pn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),yn(e,t),mn(e,t,n,i),An(e,t,i),t.node}function An(e,t,n){if(wn(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)wn(e,t.rest[i],t,n,!1)}function wn(e,t,n,i,r){if(t.widgets)for(var o=hn(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=E("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Mn(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),un(l,"redraw")}}function Mn(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function In(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!_(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),D(t.display.measure,E("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function xn(e,t){for(var n=ht(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Cn(e){return e.lineSpace.offsetTop}function Tn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Nn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=D(e.measure,E("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Dn(e){return Q-e.display.nativeBarWidth}function En(e){return e.display.scroller.clientWidth-Dn(e)-e.display.barWidth}function kn(e){return e.display.scroller.clientHeight-Dn(e)-e.display.barHeight}function _n(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(de(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Sn(e,t,n,i){return On(e,Ln(e,t),n,i)}function jn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[di(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ln(e,t){var n=de(t),i=jn(e,n);i&&!i.text?i=null:i&&i.changes&&(dn(e,i,n,si(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=de(t=Ye(t)),i=e.display.externalMeasured=new an(e.doc,t,n);i.lineN=n;var r=i.built=qt(e,i);return i.text=r.pre,D(e.display.lineMeasure,r.pre),i}(e,t));var r=_n(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function On(e,t,n,i,r){t.before&&(n=-1);var o,l=n+(i||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var i=e.options.lineWrapping,r=i&&En(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=Rn(t.map,n,i),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((r=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Pn(C(l,c,u).getClientRects(),i)).left||r.right||0==c)break;u=c,c-=1,f="right"}a&&s<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=xt)return xt;var t=D(e,E("span","x")),n=t.getBoundingClientRect(),i=C(t,0,1).getBoundingClientRect();return xt=Math.abs(n.left-i.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{var h;c>0&&(f=i="right"),r=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==i?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+ai(e.display),top:p.top,bottom:p.bottom}:Bn}for(var g=r.top-t.rect.top,y=r.bottom-t.rect.top,m=(g+y)/2,b=t.view.measure.heights,v=0;v<b.length-1&&!(m<b[v]);v++);var A=v?b[v-1]:0,w=b[v],M={left:("right"==f?r.right:r.left)-t.rect.left,right:("left"==f?r.left:r.right)-t.rect.left,top:A,bottom:w};return r.left||r.right||(M.bogus=!0),e.options.singleCursorHeightPerLine||(M.rtop=g,M.rbottom=y),M}(e,t,n,i)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var zn,Bn={left:0,right:0,top:0,bottom:0};function Rn(e,t,n){for(var i,r,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,a="left"):t<l?o=1+(r=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-s)-1,t>=l&&(a="right")),null!=r){if(i=e[c+2],s==l&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[2+(c-=3)],a="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],a="right";break}return{node:i,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function Pn(e,t){var n=Bn;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Un(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Qn(e){e.display.externalMeasure=null,N(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Un(e.display.view[t])}function Yn(e){Qn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Fn(){return u&&y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hn(){return u&&y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=In(e.widgets[n]));return t}function Wn(e,t,n,i,r){if(!r){var o=Gn(t);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=Ve(t);if("local"==i?a+=Cn(e.display):a-=e.display.viewOffset,"page"==i||"window"==i){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:Hn());var l=s.left+("window"==i?0:Fn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Vn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=Fn(),r-=Hn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function Zn(e,t,n,i,r){return i||(i=le(e.doc,t.line)),Wn(e,i,Sn(e,i,t.ch,r),n)}function Jn(e,t,n,i,r,o){function a(t,a){var s=On(e,r,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Wn(e,i,s,n)}i=i||le(e.doc,t.line),r||(r=Ln(e,i));var s=qe(i,e.doc.direction),l=t.ch,c=t.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var f=$e(s,l,c),d=Xe,h=u(l,f,"before"==c);return null!=d&&(h.other=u(l,d,"before"!=c)),h}function Xn(e,t){var n=0;t=Ie(e.doc,t),e.options.lineWrapping||(n=ai(e.display)*t.ch);var i=le(e.doc,t.line),r=Ve(i)+Cn(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function $n(e,t,n,i,r){var o=ye(e,t,n);return o.xRel=r,i&&(o.outside=!0),o}function Kn(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return $n(i.first,0,null,!0,-1);var r=he(i,n),o=i.first+i.size-1;if(r>o)return $n(i.first+i.size-1,le(i,o).text.length,null,!0,1);t<0&&(t=0);for(var a=le(i,r);;){var s=ni(e,a,r,t,n),l=Ue(a,s.ch+(s.xRel>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;a=le(i,r=c.line)}}function qn(e,t,n,i){i-=Gn(t);var r=t.text.length,o=ae(function(t){return On(e,n,t-1).bottom<=i},r,0);return{begin:o,end:r=ae(function(t){return On(e,n,t).top>i},o,r)}}function ei(e,t,n,i){return n||(n=Ln(e,t)),qn(e,t,n,Wn(e,t,On(e,n,i),"line").top)}function ti(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function ni(e,t,n,i,r){r-=Ve(t);var o=Ln(e,t),a=Gn(t),s=0,l=t.text.length,c=!0,u=qe(t,e.doc.direction);if(u){var f=(e.options.lineWrapping?ri:ii)(e,t,n,o,u,i,r);s=(c=1!=f.level)?f.from:f.to-1,l=c?f.to:f.from-1}var d,h,p=null,g=null,y=ae(function(t){var n=On(e,o,t);return n.top+=a,n.bottom+=a,!!ti(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=t,g=n),!0)},s,l),m=!1;if(g){var b=i-g.left<g.right-i,v=b==c;y=p+(v?0:1),h=v?"after":"before",d=b?g.left:g.right}else{c||y!=l&&y!=s||y++,h=0==y?"after":y==t.text.length?"before":On(e,o,y-(c?1:0)).bottom+a<=r==c?"after":"before";var A=Jn(e,ye(n,y,h),"line",t,o);d=A.left,m=r<A.top||r>=A.bottom}return $n(n,y=oe(t.text,y,1),h,m,i-d)}function ii(e,t,n,i,r,o,a){var s=ae(function(s){var l=r[s],c=1!=l.level;return ti(Jn(e,ye(n,c?l.to:l.from,c?"before":"after"),"line",t,i),o,a,!0)},0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=Jn(e,ye(n,c?l.from:l.to,c?"after":"before"),"line",t,i);ti(u,o,a,!0)&&u.top>a&&(l=r[s-1])}return l}function ri(e,t,n,i,r,o,a){var s=qn(e,t,i,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,f=null,d=0;d<r.length;d++){var h=r[d];if(!(h.from>=c||h.to<=l)){var p=On(e,i,1!=h.level?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=p<o?o-p+1e9:p-o;(!u||f>g)&&(u=h,f=g)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function oi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==zn){zn=E("pre");for(var t=0;t<49;++t)zn.appendChild(document.createTextNode("x")),zn.appendChild(E("br"));zn.appendChild(document.createTextNode("x"))}D(e.measure,zn);var n=zn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),N(e.measure),n||1}function ai(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=E("span","xxxxxxxxxx"),n=E("pre",[t]);D(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function si(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[a]]=o.clientWidth;return{fixedPos:li(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function li(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ci(e){var t=oi(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/ai(e.display)-3);return function(r){if(Ge(e.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function ui(e){var t=e.doc,n=ci(e);t.iter(function(e){var t=n(e);t!=e.height&&fe(e,t)})}function fi(e,t,n,i){var r=e.display;if(!n&&"true"==ht(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=Kn(e,o,a);if(i&&1==c.xRel&&(l=le(e.doc,c.line).text).length==c.ch){var u=R(l,l.length,e.options.tabSize)-l.length;c=ye(c.line,Math.max(0,Math.round((o-Nn(e.display).left)/ai(e.display))-u))}return c}function di(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function hi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function pi(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&gi(e,s.head,r),l||mi(e,s,o)}}return i}function gi(e,t,n){var i=Jn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(E("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(E("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function yi(e,t){return e.top-t.top||e.left-t.left}function mi(e,t,n){var i=e.display,r=e.doc,o=document.createDocumentFragment(),a=Nn(e.display),s=a.left,l=Math.max(i.sizerWidth,En(e)-i.sizer.offsetLeft)-a.right,c="ltr"==r.direction;function u(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),o.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(i-t)+"px"))}function f(t,n,i){var o,a,f=le(r,t),d=f.text.length;function h(n,i){return Zn(e,ye(t,n),"div",f,i)}function p(t,n,i){var r=ei(e,f,null,t),o="ltr"==n==("after"==i)?"left":"right";return h("after"==i?r.begin:r.end-(/\s/.test(f.text.charAt(r.end-1))?2:1),o)[o]}var g=qe(f,r.direction);return function(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(i(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),r=!0)}r||i(t,n,"ltr")}(g,n||0,null==i?d:i,function(e,t,r,f){var y="ltr"==r,m=h(e,y?"left":"right"),b=h(t-1,y?"right":"left"),v=null==n&&0==e,A=null==i&&t==d,w=0==f,M=!g||f==g.length-1;if(b.top-m.top<=3){var I=(c?A:v)&&M,x=(c?v:A)&&w?s:(y?m:b).left,C=I?l:(y?b:m).right;u(x,m.top,C-x,m.bottom)}else{var T,N,D,E;y?(T=c&&v&&w?s:m.left,N=c?l:p(e,r,"before"),D=c?s:p(t,r,"after"),E=c&&A&&M?l:b.right):(T=c?p(e,r,"before"):s,N=!c&&v&&w?l:m.right,D=!c&&A&&M?s:b.left,E=c?p(t,r,"after"):l),u(T,m.top,N-T,m.bottom),m.bottom<b.top&&u(s,m.bottom,null,b.top),u(D,b.top,E-D,b.bottom)}(!o||yi(m,o)<0)&&(o=m),yi(b,o)<0&&(o=b),(!a||yi(m,a)<0)&&(a=m),yi(b,a)<0&&(a=b)}),{start:o,end:a}}var d=t.from(),h=t.to();if(d.line==h.line)f(d.line,d.ch,h.ch);else{var p=le(r,d.line),g=le(r,h.line),y=Ye(p)==Ye(g),m=f(d.line,d.ch,y?p.text.length+1:null).end,b=f(h.line,y?0:null,h.ch).start;y&&(m.top<b.top-2?(u(m.right,m.top,null,m.bottom),u(s,b.top,b.left,b.bottom)):u(m.right,m.top,b.left-m.right,m.bottom)),m.bottom<b.top&&u(s,m.bottom,null,b.top)}n.appendChild(o)}function bi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function vi(e){e.state.focused||(e.display.input.focus(),wi(e))}function Ai(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Mi(e))},100)}function wi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,j(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),bi(e))}function Mi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ii(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(a&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-n,n=u}else{var f=r.node.getBoundingClientRect();l=f.bottom-f.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=r.line.height-l;if(l<2&&(l=oi(t)),(d>.005||d<-.005)&&(fe(r.line,l),xi(r.line),r.rest))for(var h=0;h<r.rest.length;h++)xi(r.rest[h]);if(c>e.display.sizerWidth){var p=Math.ceil(c/ai(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function xi(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function Ci(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Cn(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=he(t,i),a=he(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=he(t,Ve(le(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=he(t,Ve(le(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Ti(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=li(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function Ni(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ge(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(E("div",[E("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",dr(e),!0}return!1}function Di(e,t){var n=e.display,i=oi(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=kn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Tn(n),l=t.top<i,c=t.bottom>s-i;if(t.top<r)a.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(a.scrollTop=u)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=En(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),h=t.right-t.left>d;return h&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(h?0:10)):t.right>d+f-3&&(a.scrollLeft=t.right+(h?0:10)-d),a}function Ei(e,t){null!=t&&(Si(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ki(e){Si(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function _i(e,t,n){null==t&&null==n||Si(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Si(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,ji(e,Xn(e,t.from),Xn(e,t.to),t.margin))}function ji(e,t,n,i){var r=Di(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});_i(e,r.scrollLeft,r.scrollTop)}function Li(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||fr(e,{top:t}),Oi(e,t,!0),n&&fr(e),ar(e,100))}function Oi(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function zi(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Ti(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Bi(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Tn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Dn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Ri=function(e,t,n){this.cm=n;var i=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,e(i),e(r),tt(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),tt(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ri.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},Ri.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ri.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ri.prototype.zeroWidthHack=function(){var e=b&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new P,this.disableVert=new P},Ri.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,function i(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)})},Ri.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Pi=function(){};function Ui(e,t){t||(t=Bi(e));var n=e.display.barWidth,i=e.display.barHeight;Qi(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Ii(e),Qi(e,Bi(e)),n=e.display.barWidth,i=e.display.barHeight}function Qi(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Pi.prototype.update=function(){return{bottom:0,right:0}},Pi.prototype.setScrollLeft=function(){},Pi.prototype.setScrollTop=function(){},Pi.prototype.clear=function(){};var Yi={native:Ri,null:Pi};function Fi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Yi[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),tt(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?zi(e,t):Li(e,t)},e),e.display.scrollbars.addClass&&j(e.display.wrapper,e.display.scrollbars.addClass)}var Hi=0;function Gi(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hi},t=e.curOp,ln?ln.ops.push(t):t.ownsGroup=ln={ops:[t],delayedCallbacks:[]}}function Wi(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{ln=null,t(n)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Vi(t[n]);for(var i=0;i<t.length;i++)(r=t[i]).updatedDisplay=r.mustUpdate&&cr(r.cm,r.update);for(var r,o=0;o<t.length;o++)Zi(t[o]);for(var a=0;a<t.length;a++)Ji(t[a]);for(var s=0;s<t.length;s++)Xi(t[s])}(e)})}function Vi(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Dn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Dn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Je(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new lr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Zi(e){var t=e.cm,n=t.display;e.updatedDisplay&&Ii(t),e.barMeasure=Bi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Sn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Dn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-En(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ji(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&zi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==S();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ui(t,e.barMeasure),e.updatedDisplay&&hr(t,e.barMeasure),e.selectionChanged&&bi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&vi(e.cm)}function Xi(e){var t=e.cm,n=t.display,i=t.doc;e.updatedDisplay&&ur(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Oi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&zi(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ot(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=E("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Cn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Dn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,i){var r;null==i&&(i=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ye(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ye(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Jn(e,t),l=n&&n!=t?Jn(e,n):s,c=Di(e,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-i,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+i}),u=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=c.scrollTop&&(Li(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(zi(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return r}(t,Ie(i,e.scrollToPos.from),Ie(i,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||rt(r[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&rt(o[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function $i(e,t){if(e.curOp)return t();Gi(e);try{return t()}finally{Wi(e)}}function Ki(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Gi(e);try{return t.apply(e,arguments)}finally{Wi(e)}}}function qi(e){return function(){if(this.curOp)return e.apply(this,arguments);Gi(this);try{return e.apply(this,arguments)}finally{Wi(this)}}}function er(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Gi(t);try{return e.apply(this,arguments)}finally{Wi(t)}}}function tr(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Te&&Fe(e.doc,t)<r.viewTo&&ir(e);else if(n<=r.viewFrom)Te&&He(e.doc,n+i)>r.viewFrom?ir(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)ir(e);else if(t<=r.viewFrom){var o=rr(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):ir(e)}else if(n>=r.viewTo){var a=rr(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):ir(e)}else{var s=rr(e,t,t,-1),l=rr(e,n,n+i,1);s&&l?(r.view=r.view.slice(0,s.index).concat(sn(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):ir(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(r.externalMeasured=null))}function nr(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[di(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==U(a,n)&&a.push(n)}}}function ir(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function rr(e,t,n,i){var r,o=di(e,t),a=e.display.view;if(!Te||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(i>0){if(o==a.length-1)return null;r=s+a[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;Fe(e.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function or(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function ar(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,z(sr,e))}function sr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ut(e,t.highlightFrontier),r=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(i.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?St(t.mode,i.state):null,l=Rt(e,o,i,!0);s&&(i.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Qt(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return ar(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),r.length&&$i(e,function(){for(var t=0;t<r.length;t++)nr(e,r[t],"text")})}}var lr=function(e,t,n){var i=e.display;this.viewport=t,this.visible=Ci(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=En(e),this.force=n,this.dims=si(e),this.events=[]};function cr(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return ir(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==or(e))return!1;Ni(e)&&(ir(e),t.dims=si(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),Te&&(o=Fe(e.doc,o),a=He(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=sn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=sn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(di(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(sn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,di(e,n)))),i.viewTo=n}(e,o,a),n.viewOffset=Ve(le(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=or(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=S();if(!t||!_(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&_(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var i=e.display,r=e.options.lineNumbers,o=i.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=i.view,u=i.viewFrom,f=0;f<c.length;f++){var d=c[f];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=r&&null!=t&&t<=u&&d.lineNumber;d.changes&&(U(d.changes,"gutter")>-1&&(h=!1),dn(e,d,u,n)),h&&(N(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(ge(e.options,u)))),a=d.node.nextSibling}else{var p=vn(e,d,u,n);o.insertBefore(p,a)}u+=d.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=S()&&(e.activeElt.focus(),e.anchorNode&&_(document.body,e.anchorNode)&&_(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),N(n.cursorDiv),N(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ar(e,400)),n.updateLineNumbers=null,!0}function ur(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=En(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Tn(e.display)-kn(e),n.top)}),t.visible=Ci(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&cr(e,t);i=!1){Ii(e);var r=Bi(e);hi(e),Ui(e,r),hr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function fr(e,t){var n=new lr(e,t);if(cr(e,n)){Ii(e),ur(e,n);var i=Bi(e);hi(e),Ui(e,i),hr(e,i),n.finish()}}function dr(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function hr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Dn(e)+"px"}function pr(e){var t=e.display.gutters,n=e.options.gutters;N(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(E("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",dr(e)}function gr(e){var t=U(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}lr.prototype.signal=function(e,t){st(e,t)&&this.events.push(arguments)},lr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var yr=0,mr=null;function br(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function vr(e){var t=br(e);return t.x*=mr,t.y*=mr,t}function Ar(e,t){var i=br(t),r=i.x,o=i.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&c||o&&u){if(o&&b&&l)e:for(var d=t.target,h=a.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){e.display.currentWheelTarget=d;break e}if(r&&!n&&!f&&null!=mr)return o&&u&&Li(e,Math.max(0,s.scrollTop+o*mr)),zi(e,Math.max(0,s.scrollLeft+r*mr)),(!o||o&&u)&&ct(t),void(a.wheelStartX=null);if(o&&null!=mr){var g=o*mr,y=e.doc.scrollTop,m=y+a.wrapper.clientHeight;g<0?y=Math.max(0,y+g-50):m=Math.min(e.doc.height,m+g+50),fr(e,{top:y,bottom:m})}yr<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=r,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(mr=(mr*yr+n)/(yr+1),++yr)}},200)):(a.wheelDX+=r,a.wheelDY+=o))}}a?mr=-.53:n?mr=15:u?mr=-.7:d&&(mr=-1/3);var wr=function(e,t){this.ranges=e,this.primIndex=t};wr.prototype.primary=function(){return this.ranges[this.primIndex]},wr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(!be(n.anchor,i.anchor)||!be(n.head,i.head))return!1}return!0},wr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Mr(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new wr(e,this.primIndex)},wr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(me(t,i.from())>=0&&me(e,i.to())<=0)return n}return-1};var Mr=function(e,t){this.anchor=e,this.head=t};function Ir(e,t,n){var i=e&&e.options.selectionsMayTouch,r=t[n];t.sort(function(e,t){return me(e.from(),t.from())}),n=U(t,r);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=me(s.to(),a.from());if(i&&!a.empty()?l>0:l>=0){var c=we(s.from(),a.from()),u=Ae(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new Mr(f?u:c,f?c:u))}}return new wr(t,n)}function xr(e,t){return new wr([new Mr(e,t||e)],0)}function Cr(e){return e.text?ye(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Tr(e,t){if(me(e,t.from)<0)return e;if(me(e,t.to)<=0)return Cr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Cr(t).ch-t.to.ch),ye(n,i)}function Nr(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new Mr(Tr(r.anchor,t),Tr(r.head,t)))}return Ir(e.cm,n,e.sel.primIndex)}function Dr(e,t,n){return e.line==t.line?ye(n.line,e.ch-t.ch+n.ch):ye(n.line+(e.line-t.line),e.ch)}function Er(e){e.doc.mode=Et(e.options,e.doc.modeOption),kr(e)}function kr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ar(e,100),e.state.modeGen++,e.curOp&&tr(e)}function _r(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Sr(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Se(e),je(e,n);var r=i?i(e):1;r!=e.height&&fe(e,r)}(e,n,r,i),un(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Zt(c[o],r(o),i));return n}var s=t.from,l=t.to,c=t.text,u=le(e,s.line),f=le(e,l.line),d=J(c),h=r(c.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(_r(e,t)){var g=a(0,c.length-1);o(f,f.text,h),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(u==f)if(1==c.length)o(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),h);else{var y=a(1,c.length-1);y.push(new Zt(d+u.text.slice(l.ch),h,i)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,y)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+f.text.slice(l.ch),r(0)),e.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(f,d+f.text.slice(l.ch),h);var m=a(1,c.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}un(e,"change",e,t)}function jr(e,t,n){!function e(i,r,o){if(i.linked)for(var a=0;a<i.linked.length;++a){var s=i.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,i,l))}}}(e,null,!0)}function Lr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ui(e),Er(e),Or(e),e.options.lineWrapping||Je(e),e.options.mode=t.modeOption,tr(e)}function Or(e){("rtl"==e.doc.direction?j:T)(e.display.lineDiv,"CodeMirror-rtl")}function zr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Br(e,t){var n={from:ve(t.from),to:Cr(t),text:ce(e,t.from,t.to)};return Yr(e,n,t.from.line,t.to.line+1),jr(e,function(e){return Yr(e,n,t.from.line,t.to.line+1)},!0),n}function Rr(e){for(;e.length&&J(e).ranges;)e.pop()}function Pr(e,t,n,i){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Rr(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}(r,r.lastOp==i)))a=J(o.changes),0==me(t.from,t.to)&&0==me(t.from,a.to)?a.to=Cr(t):o.changes.push(Br(e,t));else{var l=J(r.done);for(l&&l.ranges||Qr(e.sel,r.done),o={changes:[Br(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||rt(e,"historyAdded")}function Ur(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,J(r.done),t))?r.done[r.done.length-1]=t:Qr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Rr(r.undone)}function Qr(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Yr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Fr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Hr(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(Fr(n[r]));return i}(e,t),i=ke(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[r]=a)}return n}function Gr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?wr.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&U(t,Number(u[1]))>-1&&(J(s)[f]=c[f],delete c[f])}}}return i}function Wr(e,t,n,i){if(i){var r=e.anchor;if(n){var o=me(t,r)<0;o!=me(n,r)<0?(r=t,t=n):o!=me(t,n)<0&&(t=n)}return new Mr(r,t)}return new Mr(n||t,t)}function Vr(e,t,n,i,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Kr(e,new wr([Wr(e.sel.primary(),t,n,r)],0),i)}function Zr(e,t,n){for(var i=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=Wr(e.sel.ranges[o],t[o],null,r);Kr(e,Ir(e.cm,i,e.sel.primIndex),n)}function Jr(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Kr(e,Ir(e.cm,r,e.sel.primIndex),i)}function Xr(e,t,n,i){Kr(e,xr(t,n),i)}function $r(e,t,n){var i=e.history.done,r=J(i);r&&r.ranges?(i[i.length-1]=t,qr(e,t,n)):Kr(e,t,n)}function Kr(e,t,n){qr(e,t,n),Ur(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function qr(e,t,n){(st(e,"beforeSelectionChange")||e.cm&&st(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Mr(Ie(e,t[n].anchor),Ie(e,t[n].head))},origin:n&&n.origin};return rt(e,"beforeSelectionChange",e,i),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?Ir(e.cm,i.ranges,i.ranges.length-1):t}(e,t,n));var i=n&&n.bias||(me(t.primary().head,e.sel.primary().head)<0?-1:1);eo(e,no(e,t,i,!0)),n&&!1===n.scroll||!e.cm||ki(e.cm)}function eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,at(e.cm)),un(e,"cursorActivity",e))}function to(e){eo(e,no(e,e.sel,null,!1))}function no(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=ro(e,a.anchor,s&&s.anchor,n,i),c=ro(e,a.head,s&&s.head,n,i);(r||l!=a.anchor||c!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new Mr(l,c))}return r?Ir(e.cm,r,t.primIndex):t}function io(e,t,n,i,r){var o=le(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(rt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=oo(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=me(c,n))&&(i<0?u<0:u>0))return io(e,c,t,i,r)}var f=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(f=oo(e,f,i,f.line==t.line?o:null)),f?io(e,f,t,i,r):null}}return t}function ro(e,t,n,i,r){var o=i||1,a=io(e,t,n,o,r)||!r&&io(e,t,n,o,!0)||io(e,t,n,-o,r)||!r&&io(e,t,n,-o,!0);return a||(e.cantEdit=!0,ye(e.first,0))}function oo(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?Ie(e,ye(t.line-1)):null:n>0&&t.ch==(i||le(e,t.line)).text.length?t.line<e.first+e.size-1?ye(t.line+1,0):null:new ye(t.line,t.ch+n)}function ao(e){e.setSelection(ye(e.firstLine(),0),ye(e.lastLine()),F)}function so(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=Ie(e,t)),n&&(i.to=Ie(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),rt(e,"beforeChange",e,i),e.cm&&rt(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function lo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ki(e.cm,lo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"))||(t=so(e,t,!0))){var i=Ce&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=U(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(me(c.to,s.from)<0||me(c.from,s.to)>0)){var u=[l,1],f=me(c.from,s.from),d=me(c.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&u.push({from:c.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)co(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text,origin:t.origin});else co(e,t)}}function co(e,t){if(1!=t.text.length||""!=t.text[0]||0!=me(t.from,t.to)){var n=Nr(e,t);Pr(e,t,n,e.cm?e.cm.curOp.id:NaN),ho(e,t,n,ke(e,t));var i=[];jr(e,function(e,n){n||-1!=U(i,e.history)||(mo(e.history,t),i.push(e.history)),ho(e,t,null,ke(e,t))})}}function uo(e,t,n){var i=e.cm&&e.cm.state.suppressEdits;if(!i||n){for(var r,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(r=s[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(i)return void s.push(r);break}if(Qr(r,l),n&&!r.equals(e.sel))return void Kr(e,r,{clearRedo:!1});a=r}var u=[];Qr(a,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var f=st(e,"beforeChange")||e.cm&&st(e.cm,"beforeChange"),d=function(n){var i=r.changes[n];if(i.origin=t,f&&!so(e,i,!1))return s.length=0,{};u.push(Br(e,i));var o=n?Nr(e,i):J(s);ho(e,i,o,Hr(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Cr(i)});var a=[];jr(e,function(e,t){t||-1!=U(a,e.history)||(mo(e.history,i),a.push(e.history)),ho(e,i,null,Hr(e,i))})},h=r.changes.length-1;h>=0;--h){var p=d(h);if(p)return p.v}}}}function fo(e,t){if(0!=t&&(e.first+=t,e.sel=new wr(X(e.sel.ranges,function(e){return new Mr(ye(e.anchor.line+t,e.anchor.ch),ye(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){tr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)nr(e.cm,i,"gutter")}}function ho(e,t,n,i){if(e.cm&&!e.cm.curOp)return Ki(e.cm,ho)(e,t,n,i);if(t.to.line<e.first)fo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);fo(e,r),t={from:ye(e.first,0),to:ye(t.to.line+r,t.to.ch),text:[J(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ye(o,le(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ce(e,t.from,t.to),n||(n=Nr(e,t)),e.cm?function(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=de(Ye(le(i,o.line))),i.iter(l,a.line+1,function(e){if(e==r.maxLine)return s=!0,!0})),i.sel.contains(t.from,t.to)>-1&&at(e),Sr(i,t,n,ci(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=Ze(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var r=le(e,i).stateAfter;if(r&&(!(r instanceof zt)||i+r.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(i,o.line),ar(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?tr(e):o.line!=a.line||1!=t.text.length||_r(e.doc,t)?tr(e,o.line,a.line+1,c):nr(e,o.line,"text");var u=st(e,"changes"),f=st(e,"change");if(f||u){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&un(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,i):Sr(e,t,i),qr(e,n,F)}}function po(e,t,n,i,r){var o;i||(i=n),me(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof t&&(t=e.splitLines(t)),lo(e,{from:n,to:i,text:t,origin:r})}function go(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function yo(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)go(o.ranges[s].anchor,t,n,i),go(o.ranges[s].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ye(c.from.line+i,c.from.ch),c.to=ye(c.to.line+i,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function mo(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;yo(e.done,n,i,r),yo(e.undone,n,i,r)}function bo(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=le(e,Me(e,t)):r=de(t),null==r?null:(i(o,r)&&e.cm&&nr(e.cm,r,n),o)}function vo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function Ao(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}Mr.prototype.from=function(){return we(this.anchor,this.head)},Mr.prototype.to=function(){return Ae(this.anchor,this.head)},Mr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Jt(r),un(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},Ao.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),a=i.height;if(i.removeInner(e,o),this.height-=a-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var s=[];this.collapse(s),this.children=[new vo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new vo(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Ao(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=U(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new Ao(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e);if(r.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var wo=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};function Mo(e,t,n){Ve(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ei(e,n)}wo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=de(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=In(this);fe(n,Math.max(0,n.height-o)),e&&($i(e,function(){Mo(e,n,-o),nr(e,i,"widget")}),un(e,"lineWidgetCleared",e,this,i))}},wo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=In(this)-t;r&&(Ge(this.doc,i)||fe(i,i.height+r),n&&$i(n,function(){n.curOp.forceUpdate=!0,Mo(n,i,r),un(n,"lineWidgetChanged",n,e,de(i))}))},lt(wo);var Io=0,xo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Io};function Co(e,t,n,i,r){if(i&&i.shared)return function(e,t,n,i,r){(i=B(i)).shared=!1;var o=[Co(e,t,n,i,r)],a=o[0],s=i.widgetNode;return jr(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),o.push(Co(e,Ie(e,t),Ie(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=J(o)}),new To(o,a)}(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Ki(e.cm,Co)(e,t,n,i,r);var o=new xo(e,r),a=me(t,n);if(i&&B(i,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=k("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Qe(e,t.line,t,n,o)||t.line!=n.line&&Qe(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Te=!0}o.addToHistory&&Pr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&Ye(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&fe(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Ne(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Ge(e,t)&&fe(t,0)}),o.clearOnEnter&&tt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Ce=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Io,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)tr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)nr(c,u,"text");o.atomic&&to(c.doc),un(c,"markerAdded",c,o)}return o}xo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Gi(e),st(this,"clear")){var n=this.find();n&&un(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=De(a.markedSpans,this);e&&!this.collapsed?nr(e,de(a),"text"):e&&(null!=s.to&&(r=de(a)),null!=s.from&&(i=de(a))),a.markedSpans=Ee(a.markedSpans,s),null==s.from&&this.collapsed&&!Ge(this.doc,a)&&e&&fe(a,oi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Ye(this.lines[l]),u=Ze(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&tr(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&to(e.doc)),e&&un(e,"markerCleared",e,this,i,r),t&&Wi(e),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){var n,i;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],a=De(o.markedSpans,this);if(null!=a.from&&(n=ye(t?o:de(o),a.from),-1==e))return n;if(null!=a.to&&(i=ye(t?o:de(o),a.to),1==e))return i}return n&&{from:n,to:i}},xo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&$i(i,function(){var r=t.line,o=de(t.line),a=jn(i,o);if(a&&(Un(a),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!Ge(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=In(n)-s;l&&fe(r,r.height+l)}un(i,"markerChanged",i,e)})},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=U(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(U(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},lt(xo);var To=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function No(e){return e.findMarks(ye(e.first,0),e.clipPos(ye(e.lastLine())),function(e){return e.parent})}function Do(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];jr(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==U(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}To.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();un(this,"clear")}},To.prototype.find=function(e,t){return this.primary.find(e,t)},lt(To);var Eo=0,ko=function(e,t,n,i,r){if(!(this instanceof ko))return new ko(e,t,n,i,r);null==n&&(n=0),Ao.call(this,[new vo([new Zt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ye(n,0);this.sel=xr(o),this.history=new zr(null),this.id=++Eo,this.modeOption=t,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Sr(this,{from:o,to:o,text:e}),Kr(this,xr(o),F)};ko.prototype=K(Ao.prototype,{constructor:ko,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:er(function(e){var t=ye(this.first,0),n=this.first+this.size-1;lo(this,{from:t,to:ye(n,le(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&_i(this.cm,0,0),Kr(this,xr(t),F)}),replaceRange:function(e,t,n,i){po(this,e,t=Ie(this,t),n=n?Ie(this,n):t,i)},getRange:function(e,t,n){var i=ce(this,Ie(this,e),Ie(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return le(this,e)},getLineNumber:function(e){return de(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=le(this,e)),Ye(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ie(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:er(function(e,t,n){Xr(this,Ie(this,"number"==typeof e?ye(e,t||0):e),null,n)}),setSelection:er(function(e,t,n){Xr(this,Ie(this,e),Ie(this,t||e),n)}),extendSelection:er(function(e,t,n){Vr(this,Ie(this,e),t&&Ie(this,t),n)}),extendSelections:er(function(e,t){Zr(this,xe(this,e),t)}),extendSelectionsBy:er(function(e,t){Zr(this,xe(this,X(this.sel.ranges,e)),t)}),setSelections:er(function(e,t,n){if(e.length){for(var i=[],r=0;r<e.length;r++)i[r]=new Mr(Ie(this,e[r].anchor),Ie(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Kr(this,Ir(this.cm,i,t),n)}}),addSelection:er(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new Mr(Ie(this,e),Ie(this,t||e))),Kr(this,Ir(this.cm,i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=ce(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=ce(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:er(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];i[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var i=[],r=ye(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=Dr(s.from,r,o),c=Dr(Cr(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[a],f=me(u.head,u.anchor)<0;i[a]=new Mr(f?c:l,f?l:c)}else i[a]=new Mr(l,l)}return new wr(i,e.sel.primIndex)}(this,i,t),l=i.length-1;l>=0;l--)lo(this,i[l]);s?$r(this,s):this.cm&&ki(this.cm)}),undo:er(function(){uo(this,"undo")}),redo:er(function(){uo(this,"redo")}),undoSelection:er(function(){uo(this,"undo",!0)}),redoSelection:er(function(){uo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new zr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Gr(this.history.done),undone:Gr(this.history.undone)}},setHistory:function(e){var t=this.history=new zr(this.history.maxGeneration);t.done=Gr(e.done.slice(0),null,!0),t.undone=Gr(e.undone.slice(0),null,!0)},setGutterMarker:er(function(e,t,n){return bo(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&ne(i)&&(e.gutterMarkers=null),!0})}),clearGutter:er(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&bo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!pe(this,e))return null;if(t=e,!(e=le(this,e)))return null}else if(null==(t=de(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:er(function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(x(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:er(function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(x(n));if(!o)return!1;var a=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0})}),addLineWidget:er(function(e,t,n){return function(e,t,n,i){var r=new wo(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),bo(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Ge(e,t)){var i=Ve(t)<e.scrollTop;fe(t,t.height+In(r)),i&&Ei(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&un(o,"lineWidgetAdded",o,r,"number"==typeof t?t:de(t)),r}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Co(this,Ie(this,e),Ie(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Co(this,e=Ie(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=le(this,(e=Ie(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=Ie(this,e),t=Ie(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),Ie(this,ye(n,t))},indexFromPos:function(e){var t=(e=Ie(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new ko(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new ko(ue(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(me(o,a)){var s=Co(e,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}(i,No(this)),i},unlinkDoc:function(e){if(e instanceof Na&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Do(No(this));break}if(e.history==this.history){var n=[e.id];jr(e,function(e){return n.push(e.id)},!0),e.history=new zr(null),e.history.done=Gr(this.history.done,n),e.history.undone=Gr(this.history.undone,n)}},iterLinkedDocs:function(e){jr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:er(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&$i(t=this.cm,function(){Or(t),tr(t)}))})}),ko.prototype.eachLine=ko.prototype.iter;var _o=0;function So(e){var t=this;if(jo(t),!ot(t,e)&&!xn(t.display,e)){ct(e),a&&(_o=+new Date);var n=fi(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,l=function(e,i){if(!t.options.allowDropFileTypes||-1!=U(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Ki(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++s==r){var l={from:n=Ie(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};lo(t.doc,l),$r(t.doc,xr(n,Cr(l)))}}),a.readAsText(e)}},c=0;c<r;++c)l(i[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),qr(t.doc,xr(n,n)),f)for(var d=0;d<f.length;++d)po(t.doc,"",f[d].anchor,f[d].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function jo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Lo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<t.length;i++){var r=t[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Oo=!1;function zo(){var e;Oo||(tt(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Lo(Bo)},100))}),tt(window,"blur",function(){return Lo(Mi)}),Oo=!0)}function Bo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Po=0;Po<10;Po++)Ro[Po+48]=Ro[Po+96]=String(Po);for(var Uo=65;Uo<=90;Uo++)Ro[Uo]=String.fromCharCode(Uo);for(var Qo=1;Qo<=12;Qo++)Ro[Qo+111]=Ro[Qo+63235]="F"+Qo;var Yo={};function Fo(e){var t,n,i,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ho(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=X(n.split(" "),Fo),o=0;o<r.length;o++){var a=void 0,s=void 0;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Go(e,t,n,i){var r=(t=Jo(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Go(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var a=Go(e,t.fallthrough[o],n,i);if(a)return a}}}function Wo(e){var t="string"==typeof e?e:Ro[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Vo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(M?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(M?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function Zo(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Ro[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Vo(n,e,t))}function Jo(e){return"string"==typeof e?Yo[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&me(o.from,J(i).to)<=0;){var a=i.pop();if(me(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}$i(e,function(){for(var t=i.length-1;t>=0;t--)po(e.doc,"",i[t].from,i[t].to,"+delete");ki(e)})}function $o(e,t,n){var i=oe(e.text,t+n,n);return i<0||i>e.text.length?null:i}function Ko(e,t,n){var i=$o(e,t.ch,n);return null==i?null:new ye(t.line,i,n<0?"after":"before")}function qo(e,t,n,i,r){if(e){var o=qe(n,t.doc.direction);if(o){var a,s=r<0?J(o):o[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Ln(t,n);a=r<0?n.text.length-1:0;var u=On(t,c,a).top;a=ae(function(e){return On(t,c,e).top==u},r<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=$o(n,a,1))}else a=r<0?s.to:s.from;return new ye(i,a,l)}}return new ye(i,r<0?n.text.length:0,r<0?"before":"after")}Yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Yo.default=b?Yo.macDefault:Yo.pcDefault;var ea={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),F)},killLine:function(e){return Xo(e,function(t){if(t.empty()){var n=le(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ye(t.head.line+1,0)}:{from:t.head,to:ye(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Xo(e,function(t){return{from:ye(t.from().line,0),to:Ie(e.doc,ye(t.to().line+1,0))}})},delLineLeft:function(e){return Xo(e,function(e){return{from:ye(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Xo(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Xo(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ye(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ye(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return ta(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return na(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=le(e.doc,t),i=function(e){for(var t;t=Pe(e);)e=t.find(1,!0).line;return e}(n);return i!=n&&(t=de(i)),qo(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},G)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},G)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?na(e,t.head):i},G)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=R(e.getLine(o.line),o.ch,i);t.push(Z(i-a%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return $i(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=le(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ye(r.line,r.ch-1)),r.ch>0)r=new ye(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ye(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=le(e.doc,r.line-1).text;a&&(r=new ye(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ye(r.line-1,a.length-1),r,"+transpose"))}n.push(new Mr(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return $i(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);ki(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,t){var n=le(e.doc,t),i=Ye(n);return i!=n&&(t=de(i)),qo(!0,e,i,t,1)}function na(e,t){var n=ta(e,t.line),i=le(e.doc,n.line),r=qe(i,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ye(n.line,a?0:o,n.sticky)}return n}function ia(e,t,n){if("string"==typeof t&&!(t=ea[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Y}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}var ra=new P;function oa(e,t,n,i){var r=e.state.keySeq;if(r){if(Wo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ra.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),aa(e,r+" "+t,n,i))return!0}return aa(e,t,n,i)}function aa(e,t,n,i){var r=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Go(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&Go(t,e.options.extraKeys,n,e)||Go(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&un(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(ct(n),bi(e)),!!r}function sa(e,t){var n=Zo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?oa(e,"Shift-"+n,t,function(t){return ia(e,t,!0)})||oa(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ia(e,t)}):oa(e,n,t,function(t){return ia(e,t)}))}var la=null;function ca(e){var t=this;if(t.curOp.focus=S(),!ot(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=sa(t,e);f&&(la=i?n:null,!i&&88==n&&!It&&(b?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),it(document,"keyup",n),it(document,"mouseover",n))}j(t,"CodeMirror-crosshair"),tt(document,"keyup",n),tt(document,"mouseover",n)}(t)}}function ua(e){16==e.keyCode&&(this.doc.sel.shift=!1),ot(this,e)}function fa(e){var t=this;if(!(xn(t.display,e)||ot(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(f&&n==la)return la=null,void ct(e);if(!f||e.which&&!(e.which<10)||!sa(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(e,t,n){return oa(e,"'"+n+"'",t,function(t){return ia(e,t,!0)})}(t,e,r)||t.display.input.onKeyPress(e))}}}var da,ha,pa=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ga(e){var t=this,n=t.display;if(!(ot(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,xn(n,e))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!ba(t,e)){var i=fi(t,e),r=pt(e),o=i?function(e,t){var n=+new Date;return ha&&ha.compare(n,e,t)?(da=ha=null,"triple"):da&&da.compare(n,e,t)?(ha=new pa(n,e,t),da=null,"double"):(da=new pa(n,e,t),ha=null,"single")}(i,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),i&&function(e,t,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),oa(e,Vo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,function(t){if("string"==typeof t&&(t=ea[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=Y}finally{e.state.suppressEdits=!1}return i})}(t,r,i,o,e)||(1==r?i?function(e,t,n,i){a?setTimeout(z(vi,e),0):e.curOp.focus=S();var r,o=function(e,t,n){var i=e.getOption("configureMouse"),r=i?i(e,t,n):{};if(null==r.unit){var o=v?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=b?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(b?n.altKey:n.ctrlKey)),r}(e,n,i),c=e.doc.sel;e.options.dragDrop&&mt&&!e.isReadOnly()&&"single"==n&&(r=c.contains(t))>-1&&(me((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(me(r.to(),t)>0||t.xRel<0)?function(e,t,n,i){var r=e.display,o=!1,c=Ki(e,function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,it(r.wrapper.ownerDocument,"mouseup",c),it(r.wrapper.ownerDocument,"mousemove",u),it(r.scroller,"dragstart",f),it(r.scroller,"drop",c),o||(ct(t),i.addNew||Vr(e.doc,n,null,null,i.extend),l||a&&9==s?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),tt(r.wrapper.ownerDocument,"mouseup",c),tt(r.wrapper.ownerDocument,"mousemove",u),tt(r.scroller,"dragstart",f),tt(r.scroller,"drop",c),Ai(e),setTimeout(function(){return r.input.focus()},20)}(e,i,t,o):function(e,t,n,i){var r=e.display,o=e.doc;ct(t);var a,s,l=o.sel,c=l.ranges;if(i.addNew&&!i.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new Mr(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(a=new Mr(n,n)),n=fi(e,t,!0,!0),s=-1;else{var u=ya(e,n,i.unit);a=i.extend?Wr(a,u.anchor,u.head,i.extend):u}i.addNew?-1==s?(s=c.length,Kr(o,Ir(e,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==i.unit&&!i.extend?(Kr(o,Ir(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Jr(o,s,a,H):(s=0,Kr(o,new wr([a],0),H),l=o.sel);var f=n;function d(t){if(0!=me(f,t))if(f=t,"rectangle"==i.unit){for(var r=[],c=e.options.tabSize,u=R(le(o,n.line).text,n.ch,c),d=R(le(o,t.line).text,t.ch,c),h=Math.min(u,d),p=Math.max(u,d),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var m=le(o,g).text,b=W(m,h,c);h==p?r.push(new Mr(ye(g,b),ye(g,b))):m.length>b&&r.push(new Mr(ye(g,b),ye(g,W(m,p,c))))}r.length||r.push(new Mr(n,n)),Kr(o,Ir(e,l.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var v,A=a,w=ya(e,t,i.unit),M=A.anchor;me(w.anchor,M)>0?(v=w.head,M=we(A.from(),w.anchor)):(v=w.anchor,M=Ae(A.to(),w.head));var I=l.ranges.slice(0);I[s]=function(e,t){var n=t.anchor,i=t.head,r=le(e.doc,n.line);if(0==me(n,i)&&n.sticky==i.sticky)return t;var o=qe(r);if(!o)return t;var a=$e(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=$e(o,i.ch,i.sticky),f=u-a||(i.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?f<0:f>0}var d=o[c+(l?-1:0)],h=l==(1==d.level),p=h?d.from:d.to,g=h?"after":"before";return n.ch==p&&n.sticky==g?t:new Mr(new ye(n.line,p,g),i)}(e,new Mr(Ie(o,M),v)),Kr(o,Ir(e,I,s),H)}}var h=r.wrapper.getBoundingClientRect(),p=0;function g(t){e.state.selectingText=!1,p=1/0,ct(t),r.input.focus(),it(r.wrapper.ownerDocument,"mousemove",y),it(r.wrapper.ownerDocument,"mouseup",m),o.history.lastSelOrigin=null}var y=Ki(e,function(t){0!==t.buttons&&pt(t)?function t(n){var a=++p,s=fi(e,n,!0,"rectangle"==i.unit);if(s)if(0!=me(s,f)){e.curOp.focus=S(),d(s);var l=Ci(r,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Ki(e,function(){p==a&&t(n)}),150)}else{var c=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;c&&setTimeout(Ki(e,function(){p==a&&(r.scroller.scrollTop+=c,t(n))}),50)}}(t):g(t)}),m=Ki(e,g);e.state.selectingText=m,tt(r.wrapper.ownerDocument,"mousemove",y),tt(r.wrapper.ownerDocument,"mouseup",m)}(e,i,t,o)}(t,i,o,e):ht(e)==n.scroller&&ct(e):2==r?(i&&Vr(t.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(I?t.display.input.onContextMenu(e):Ai(t)))}}function ya(e,t,n){if("char"==n)return new Mr(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Mr(ye(t.line,0),Ie(e.doc,ye(t.line+1,0)));var i=n(e,t);return new Mr(i.from,i.to)}function ma(e,t,n,i){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&ct(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!st(e,n))return ft(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return rt(e,n,e,he(e.doc,o),e.options.gutters[l],t),ft(t)}}function ba(e,t){return ma(e,t,"gutterClick",!0)}function va(e,t){xn(e.display,t)||function(e,t){return!!st(e,"gutterContextMenu")&&ma(e,t,"gutterContextMenu",!1)}(e,t)||ot(e,t,"contextmenu")||I||e.display.input.onContextMenu(t)}function Aa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Yn(e)}pa.prototype.compare=function(e,t,n){return this.time+400>e&&0==me(t,this.pos)&&n==this.button};var wa={toString:function(){return"CodeMirror.Init"}},Ma={},Ia={};function xa(e){pr(e),tr(e),Ti(e)}function Ca(e,t,n){if(!t!=!(n&&n!=wa)){var i=e.display.dragFunctions,r=t?tt:it;r(e.display.scroller,"dragstart",i.start),r(e.display.scroller,"dragenter",i.enter),r(e.display.scroller,"dragover",i.over),r(e.display.scroller,"dragleave",i.leave),r(e.display.scroller,"drop",i.drop)}}function Ta(e){e.options.lineWrapping?(j(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),Je(e)),ui(e),tr(e),Yn(e),setTimeout(function(){return Ui(e)},100)}function Na(e,t){var n=this;if(!(this instanceof Na))return new Na(e,t);this.options=t=t?B(t):{},B(Ma,t,!1),gr(t);var i=t.value;"string"==typeof i?i=new ko(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var r=new Na.inputStyles[t.inputStyle](this),o=this.display=new se(e,i,r);for(var c in o.wrapper.CodeMirror=this,pr(this),Aa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Fi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new P,keySeq:null,specialChars:null},t.autofocus&&!m&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;tt(t.scroller,"mousedown",Ki(e,ga)),tt(t.scroller,"dblclick",a&&s<11?Ki(e,function(t){if(!ot(e,t)){var n=fi(e,t);if(n&&!ba(e,t)&&!xn(e.display,t)){ct(t);var i=e.findWordAt(n);Vr(e.doc,i.anchor,i.head)}}}):function(t){return ot(e,t)||ct(t)}),tt(t.scroller,"contextmenu",function(t){return va(e,t)});var n,i={end:0};function r(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(i=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}tt(t.scroller,"touchstart",function(r){if(!ot(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!ba(e,r)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),tt(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),tt(t.scroller,"touchend",function(n){var i=t.activeTouch;if(i&&!xn(t,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!i.prev||o(i,i.prev)?new Mr(s,s):!i.prev.prev||o(i,i.prev.prev)?e.findWordAt(s):new Mr(ye(s.line,0),Ie(e.doc,ye(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ct(n)}r()}),tt(t.scroller,"touchcancel",r),tt(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Li(e,t.scroller.scrollTop),zi(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),tt(t.scroller,"mousewheel",function(t){return Ar(e,t)}),tt(t.scroller,"DOMMouseScroll",function(t){return Ar(e,t)}),tt(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ot(e,t)||dt(t)},over:function(t){ot(e,t)||(function(e,t){var n=fi(e,t);if(n){var i=document.createDocumentFragment();gi(e,n,i),e.display.dragCursor||(e.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),D(e.display.dragCursor,i)}}(e,t),dt(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-_o<100))dt(t);else if(!ot(e,t)&&!xn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=E("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(e,t)},drop:Ki(e,So),leave:function(t){ot(e,t)||jo(e)}};var l=t.input.getField();tt(l,"keyup",function(t){return ua.call(e,t)}),tt(l,"keydown",Ki(e,ca)),tt(l,"keypress",Ki(e,fa)),tt(l,"focus",function(t){return wi(e,t)}),tt(l,"blur",function(t){return Mi(e,t)})}(this),zo(),Gi(this),this.curOp.forceUpdate=!0,Lr(this,i),t.autofocus&&!m||this.hasFocus()?setTimeout(z(wi,this),20):Mi(this),Ia)Ia.hasOwnProperty(c)&&Ia[c](n,t[c],wa);Ni(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Da.length;++u)Da[u](n);Wi(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Na.defaults=Ma,Na.optionHandlers=Ia;var Da=[];function Ea(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Ut(e,t).state:n="prev");var a=e.options.tabSize,s=le(o,t),l=R(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==Y||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?R(le(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",d=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)d+=a,f+="\t";if(d<c&&(f+=Z(c-d)),f!=u)return po(o,f,ye(t,0),ye(t,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<u.length){var y=ye(t,u.length);Jr(o,p,new Mr(y,y));break}}}Na.defineInitHook=function(e){return Da.push(e)};var ka=null;function _a(e){ka=e}function Sa(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var a=e.state.pasteIncoming||"paste"==r,s=wt(t),l=null;if(a&&i.ranges.length>1)if(ka&&ka.text.join("\n")==t){if(i.ranges.length%ka.text.length==0){l=[];for(var c=0;c<ka.text.length;c++)l.push(o.splitLines(ka.text[c]))}}else s.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(l=X(s,function(e){return[e]}));for(var u=e.curOp.updateInput,f=i.ranges.length-1;f>=0;f--){var d=i.ranges[f],h=d.from(),p=d.to();d.empty()&&(n&&n>0?h=ye(h.line,h.ch-n):e.state.overwrite&&!a?p=ye(p.line,Math.min(le(o,p.line).text.length,p.ch+J(s).length)):a&&ka&&ka.lineWise&&ka.text.join("\n")==t&&(h=p=ye(h.line,0)));var g={from:h,to:p,text:l?l[f%l.length]:s,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};lo(e.doc,g),un(e,"inputRead",e,g)}t&&!a&&La(e,t),ki(e),e.curOp.updateInput<2&&(e.curOp.updateInput=u),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function ja(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||$i(t,function(){return Sa(t,n,0,null,"paste")}),!0}function La(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Ea(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(le(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Ea(e,r.head.line,"smart"));a&&un(e,"electricInput",e,r.head.line)}}}function Oa(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:ye(r,0),head:ye(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function za(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ba(){var e=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=E("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),za(e),t}function Ra(e,t,n,i,r){var o=t,a=n,s=le(e,t.line);function l(i){var o,a;if(null==(o=r?function(e,t,n,i){var r=qe(t,e.doc.direction);if(!r)return Ko(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=$e(r,n.ch,n.sticky),a=r[o];if("ltr"==e.doc.direction&&a.level%2==0&&(i>0?a.to>n.ch:a.from<n.ch))return Ko(t,n,i);var s,l=function(e,n){return $o(t,e instanceof ye?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Ln(e,t),ei(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==i<0,d=l(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=u.end:d>=a.from&&d>=u.begin)){var h=f?"before":"after";return new ye(n.line,d,h)}}var p=function(e,t,i){for(var o=function(e,t){return t?new ye(n.line,l(e,1),"before"):new ye(n.line,e,"after")};e>=0&&e<r.length;e+=t){var a=r[e],s=t>0==(1!=a.level),c=s?i.begin:l(i.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),i.begin<=c&&c<i.end)return o(c,s)}},g=p(o+i,i,u);if(g)return g;var y=i>0?u.end:l(u.begin,-1);return null==y||i>0&&y==t.text.length||!(g=p(i>0?0:r.length-1,i,c(y)))?null:g}(e.cm,s,t,n):Ko(s,t,n))){if(i||(a=t.line+n)<e.first||a>=e.first+e.size||(t=new ye(a,t.ch,t.sticky),!(s=le(e,a))))return!1;t=qo(r,e.cm,s,t.line,n)}else t=o;return!0}if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var c=null,u="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var h=s.text.charAt(t.ch)||"\n",p=te(h,f)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||d||p||(p="s"),c&&c!=p){n<0&&(n=1,l(),t.sticky="after");break}if(p&&(c=p),n>0&&!l(!d))break}var g=ro(e,t,o,a,!0);return be(o,g)&&(g.hitSide=!0),g}function Pa(e,t,n,i){var r,o,a=e.doc,s=t.left;if("page"==i){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*oi(e.display),3);r=(n>0?t.bottom:t.top)+n*c}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;(o=Kn(e,s,r)).outside;){if(n<0?r<=0:r>=a.height){o.hitSide=!0;break}r+=5*n}return o}var Ua=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new P,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qa(e,t){var n=jn(e,t.line);if(!n||n.hidden)return null;var i=le(e.doc,t.line),r=_n(n,i,t.line),o=qe(i,e.doc.direction),a="left";o&&(a=$e(o,t.ch)%2?"right":"left");var s=Rn(r.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ya(e,t){return t&&(e.bad=!0),e}function Fa(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return Ya(e.clipPos(ye(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return Ha(o,t,n)}}function Ha(e,t,n){var i=e.text.firstChild,r=!1;if(!t||!_(i,t))return Ya(ye(de(e.line),0),!0);if(t==i&&(r=!0,t=i.childNodes[n],n=0,!t)){var o=e.rest?J(e.rest):e.line;return Ya(ye(de(o),o.text.length),r)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=i;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=de(r<0?e.line:e.rest[r]),f=o[a]+i;return(i<0||s!=t)&&(f=o[a+(i?1:0)]),ye(u,f)}}}var f=u(a,s,n);if(f)return Ya(f,r);for(var d=s.nextSibling,h=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=u(d,d.firstChild,0))return Ya(ye(f.line,f.ch-h),r);h+=d.textContent.length}for(var p=s.previousSibling,g=n;p;p=p.previousSibling){if(f=u(p,p.firstChild,-1))return Ya(ye(f.line,f.ch+g),r);g+=p.textContent.length}}Ua.prototype.init=function(e){var t=this,n=this,i=n.cm,r=n.div=e.lineDiv;function o(e){if(!ot(i,e)){if(i.somethingSelected())_a({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Oa(i);_a({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,F),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=ka.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Ba(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=ka.text.join("\n");var l=document.activeElement;O(s),setTimeout(function(){i.display.lineSpace.removeChild(a),l.focus(),l==r&&n.showPrimarySelection()},50)}}za(r,i.options.spellcheck),tt(r,"paste",function(e){ot(i,e)||ja(e,i)||s<=11&&setTimeout(Ki(i,function(){return t.updateFromDOM()}),20)}),tt(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),tt(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),tt(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),tt(r,"touchstart",function(){return n.forceCompositionEnd()}),tt(r,"input",function(){t.composing||t.readFromDOMSoon()}),tt(r,"copy",o),tt(r,"cut",o)},Ua.prototype.prepareSelection=function(){var e=pi(this.cm,!1);return e.focus=this.cm.state.focused,e},Ua.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ua.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ua.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),r=i.from(),o=i.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Fa(t,e.anchorNode,e.anchorOffset),s=Fa(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=me(we(a,s),r)||0!=me(Ae(a,s),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Qa(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Qa(t,o);if(!u){var f=l[l.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var h,p=e.rangeCount&&e.getRangeAt(0);try{h=C(c.node,c.offset,u.offset,u.node)}catch(e){}h&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ua.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ua.prototype.showMultipleSelections=function(e){D(this.cm.display.cursorDiv,e.cursors),D(this.cm.display.selectionDiv,e.selection)},Ua.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ua.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return _(this.div,t)},Ua.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ua.prototype.blur=function(){this.div.blur()},Ua.prototype.getField=function(){return this.div},Ua.prototype.supportsTouch=function(){return!0},Ua.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():$i(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ua.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ua.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(y&&u&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Fa(t,e.anchorNode,e.anchorOffset),i=Fa(t,e.focusNode,e.focusOffset);n&&i&&$i(t,function(){Kr(t.doc,xr(n,i),F),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},Ua.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>i.firstLine()&&(a=ye(a.line-1,le(i.doc,a.line-1).length)),s.ch==le(i.doc,s.line).text.length&&s.line<i.lastLine()&&(s=ye(s.line+1,0)),a.line<r.viewFrom||s.line>r.viewTo-1)return!1;a.line==r.viewFrom||0==(e=di(i,a.line))?(t=de(r.view[0].line),n=r.view[0].node):(t=de(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,c,u=di(i,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=de(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var f=i.doc.splitLines(function(e,t,n,i,r){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(e){e&&(c(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,d=t.getAttribute("cm-marker");if(d){var h=e.findMarks(ye(i,0),ye(r+1,0),(y=+d,function(e){return e.id==y}));return void(h.length&&(o=h[0].find(0))&&u(ce(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&c();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),p&&(a=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var y}for(;f(t),t!=n;)t=t.nextSibling,l=!1;return o}(i,n,c,t,l)),d=ce(i.doc,ye(t,0),ye(l,le(i.doc,l).text.length));f.length>1&&d.length>1;)if(J(f)==J(d))f.pop(),d.pop(),l--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),t++}for(var h=0,p=0,g=f[0],y=d[0],m=Math.min(g.length,y.length);h<m&&g.charCodeAt(h)==y.charCodeAt(h);)++h;for(var b=J(f),v=J(d),A=Math.min(b.length-(1==f.length?h:0),v.length-(1==d.length?h:0));p<A&&b.charCodeAt(b.length-p-1)==v.charCodeAt(v.length-p-1);)++p;if(1==f.length&&1==d.length&&t==a.line)for(;h&&h>a.ch&&b.charCodeAt(b.length-p-1)==v.charCodeAt(v.length-p-1);)h--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var w=ye(t,h),M=ye(l,d.length?J(d).length-p:0);return f.length>1||f[0]||me(w,M)?(po(i.doc,f,w,M,"+input"),!0):void 0},Ua.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ua.prototype.reset=function(){this.forceCompositionEnd()},Ua.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ua.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ua.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||$i(this.cm,function(){return tr(e.cm)})},Ua.prototype.setUneditable=function(e){e.contentEditable="false"},Ua.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ki(this.cm,Sa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ua.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ua.prototype.onContextMenu=function(){},Ua.prototype.resetPosition=function(){},Ua.prototype.needsContentAttribute=!0;var Ga=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new P,this.hasSelection=!1,this.composing=null};Ga.prototype.init=function(e){var t=this,n=this,i=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ot(i,e)){if(i.somethingSelected())_a({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Oa(i);_a({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,F):(n.prevInput="",r.value=t.text.join("\n"),O(r))}"cut"==e.type&&(i.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(r.style.width="0px"),tt(r,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),tt(r,"paste",function(e){ot(i,e)||ja(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),tt(r,"cut",o),tt(r,"copy",o),tt(e.scroller,"paste",function(t){xn(e,t)||ot(i,t)||(i.state.pasteIncoming=!0,n.focus())}),tt(e.lineSpace,"selectstart",function(t){xn(e,t)||ct(t)}),tt(r,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),tt(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Ga.prototype.createField=function(e){this.wrapper=Ba(),this.textarea=this.wrapper.firstChild},Ga.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=pi(e);if(e.options.moveInputWithCursor){var r=Jn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},Ga.prototype.showSelection=function(e){var t=this.cm.display;D(t.cursorDiv,e.cursors),D(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ga.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&O(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ga.prototype.getField=function(){return this.textarea},Ga.prototype.supportsTouch=function(){return!1},Ga.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||S()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ga.prototype.blur=function(){this.textarea.blur()},Ga.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ga.prototype.receivedFocus=function(){this.slowPoll()},Ga.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Ga.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},Ga.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Mt(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,r.length);l<c&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return $i(t,function(){Sa(t,r.slice(l),i.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ga.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ga.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ga.prototype.onContextMenu=function(e){var t=this,n=t.cm,i=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=fi(n,e),c=i.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Ki(n,Kr)(n.doc,xr(o),F);var u,d=r.style.cssText,h=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),i.input.focus(),l&&window.scrollTo(null,u),i.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=m,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),a&&s>=9&&y(),I){dt(e);var g=function(){it(window,"mouseup",g),setTimeout(m,20)};tt(window,"mouseup",g)}else setTimeout(m,50)}function y(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function m(){if(t.contextMenuPending==m&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,r.style.cssText=d,a&&s<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=r.selectionStart)){(!a||a&&s<9)&&y();var e=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Ki(n,ao)(n):e++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Ga.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ga.prototype.setUneditable=function(){},Ga.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,i,r,o){e.defaults[n]=i,r&&(t[n]=o?function(e,t,n){n!=wa&&r(e,t,n)}:r)}e.defineOption=n,e.Init=wa,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Er(e)},!0),n("indentUnit",2,Er,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){kr(e),Yn(e),tr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(ye(i,o))}i++});for(var r=n.length-1;r>=0;r--)po(e.doc,t,n[r],ye(n[r].line,n[r].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=wa&&e.refresh()}),n("specialCharPlaceholder",en,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!A),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Aa(e),xa(e)},!0),n("keyMap","default",function(e,t,n){var i=Jo(t),r=n!=wa&&Jo(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ta,!0),n("gutters",[],function(e){gr(e.options),xa(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?li(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Ui(e)},!0),n("scrollbarStyle","native",function(e){Fi(e),Ui(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){gr(e.options),xa(e)},!0),n("firstLineNumber",1,xa,!0),n("lineNumberFormatter",function(e){return e},xa,!0),n("showCursorWhenSelecting",!1,hi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(Mi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,Ca),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,hi,!0),n("singleCursorHeightPerLine",!0,hi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,kr,!0),n("addModeClass",!1,kr,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,kr,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(Na),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&Ki(this,t[e])(this,n,r),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Jo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:qi(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,tr(this)}),removeOverlay:qi(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void tr(this)}}),indentLine:qi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&Ea(this,e,t,n)}),indentSelection:qi(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Ea(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&ki(this));else{var o=r.from(),a=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Ea(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&Jr(this.doc,i,new Mr(o,c[i].to()),F)}}}),getTokenAt:function(e,t){return Gt(this,e,t)},getLineTokens:function(e,t){return Gt(this,ye(e),t,!0)},getTokenTypeAt:function(e){e=Ie(this.doc,e);var t,n=Pt(this,le(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}i=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!n.hasOwnProperty(t))return i;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&i.push(r[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=r[o[t][a]];s&&i.push(s)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==U(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return Ut(this,(e=Me(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Jn(this,null==e?n.head:"object"==typeof e?Ie(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Zn(this,Ie(this.doc,e),t||"page")},coordsChar:function(e,t){return Kn(this,(e=Vn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vn(this,{top:e,left:0},t||"page").top,he(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=le(this.doc,e)}else i=e;return Wn(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-Ve(i):0)},defaultTextHeight:function(){return oi(this.display)},defaultCharWidth:function(){return ai(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o,a,s,l=this.display,c=(e=Jn(this,Ie(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==i)c=e.top;else if("above"==i||"near"==i){var f=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(c=e.bottom),u+t.offsetWidth>d&&(u=d-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==r?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,a={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(s=Di(o,a)).scrollTop&&Li(o,s.scrollTop),null!=s.scrollLeft&&zi(o,s.scrollLeft))},triggerOnKeyDown:qi(ca),triggerOnKeyPress:qi(fa),triggerOnKeyUp:ua,triggerOnMouseDown:qi(ga),execCommand:function(e){if(ea.hasOwnProperty(e))return ea[e].call(null,this)},triggerElectric:qi(function(e){La(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=Ie(this.doc,e),a=0;a<t&&!(o=Ra(this.doc,o,r,n,i)).hitSide;++a);return o},moveH:qi(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Ra(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},G)}),deleteH:qi(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Xo(this,function(n){var r=Ra(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var a=Ie(this.doc,e),s=0;s<t;++s){var l=Jn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Pa(this,l,r,n)).hitSide)break}return a},moveV:qi(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=Jn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=Pa(n,s,e,t);return"page"==t&&a==i.sel.primary()&&Ei(n,Zn(n,l,"div").top-s.top),l},G),r.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(e){var t=le(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=t.length||!n?++i:--n;for(var o=t.charAt(n),a=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&a(t.charAt(n-1));)--n;for(;i<t.length&&a(t.charAt(i));)++i}return new Mr(ye(e.line,n),ye(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?j(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==S()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:qi(function(e,t){_i(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Dn(this)-this.display.barHeight,width:e.scrollWidth-Dn(this)-this.display.barWidth,clientHeight:kn(this),clientWidth:En(this)}},scrollIntoView:qi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ye(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Si(e),e.curOp.scrollToPos=t}(this,e):ji(this,e.from,e.to,e.margin)}),setSize:qi(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&Qn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){nr(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return $i(this,e)},startOperation:function(){return Gi(this)},endOperation:function(){return Wi(this)},refresh:qi(function(){var e=this.display.cachedTextHeight;tr(this),this.curOp.forceUpdate=!0,Yn(this),_i(this,this.doc.scrollLeft,this.doc.scrollTop),dr(this),(null==e||Math.abs(e-oi(this.display))>.5)&&ui(this),rt(this,"refresh",this)}),swapDoc:qi(function(e){var t=this.doc;return t.cm=null,Lr(this,e),Yn(this),this.display.input.reset(),_i(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},lt(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}(Na);var Wa="iter insert remove copy getEditor constructor".split(" ");for(var Va in ko.prototype)ko.prototype.hasOwnProperty(Va)&&U(Wa,Va)<0&&(Na.prototype[Va]=function(e){return function(){return e.apply(this.doc,arguments)}}(ko.prototype[Va]));return lt(ko),Na.inputStyles={textarea:Ga,contenteditable:Ua},Na.defineMode=function(e){Na.defaults.mode||"null"==e||(Na.defaults.mode=e),Nt.apply(this,arguments)},Na.defineMIME=function(e,t){Tt[e]=t},Na.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Na.defineMIME("text/plain","null"),Na.defineExtension=function(e,t){Na.prototype[e]=t},Na.defineDocExtension=function(e,t){ko.prototype[e]=t},Na.fromTextArea=function(e,t){if((t=t?B(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=S();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function i(){e.value=s.getValue()}var r;if(e.form&&(tt(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var a=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(it(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var s=Na(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},function(e){e.off=it,e.on=tt,e.wheelEventPixels=vr,e.Doc=ko,e.splitLines=wt,e.countColumn=R,e.findColumn=W,e.isWordChar=ee,e.Pass=Y,e.signal=rt,e.Line=Zt,e.changeEnd=Cr,e.scrollbarModel=Yi,e.Pos=ye,e.cmpPos=me,e.modes=Ct,e.mimeModes=Tt,e.resolveMode=Dt,e.getMode=Et,e.modeExtensions=kt,e.extendMode=_t,e.copyState=St,e.startState=Lt,e.innerMode=jt,e.commands=ea,e.keyMap=Yo,e.keyName=Zo,e.isModifierKey=Wo,e.lookupKey=Go,e.normalizeKeyMap=Ho,e.StringStream=Ot,e.SharedTextMarker=To,e.TextMarker=xo,e.LineWidget=wo,e.e_preventDefault=ct,e.e_stopPropagation=ut,e.e_stop=dt,e.addClass=j,e.contains=_,e.rmClass=T,e.keyNames=Ro}(Na),Na.version="5.42.2",Na}()},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){var i=n(230);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(module,exports,__webpack_require__){"use strict";!function(){window.URule||(window.URule={}),URule.menu={},URule.menu.AbstractMenu=function(e){},URule.menu.AbstractMenu.prototype={fadeSpeed:100,above:"auto",preventDoubleContext:!0,compress:!1,createDom:function(){},getDom:function(){return this._dom||(this._dom=this.createDom(),$(this._dom).data("ref",this)),this._dom},render:function(e){this._rendered||(e?$(e).append(this.getDom()):$("body").append(this.getDom())),this._rendered=!0},setConfig:function(e){this.remove(),this.constructor.call(this,e)},remove:function(){this._dom&&(this._dom.remove(),this._dom=null),this._rendered=!1}},URule.menu.Menu=function(e){URule.menu.Menu.prototype.superClass.call(this,e),$.extend(this,e)},URule.menu.Menu.prototype=new URule.menu.AbstractMenu,URule.menu.Menu.prototype.superClass=URule.menu.AbstractMenu,URule.menu.Menu.prototype.constructor=URule.menu.Menu,URule.menu.Menu.prototype.createDom=function(){var e,t,n,i;e=this.compress?" compressed-context":"",t=(i=$("<ul class='dropdown-menu dropdown-context"+e+"' style='font-size:12px'></ul>"))[0],this._dom=t,n=this.menuItems;var r=this;if(n.length>20){var o=$("<div style='margin-left: 2px;margin-right: 2px'>");o.append("<i class='glyphicon glyphicon-filter' style='color:#006600;margin-left: 2px;margin-right: 2px'></i>  "),this.search=$("<input type='text' class='form-control' placeholder='输入值后回车查询' style='width: 85%;display: inline-block;height: 26px;padding: 1px;font-size: 12px;'>"),o.append(this.search),i.append(o),this.search.click(function(e){e.stopPropagation()}),this.search.dblclick(function(e){e.stopPropagation()}),this.search.keypress(function(e){var t=e.keyCode?e.keyCode:e.which;if("13"===t||13===t){var i=$(this).val();if(!r.oldSearchValue||r.oldSearchValue!==i){for(r.oldSearchValue=i;r.menuItems.length>0;)r.menuItems[0].remove();for(var o=0;o<n.length;o++){var a=n[o],s=a.label;i&&""!==i?s&&s.indexOf(i)>-1&&r.addMenuItem(a):r.addMenuItem(a)}}}})}this.menuItems=[];for(var a=0;a<n.length;a++)this.addMenuItem(n[a]);return t},URule.menu.Menu.prototype.addMenuItem=function(menuItem){var item;return item=menuItem instanceof URule.menu.MenuItem?menuItem:menuItem.$type?eval("(URule.menu."+menuItem.$type+"(menuItem))"):new URule.menu.MenuItem(menuItem),item.parent=this,item.render(this.getDom()),this.menuItems.push(item),item},URule.menu.Menu.prototype.getMenuItem=function(e){for(var t,n=0;n<this.menuItems.length;n++){if(t=this.menuItems[n],"string"!=typeof e)return this.menuItems[e];if(t.name===e)return t;if(t.subMenu&&(t=t.subMenu.getMenuItem(e)))return t}},URule.menu.Menu.prototype.remove=function(){URule.menu.Menu.prototype.superClass.prototype.remove.call(this),this.parent&&(this.parent.subMenu=null,this.parent.getDom().removeClass("dropdown-submenu"))},URule.menu.Menu.prototype.show=function(e){e.preventDefault(),e.stopPropagation(),this.render(),$(".modal").removeAttr("tabindex");for(var t=$(this.getDom()),n=$(e.target),i=3;!n.is("body");){var r=n.css("z-index");if(!isNaN(r)&&"0"!==r){i=parseInt(r)+1;break}n=n.parent()}if(t.css("z-index",i),$(".dropdown-context:not(.dropdown-context-sub)").hide(),"boolean"==typeof this.above&&this.above)t.addClass("dropdown-context-up").css({top:e.pageY-20-t.height(),left:e.pageX-13}).fadeIn(this.fadeSpeed);else if("string"==typeof this.above&&"auto"==this.above){t.removeClass("dropdown-context-up");var o=t.height()+10;e.pageY+o>$("html").height()+10&&e.pageY>o?t.addClass("dropdown-context-up").css({top:e.pageY-20-o,left:e.pageX-13}).fadeIn(this.fadeSpeed):t.css({top:e.pageY+10,left:e.pageX-13}).fadeIn(this.fadeSpeed)}this.onShow&&this.onShow(this)},URule.menu.Menu.prototype.hide=function(){var e=$(this._dom);e.is(":visible")&&(this.onHide&&this.onHide(this),e.fadeOut(this.fadeSpeed,function(){e.css({display:""}).find(".drop-left").removeClass("drop-left")}),this.parent&&this.parent.parent.hide())},URule.menu.MenuItem=function(e){URule.menu.MenuItem.prototype.superClass.call(this,e),$.extend(this,e)},URule.menu.MenuItem.prototype=new URule.menu.AbstractMenu,URule.menu.MenuItem.prototype.superClass=URule.menu.AbstractMenu,URule.menu.MenuItem.prototype.constructor=URule.menu.MenuItem,URule.menu.MenuItem.prototype.createDom=function(){var e,t,n;return n=this,e=$("<li style='cursor: default'></li>"),this._dom=e[0],this.image?(t='<img src="'+this.image+'"',t=this.label?'<img src="'+this.image+'" style="width: 20px" title="'+this.label+'">':'<img src="'+this.image+'" style="width: 20px">'):t=this.icon?"<i class='"+this.icon+"'></i> "+this.label:this.label,e.on("mouseout",function(){clearTimeout(n.showMenuTimer),n.hideMenuTimer=setTimeout(function(){e.siblings(".dropdown-submenu").each(function(){$(this).find("ul.dropdown-context-sub").each(function(){var e=$(this).data("ref");$(this).fadeOut(e.fadeSpeed)})})},300)}),"divider"===this.type?(e.addClass("divider"),e.append(t)):"header"==this.type?(e.addClass("nav-header"),e.append(t)):(e.append("<a>"+t+"</a>"),this.subMenu&&this.setSubMenu(this.subMenu)),n.onClick&&(this.parent&&this.parent.search?(e.click(function(e){e.stopPropagation()}),e.dblclick(function(e){n.onClick(n,{event:e}),e.preventDefault(),e.stopPropagation(),n.parent.hide()})):e.click(function(e){e.preventDefault(),e.stopPropagation(),n.onClick(n,{event:e}),n.parent.hide()})),e[0]},URule.menu.MenuItem.prototype.setSubMenu=function(e){var t,n;t=(n=this).getDom(),e instanceof URule.menu.Menu?n.subMenu=e:n.subMenu=new URule.menu.Menu(e),n.subMenu.parent=this;var i=$(t).attr("class","dropdown-submenu");return i.mouseover(function(){clearTimeout(n.showMenuTimer),i.siblings(".dropdown-submenu").each(function(){$(this).find("ul.dropdown-context-sub").each(function(){var e=$(this).data("ref");$(this).fadeOut(e.fadeSpeed)})});var e=$(this).find(".dropdown-context-sub:first");e.width()+e.offset().left>window.innerWidth&&e.addClass("drop-left"),n.showMenuTimer=setTimeout(function(){$(n.subMenu.getDom()).fadeIn(n.subMenu.fadeSpeed)},300)}),this.subMenu.render(t),$(this.subMenu.getDom()).addClass("dropdown-context-sub"),this.subMenu},URule.menu.MenuItem.prototype.remove=function(){URule.menu.MenuItem.prototype.superClass.prototype.remove.call(this);var e=this.parent.menuItems.indexOf(this);this.parent.menuItems.splice(e,1)},URule.menu.MenuItem.prototype.show=function(){$(this._dom).show()},URule.menu.MenuItem.prototype.hide=function(){$(this._dom).hide()},$(document).on("dblclick","html",function(){$(".dropdown-context").each(function(){$(this).data("ref").hide()})}),$(document).keyup(function(e){27===e.keyCode&&($(".dropdown-context").each(function(){$(this).data("ref").hide()}),window._simple_value_input&&window._simple_value_input.is(":visible")&&window._simple_value_input.trigger("blur"))}),URule.menu.AbstractMenu.preventDoubleContext&&$(document).on("contextmenu",".dropdown-context",function(e){e.preventDefault()})}()},function(e,t,n){"use strict";var i=n(4);window._ConstantValueArray=[],window._ActionTypeArray=[],window._VariableValueArray=[],window._ParameterValueArray=[],window._FunctionValueArray=[],window._conditionTemplateArray=[],window._actionTemplateArray=[],window.actionLibraries=[],window.variableLibraries=[],window.constantLibraries=[],window.parameterLibraries=[],window.conditionTemplates=[],window.actionTemplates=[],window.urule={},window.knowledgePackages=null,window.loadKnowledgePackages=function(e){window.knowledgePackages?e(window.knowledgePackages):$.ajax({url:window._server+"/ruleflowdesigner/loadPackages?project="+window._project,type:"POST",success:function(t){window.knowledgePackages=t,e(t)},error:function(e){(0,i.handleError)(e)}})},window.refreshConditionTemplates=function(){for(var e="",t=0;t<conditionTemplates.length;t++){var n=conditionTemplates[t];0==t?e=n:e+=";"+n}if(e){var r=window._server+"/common/loadXml";$.ajax({type:"POST",data:{files:e},url:r,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorConditionTemplates=e,$.each(window._conditionTemplateArray,function(t,n){n.initMenu(e,1)})}})}},window.refreshActionTemplates=function(){for(var e="",t=0;t<actionTemplates.length;t++){var n=actionTemplates[t];0==t?e=n:e+=";"+n}if(e){var r=window._server+"/common/loadXml";$.ajax({type:"POST",data:{files:e},url:r,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorActionTemplates=e,$.each(window._actionTemplateArray,function(t,n){n.initMenu(e,1)})}})}},window.generateContainer=function(){var e=$("<span class='operation-container'></span>");return e.mouseover(function(){e.css({border:"dashed gray 1px"})}),e.mouseout(function(){e.css({border:"dashed transparent 1px"})}),e},window.refreshParameterLibraries=function(){for(var e="",t=0;t<parameterLibraries.length;t++){var n=parameterLibraries[t];0==t?e=n:e+=";"+n}if(e){var r=window._server+"/common/loadXml";$.ajax({type:"POST",data:{files:e},url:r,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorParameterLibraries=e,$.each(window._ParameterValueArray,function(t,n){n.initMenu(e,1)})}})}},window.refreshVariableLibraries=function(){for(var e="",t=0;t<variableLibraries.length;t++){var n=variableLibraries[t];0==t?e=n:e+=";"+n}if(e){var r=window._server+"/common/loadXml";$.ajax({type:"POST",data:{files:e},url:r,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorVariableLibraries=e,$.each(window._VariableValueArray,function(t,n){n.initMenu(e)}),$.each(window._ParameterValueArray,function(e,t){t.initMenu(null,1)})}})}},window.refreshActionLibraries=function(){for(var e="",t=0;t<actionLibraries.length;t++){var n=actionLibraries[t];0==t?e=n:e+=";"+n}e||(e="builtinactions");var r=window._server+"/common/loadXml";$.ajax({type:"POST",data:{files:e},url:r,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorActionLibraries=e,$.each(window._ActionTypeArray,function(t,n){n.initMenu(e)})}})},window.refreshFunctionLibraries=function(){var e=window._server+"/common/loadFunctions";$.ajax({url:e,error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorFunctionLibraries=e,$.each(window._FunctionValueArray,function(t,n){n.initMenu(e)})}})},window.refreshConstantLibraries=function(){for(var e="",t=0;t<constantLibraries.length;t++){var n=constantLibraries[t];0==t?e=n:e+=";"+n}if(e){var r=window._server+"/common/loadXml";$.ajax({data:{files:e},url:r,type:"POST",error:function(e){(0,i.handleError)(e)},success:function(e){window._uruleEditorConstantLibraries=e,$.each(window._ConstantValueArray,function(t,n){n.initMenu(e)})}})}}},function(e,t,n){"use strict";var i=o(n(90)),r=o(n(235));function o(e){return e&&e.__esModule?e:{default:e}}urule.InputType=function(e,t,n,r,o){this.container=$("<span>"),this.initSigmaMenu=!1,this.label=generateContainer(),this.rule=r,this.extInfo=o,this.container.append(this.label),t?(URule.setDomContent(this.label,t),this.label.css({color:"gray"})):(URule.setDomContent(this.label,"选择值类型"),this.label.css({color:"blue"})),this.functionProperty=n,this.dataContainer=$("<span>"),this.container.append(this.dataContainer),this.type="";var a=this,s=function(e){a.setValueType(e.name)};if(a.menu=new URule.menu.Menu({menuItems:[{label:"输入值",name:"Input",onClick:s},{label:"选择变量",name:"Variable",onClick:s},{label:"选择常量",name:"Constant",onClick:s},{label:"选择参数",name:"Parameter",onClick:s}]}),a.menu.menuItems.push({label:"选择方法",name:"Method",onClick:s},{label:"选择函数",name:"CommonFunction",onClick:s}),this.label.click(function(e){a.initMathMenu||window._decisionTree||(a.initMathMenu=!0,0==a.container.parents("condition").length&&a.menu.menuItems.push({label:"选择常用数学符号",name:"Math",onClick:s}));if(!a.initSigmaMenu){a.initSigmaMenu=!0;var t=a.container.parents("td");t.length>0&&t.data("sigma")&&a.menu.menuItems.splice(0,0,{name:"SignI",image:i.default,onClick:s})}a.menu.show(e)}),e){var l=$("<span style='color:red;font-size:11pt'><strong>"+e+"</strong></span>");this.container.append(l)}},urule.InputType.prototype.getDisplayContainer=function(){var e=$("<span>");return"Input"==this.type?e.append(this.simpleValue.getDisplayContainer()):"Variable"==this.type||"VariableCategory"==this.type?e.append(this.variableValue.getDisplayContainer()):"Constant"==this.type?e.append(this.constantValue.getDisplayContainer()):"Method"==this.type?e.append(this.methodValue.getDisplayContainer()):"Parameter"==this.type?e.append(this.parameterValue.getDisplayContainer()):"CommonFunction"==this.type?e.append(this.functionValue.getDisplayContainer()):"Math"==this.type?e.append(this.mathValue.getDisplayContainer()):this.type,e},urule.InputType.prototype.setValueType=function(e,t){switch(window._setDirty(),this.type=e,this.variableValue&&this.variableValue.getContainer().hide(),this.constantValue&&this.constantValue.getContainer().hide(),this.simpleValue&&this.simpleValue.getContainer().hide(),this.methodValue&&this.methodValue.getContainer().hide(),this.parameterValue&&this.parameterValue.getContainer().hide(),this.functionValue&&this.functionValue.getContainer().hide(),this.mathValue&&this.mathValue.getContainer().hide(),this.signI&&this.signI.getContainer().hide(),URule.setDomContent(this.label,""),this.label.css({color:"#FDFDFD"}),e){case"Input":this.simpleValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.simpleValue=new urule.SimpleValue(this.arithmetic,t,this.extInfo),this.dataContainer.append(this.simpleValue.getContainer())),this.simpleValue.getContainer().show(),this.type="Input";break;case"Constant":this.constantValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.constantValue=new urule.ConstantValue(this.arithmetic,t),this.dataContainer.append(this.constantValue.getContainer())),this.constantValue.getContainer().show(),this.type="Constant";break;case"Method":this.methodValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.methodValue=new urule.MethodValue(this.arithmetic,t,this.dataContainer),this.dataContainer.append(this.methodValue.getContainer())),this.methodValue.getContainer().show(),this.type="Method";break;case"Parameter":this.parameterValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.parameterValue=new urule.ParameterValue(this.arithmetic,t,"In"),this.dataContainer.append(this.parameterValue.getContainer())),this.parameterValue.getContainer().show(),this.type="Parameter";break;case"CommonFunction":this.functionValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.functionValue=new urule.FunctionValue(this.arithmetic,t,"In"),this.dataContainer.append(this.functionValue.getContainer())),this.functionValue.getContainer().show(),this.type="CommonFunction";break;case"Math":this.mathValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.mathValue=new urule.MathValue(this.arithmetic,t),this.dataContainer.append(this.mathValue.getContainer())),this.mathValue.getContainer().show(),this.type="Math";break;case"SignI":this.signI||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.signI=new r.default(this.arithmetic,t),this.dataContainer.append(this.signI.getContainer())),this.signI.getContainer().show(),this.type="SignI";break;default:this.variableValue||(this.arithmetic=new urule.ComplexArithmetic(this.rule),this.variableValue=new urule.VariableValue(this.arithmetic,t,"In",this.functionProperty),this.dataContainer.append(this.variableValue.getContainer())),this.variableValue.getContainer().show(),this.type="Variable"}},urule.InputType.prototype.toXml=function(){if(""==this.type)return"";var e="<value ";if("Input"==this.type){var t=this.simpleValue.getValue();if(!t||""==t)throw"输入值不能为空!";e+=' content="'+t+'"'}else if("Variable"==this.type||"VariableCategory"==this.type)e+=this.variableValue.toXml(),this.type=this.variableValue.getType();else if("Method"==this.type)e+=this.methodValue.toXml();else if("Parameter"==this.type)e+=this.parameterValue.toXml();else if("CommonFunction"==this.type)e+=this.functionValue.toXml();else if("Constant"===this.type)e+=this.constantValue.toXml();else if("Math"===this.type)e+=this.mathValue.toXml();else{if("SignI"!==this.type)throw"请选择具体值！";e+=this.signI.toXml()}if(e+=' type="'+this.type+'" ',e+=">",e+=this.arithmetic.toXml(),"Method"==this.type)for(var n=this.methodValue.action.parameters,i=0;i<n.length;i++){e+=n[i].toXml()}else if("CommonFunction"==this.type){e+=this.functionValue.getParameter().toXml()}else"Math"===this.type&&(e+=this.mathValue.math.toXml());return e+="</value>"},urule.InputType.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.NextType=function(e){this.container=$("<span>"),this.rule=e,this.inputType=null,this.paren=null,this.selectorLabel=generateContainer(),this.selectorLabel.css({fontWeight:"blod",color:"#fff"}),this.container.append(this.selectorLabel),URule.setDomContent(this.selectorLabel,"");var t=this,n=function(e){var n=e.name;t.doNext(n),window._setDirty()};t.menu=new URule.menu.Menu({menuItems:[{label:"值",name:"value",onClick:n},{label:"括号",name:"paren",onClick:n}]}),this.selectorLabel.click(function(e){t.menu.show(e)})},urule.NextType.prototype.initData=function(e){var t=e.value;if(t){var n=t.valueType;"Paren"==n?(this.doNext("paren"),this.paren.initData(t)):(this.doNext("value"),this.inputType.setValueType(n,t))}},urule.NextType.prototype.toXml=function(){if(this.paren)return this.paren.toXml();if(this.inputType)return this.inputType.toXml();throw"请选择具体值！"},urule.NextType.prototype.getDisplayContainer=function(){return this.inputType?this.inputType.getDisplayContainer():this.paren?this.paren.getDisplayContainer():null},urule.NextType.prototype.getContainer=function(){return this.container},urule.NextType.prototype.doNext=function(e){"value"==e?(this.paren&&(this.paren.getContainer().remove(),this.paren=null),this.inputType||(this.inputType=new urule.InputType(null,null,null,this.rule),this.container.append(this.inputType.getContainer()))):"paren"==e&&(this.inputType&&(this.inputType.getContainer().remove(),this.inputType=null),this.paren||(this.paren=new urule.Paren(this.rule),this.container.append(this.paren.getContainer())))}},function(e,t,n){"use strict";urule.Paren=function(e){this.container=$("<span>"),this.leftParen=$("<span>(</span>"),this.leftParen.css({color:"#000",fontWeight:"blod","padding-left":"3px","padding-right":"3px"}),this.rightParen=$("<span>)</span>"),this.rightParen.css({color:"#000",fontWeight:"blod","padding-left":"3px","padding-right":"3px"}),this.parenContainer=$("<span>"),this.container.append(this.leftParen),this.container.append(this.parenContainer),this.container.append(this.rightParen),this.inputType=new urule.InputType(null,null,null,e),this.parenContainer.append(this.inputType.getContainer()),this.arithmetic=new urule.ComplexArithmetic(e),this.container.append(this.arithmetic.getContainer())},urule.Paren.prototype.initData=function(e){var t=e.value,n=t.valueType;this.inputType.setValueType(n,t),this.arithmetic.initData(e.arithmetic)},urule.Paren.prototype.getDisplayContainer=function(){return this.inputType.getDisplayContainer()},urule.Paren.prototype.toXml=function(){if(!this.inputType)throw"请输入括号内容!";var e="<paren>";return e+=this.inputType.toXml(),this.arithmetic&&(e+=this.arithmetic.toXml()),e+="</paren>"},urule.Paren.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.MethodParameter=function(e){this.inputType=new urule.InputType(null,null,null,e),this.container=this.inputType.getContainer()},urule.MethodParameter.prototype.initData=function(e){if(e&&(this.name=e.name,this.type=e.type,e.value)){var t=e.value;t.valueType&&this.inputType.setValueType(t.valueType,t)}},urule.MethodParameter.prototype.toXml=function(){var e='<parameter name="'+this.name+'" type="'+this.type+'">';return e+=this.inputType.toXml(),e+="</parameter>"},urule.MethodParameter.prototype.getContainer=function(){return this.container},urule.MethodParameter.prototype.getInputType=function(){return this.inputType}},function(e,t,n){"use strict";urule.MethodAction=function(e){this.parameters=[],this.rule=e,this.init()},urule.MethodAction.prototype.init=function(){this.container=$("<span>"),this.nameContainer=$("<span>"),this.container.append(this.nameContainer),this.nameContainer.css({color:"darkblue"})},urule.MethodAction.prototype.initData=function(e){if(e){this.bean=e.beanId,this.name=e.beanLabel,this.method=e.methodName,this.methodLabel=e.methodLabel,this.knowledgePackage=e.knowledgePackage;var t=e.parameters;if(this.parameterCount=0,t&&(this.parameterCount=t.length),"invokeKnowledgePackage"===this.method){URule.setDomContent(this.nameContainer,"调用");var n=$("<span>知识包：</span>");this.packageSelect=$('<select class="form-control" style="display: inline-block;width: inherit;height: 22px;padding: 0px;"></select>'),n.append(this.packageSelect);var i=this;return window.loadKnowledgePackages(function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;i.packageSelect.append('<option value="'+s.project+"/"+s.id+'">'+s.name+"</option>")}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}i.knowledgePackage?i.packageSelect.val(i.knowledgePackage):i.packageSelect.append('<option selected value=""></option>')}),this.packageSelect.change(function(){i.knowledgePackage=$(this).val()}),void this.container.append(n)}if(0!==this.parameterCount){URule.setDomContent(this.nameContainer,this.methodLabel+"(");for(var r=0;r<this.parameterCount;r++){var o=t[r];if(r>0){var a=$("<span>;</span>");this.container.append(a)}if(this.parameterCount>0){var s=$("<span style='color:purple'>&nbsp;"+o.name+":</span>");this.container.append(s)}var l=new urule.MethodParameter(this.rule);this.parameters.push(l),this.container.append(l.getContainer()),l.initData(o)}this.container.append(")")}else{URule.setDomContent(this.nameContainer,this.methodLabel);n=$("<span style='color:gray'>(无参数)</span>");this.container.append(n)}}},urule.MethodAction.prototype.toXml=function(){if(!this.name||""==this.name)throw"请选择要执行的方法！";var e='<execute-method bean="'+this.bean+'" bean-label="'+this.name+'" method-label="'+this.methodLabel+'" method-name="'+this.method+'"';if("invokeKnowledgePackage"===this.method){if(!this.knowledgePackage)throw"请选择要调用的知识包！";e+=' knowledge-package="'+this.knowledgePackage+'"',e+=">"}else{e+=">";for(var t=0;t<this.parameters.length;t++){e+=this.parameters[t].toXml()}}return e+="</execute-method>"},urule.MethodAction.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.ParameterValue=function(e,t,n){this.arithmetic=e,this.container=$("<span>"),this.label=generateContainer(),this.container.append(this.label),this.label.css({color:"#6b3db0"}),URule.setDomContent(this.label,"请选择参数"),e&&this.container.append(e.getContainer()),t&&this.initData(t),window._ParameterValueArray.push(this),this.act=n,this.initMenu()},urule.ParameterValue.prototype.getDisplayContainer=function(){var e="参数.";this.keylabel?e+=this.keylabel+"."+this.parameterLabel:e+=this.parameterLabel;var t=$("<span>"+e+"</span>");if(this.arithmetic){var n=this.arithmetic.getDisplayContainer();n&&t.append(n)}return t},urule.ParameterValue.prototype.matchAct=function(e){return!this.act||!e||e.indexOf(this.act)>-1},urule.ParameterValue.prototype.registerClick=function(e){this.callback=e},urule.ParameterValue.prototype.initMenu=function(e){var t,n,i,r=window._uruleEditorParameterLibraries;(e&&(r=e),r)&&(t=this,n=function(e){var n={keyName:e.keyname,keyLabel:e.keylabel,variableName:e.name,variableLabel:e.label,datatype:e.datatype};t.setValue(n),t.callback&&(n.type="parameter",t.callback(n))},i={menuItems:[]},$.each(r,function(e,r){$.each(r||[],function(e,r){if(t.matchAct(r.act)){var o={name:r.name,label:r.label,datatype:r.type,act:r.act,onClick:n},a=t.buildVariableSubMenusByType(r,n);a&&a.length>0&&(o.subMenu={menuItems:a}),i.menuItems.push(o)}})}),t.menu?t.menu.setConfig(i):t.menu=new URule.menu.Menu(i),this.label.click(function(e){t.menu.show(e)}))},urule.ParameterValue.prototype.buildVariableSubMenusByType=function(e,t){var n=e.dataType;if("String"==n||"Integer"==n||"Char"==n||"Double"==n||"Long"==n||"Float"==n||"BigDecimal"==n||"Boolean"==n||"Date"==n||"List"==n||"Set"==n||"Map"==n||"Enum"==n||"Object"==n)return null;var i=window._uruleEditorVariableLibraries||[],r=[],o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=!1,d=!0,h=!1,p=void 0;try{for(var g,y=u[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var m=g.value;if(m.name===n){var b=m.variables||[],v=!0,A=!1,w=void 0;try{for(var M,I=b[Symbol.iterator]();!(v=(M=I.next()).done);v=!0){var x=M.value;r.push({keyname:e.name,keylabel:e.label,name:x.name,label:x.label,datatype:x.type,onClick:t})}}catch(e){A=!0,w=e}finally{try{!v&&I.return&&I.return()}finally{if(A)throw w}}f=!0;break}}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}if(f)break}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r},urule.ParameterValue.prototype.setValue=function(e){this.parameterName=e.variableName,this.parameterLabel=e.variableLabel,this.datatype=e.datatype,this.keyname=e.keyName,this.keylabel=e.keyLabel;var t="参数";this.keylabel?t+="."+this.keylabel+"."+this.parameterLabel:t+="."+this.parameterLabel,URule.setDomContent(this.label,t),window._setDirty()},urule.ParameterValue.prototype.initData=function(e){this.setValue(e),this.arithmetic&&this.arithmetic.initData(e.arithmetic)},urule.ParameterValue.prototype.toXml=function(){if(!this.parameterLabel||""==this.parameterLabel)throw"参数不能为空！";var e=' var-category="参数" var="'+this.parameterName+'" var-label="'+this.parameterLabel+'" datatype="'+this.datatype+'"';return this.keylabel&&(e+=' key-label="'+this.keylabel+'" key-name="'+this.keyname+'"'),e},urule.ParameterValue.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.MethodValue=function(e,t){this.arithmetic=e,this.container=$("<span>"),this.rightParn=$("<span style='color:blue'>]</span>"),this.label=generateContainer(),this.fetchLength=!1,this.uppercase=!1,this.lowercase=!1,this.fetchSize=!1,this.container.append(this.label),this.label.css({color:"blue"}),this.actionContainer=$("<span></span>"),this.container.append(this.actionContainer),URule.setDomContent(this.label,"请选择方法"),e&&this.container.append(e.getContainer()),t&&(this.setAction(t),e.initData(t.arithmetic)),window._ActionTypeArray.push(this),this.initMenu()},urule.MethodValue.prototype.initMenu=function(e){var t,n,i,r=window._uruleEditorActionLibraries;e&&(r=e),t=this,n=function(e){var n=e.parent.parent;t.setAction({beanLabel:n.label,beanId:n.name,methodLabel:e.label,methodName:e.name,parameters:e.parameters})},i={menuItems:[]},$.each(r||[],function(e,t){var r=t.springBeans||[];$.each(r,function(e,t){var r={name:t.id,label:t.name},o=t.methods||[];$.each(o,function(e,t){r.subMenu||(r.subMenu={menuItems:[]}),r.subMenu.menuItems.push({name:t.methodName,label:t.name,parameters:t.parameters,onClick:n})}),i.menuItems.push(r)})}),t.menu?t.menu.setConfig(i):t.menu=new URule.menu.Menu(i),this.label.click(function(e){t.menu.show(e)})},urule.MethodValue.prototype.setAction=function(e){window._setDirty(),this.action&&this.action.getContainer().remove(),this.action=new urule.MethodAction,URule.setDomContent(this.label,"["),this.actionContainer.append(this.action.getContainer()),this.actionContainer.append(this.rightParn),this.action.initData(e)},urule.MethodValue.prototype.getDisplayContainer=function(){var e="";this.action&&(this.action.name,e=this.action.methodLabel);var t=$("<span>"+e+"</span>");if(this.arithmetic){var n=this.arithmetic.getDisplayContainer();n&&t.append(n)}return t},urule.MethodValue.prototype.toXml=function(){if(!this.action.bean||""==this.action.name)throw"执行方法不能为空！";var e='bean-name="'+this.action.bean+'"';return e+=' bean-label="'+this.action.name+'"',e+=' method-name="'+this.action.method+'"',e+=' method-label="'+this.action.methodLabel+'"'},urule.MethodValue.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.FunctionProperty=function(){this.container=$("<span>"),this.label=generateContainer(),this.container.append(this.label),URule.setDomContent(this.label,"选择属性"),this.label.css({color:"#004C85"})},urule.FunctionProperty.prototype.toXml=function(){if(!this.variableName)throw"请选择函数属性";var e='property-name="'+this.variableName+'"';return e+=' property-label="'+this.variableLabel+'"'},urule.FunctionProperty.prototype.initMenu=function(e){if(e){var t=this,n=function(e){t.setProperty({name:e.name,label:e.label,datatype:e.type})},i={menuItems:[]};$.each(e,function(e,t){i.menuItems.push({name:t.name,label:t.label,datatype:t.type,onClick:n})}),this.menu=new URule.menu.Menu(i),this.label.click(function(e){t.menu.show(e)})}},urule.FunctionProperty.prototype.setProperty=function(e){window._setDirty(),this.variableName=e.name,this.variableLabel=e.label,URule.setDomContent(this.label,this.variableLabel)},urule.FunctionProperty.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.FunctionParameter=function(e,t){this.container=$("<span>"),this.nameContainer=$("<span>"),this.rule=e,this.functionName=t,this.container.append(this.nameContainer),this.nameContainer.css({color:"gray"})},urule.FunctionParameter.prototype.initData=function(e){if(e){this.name=e.name,URule.setDomContent(this.nameContainer,this.name+":"),(e.needProperty||e.property)&&(this.functionProperty=new urule.FunctionProperty,this.functionProperty.setProperty({name:e.property,label:e.propertyLabel})),this.inputType=new urule.InputType(null,null,this.functionProperty,this.rule,this.functionName);var t=e.objectParameter;if(t){var n=t.valueType;this.inputType.setValueType(n,t)}this.container.append(this.inputType.getContainer()),this.functionProperty&&(this.container.append($("<span>，</span>")),this.container.append($("<span style='color:gray'>属性:</span>")),this.container.append(this.functionProperty.getContainer()))}},urule.FunctionParameter.prototype.toXml=function(){if(!this.name)return"";var e="<function-parameter ";e+='name="'+this.name+'" ',this.functionProperty&&(e+=this.functionProperty.toXml()),e+=">";var t=this.inputType.toXml();if(!t)throw"函数参数值【"+this.name+"】不能为空";return e+=t,e+="</function-parameter>"},urule.FunctionParameter.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.FunctionValue=function(e,t,n){this.arithmetic=e,this.container=$("<span>"),this.rule=n,this.leftParn=$("<span style='color:blue'>(</span>"),this.rightParn=$("<span style='color:blue'>)</span>"),this.label=generateContainer(),this.container.append(this.label),this.label.css({color:"#008080"}),this.functionContainer=$("<span></span>"),this.container.append(this.functionContainer),URule.setDomContent(this.label,"请选择函数"),e&&this.container.append(e.getContainer()),t&&(this.setFunction(t),e&&e.initData(t.arithmetic)),window._FunctionValueArray.push(this),this.initMenu()},urule.FunctionValue.prototype.getDisplayContainer=function(){var e=$("<span>"+this.functionName+"</span>");if(this.arithmetic){var t=this.arithmetic.getDisplayContainer();t&&e.append(t)}return e},urule.FunctionValue.prototype.toXml=function(){if(!this.functionLabel||!this.functionName)throw"请选择函数";var e=' function-label="'+this.functionLabel+'"';return e+=' function-name="'+this.functionName+'"'},urule.FunctionValue.prototype.initMenu=function(e){var t,n,i,r=window._uruleEditorFunctionLibraries;e&&(r=e),t=this,n=function(e){t.setFunction({parameter:e.parameter,label:e.label,name:e.name})},i={menuItems:[]},$.each(r||[],function(e,t){i.menuItems.push({name:t.name,label:t.label,parameter:t.argument,onClick:n})}),t.menu?t.menu.setConfig(i):t.menu=new URule.menu.Menu(i),this.label.click(function(e){t.menu.show(e)})},urule.FunctionValue.prototype.initData=function(e){e&&this.setFunction(e)},urule.FunctionValue.prototype.setFunction=function(e){window._setDirty(),this.functionContainer.empty(),URule.setDomContent(this.label,e.label),this.functionContainer.append(this.leftParn),this.functionLabel=e.label,this.functionName=e.name,this.parameter=new urule.FunctionParameter(this.rule,e.name),this.parameter.initData(e.parameter),this.functionContainer.append(this.parameter.getContainer()),this.functionContainer.append(this.rightParn)},urule.FunctionValue.prototype.getFirstParameter=function(){return this.firstParameter},urule.FunctionValue.prototype.getParameter=function(){return this.parameter},urule.FunctionValue.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";var i,r=n(236),o=(i=r)&&i.__esModule?i:{default:i},a=n(4);urule.SimpleValue=function(e,t,n){this.container=$("<span>"),this.valueContainer=generateContainer(),this.valueContainer.css({color:"rgb(180,95,4)"}),this.editor=$('<input type=\'text\' class="form-control rule-text-editor" title="按Esc可取消编辑状态" style="height: 22px;">');var i=this;this.container.append(this.valueContainer).append(this.editor),this.editor.blur(function(){i.editor.hide();var e=i.editor.prop("value");""!=e&&URule.setDomContent(i.valueContainer,e),i.valueContainer.show(),$(this).trigger("DOMSubtreeModified"),window._setDirty()}).mousedown(function(e){e.stopPropagation()}).keydown(function(e){e.stopPropagation()}),(n&&"ActiveAgenda"===n||"ActivePended"===n)&&this.editor.dblclick(function(){(new o.default).show(function(e){i.editor.val(e),i.editor.hide(),URule.setDomContent(i.valueContainer,e),i.valueContainer.show(),$(this).trigger("DOMSubtreeModified")})}),i.editor.hide(),this.valueContainer.prop("innerText","请输入值"),this.valueContainer.click(function(){i.valueContainer.hide();var e=i.container.parent(),t=120;if(e&&e.parent()&&e.parent().parent()){var n=(e=e.parent().parent()).prop("class");n&&"htMiddle htDimmed current"==n&&(t=e.width()-20)}i.editor.css({width:t}),i.editor.css({display:"inline"}),i.editor.focus(),window._simple_value_input=i.editor,$(this).trigger("DOMSubtreeModified")}),this.arithmetic=e,this.container.append(e.getContainer()),this.initData(t)},urule.SimpleValue.prototype.getDisplayContainer=function(){var e=$("<span>"+this.editor.prop("value")+"</span>");if(this.arithmetic){var t=this.arithmetic.getDisplayContainer();t&&e.append(t)}return e},urule.SimpleValue.prototype.initData=function(e){if(e){var t=e.content;URule.setDomContent(this.valueContainer,t),this.editor.prop("value",t),this.arithmetic&&this.arithmetic.initData(e.arithmetic)}},urule.SimpleValue.prototype.getValue=function(){var e=this.editor.prop("value");return(0,a.escapeXml)(e)},urule.SimpleValue.prototype.getContainer=function(){return this.container}},,,function(e,t,n){"use strict";e.exports=n(96)},function(e,t,n){var i=n(229);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/**\r\n * ContextJS Styles\r\n * For use WITHOUT Twitters Bootstrap CSS\r\n */\r\n\r\n.nav-header {\r\n\tdisplay: block;\r\n\tpadding: 3px 15px;\r\n\tfont-size: 11px;\r\n\tfont-weight: bold;\r\n\tline-height: 20px;\r\n\tcolor: #999;\r\n\ttext-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\r\n\ttext-transform: uppercase;\r\n}\r\n.dropdown-menu {\r\n\tposition: absolute;\r\n\ttop: 100%;\r\n\tleft: 0;\r\n\tz-index: 1000;\r\n\tdisplay: none;\r\n\tfloat: left;\r\n\tmin-width: 160px;\r\n\tpadding: 5px 0;\r\n\tmargin: 2px 0 0;\r\n\tlist-style: none;\r\n\tbackground-color: #ffffff;\r\n\tborder: 1px solid #ccc;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.2);\r\n\tfont-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n\tfont-size: 14px;\r\n\t*border-right-width: 2px;\r\n\t*border-bottom-width: 2px;\r\n\t-webkit-border-radius: 6px;\r\n\t-moz-border-radius: 6px;\r\n\tborder-radius: 6px;\r\n\t-webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\r\n\t-moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\r\n\tbox-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\r\n\t-webkit-background-clip: padding-box;\r\n\t-moz-background-clip: padding;\r\n\tbackground-clip: padding-box;\r\n\ttext-align:left;\r\n}\r\n.dropdown-menu.pull-right {\r\n\tright: 0;\r\n\tleft: auto;\r\n}\r\n.dropdown-menu .divider {\r\n\t*width: 100%;\r\n\theight: 1px;\r\n\tmargin: 9px 1px;\r\n\t*margin: -5px 0 5px;\r\n\toverflow: hidden;\r\n\tbackground-color: #e5e5e5;\r\n\t*border-bottom: 1px solid #ffffff;\r\n}\r\n.dropdown-menu a {\r\n\tdisplay: block;\r\n\tpadding: 3px 20px;\r\n\tclear: both;\r\n\tfont-weight: normal;\r\n\tline-height: 20px;\r\n\tcolor: #333333;\r\n\twhite-space: nowrap;\r\n\ttext-decoration: none;\r\n}\r\n.dropdown-menu li > a:hover, .dropdown-menu li > a:focus, .dropdown-submenu:hover > a {\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n\tbackground-color: #0088cc;\r\n\tbackground-color: #0081c2;\r\n\tbackground-image: -moz-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0077b3));\r\n\tbackground-image: -webkit-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-image: -o-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-image: linear-gradient(to bottom, #0088cc, #0077b3);\r\n\tbackground-repeat: repeat-x;\r\n\tfilter: progid: dximagetransform.microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0077b3', GradientType=0);\r\n}\r\n.dropdown-menu .active > a, .dropdown-menu .active > a:hover {\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n\tbackground-color: #0088cc;\r\n\tbackground-color: #0081c2;\r\n\tbackground-image: linear-gradient(to bottom, #0088cc, #0077b3);\r\n\tbackground-image: -moz-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0077b3));\r\n\tbackground-image: -webkit-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-image: -o-linear-gradient(top, #0088cc, #0077b3);\r\n\tbackground-repeat: repeat-x;\r\n\toutline: 0;\r\n}\r\n.dropdown-menu .disabled > a, .dropdown-menu .disabled > a:hover {\r\n\tcolor: #999999;\r\n}\r\n.dropdown-menu .disabled > a:hover {\r\n\ttext-decoration: none;\r\n\tcursor: default;\r\n\tbackground-color: transparent;\r\n}\r\n.open {\r\n\t*z-index: 1000;\r\n}\r\n.open > .dropdown-menu {\r\n\tdisplay: block;\r\n}\r\n.pull-right > .dropdown-menu {\r\n\tright: 0;\r\n\tleft: auto;\r\n}\r\n.dropup .caret, .navbar-fixed-bottom .dropdown .caret {\r\n\tborder-top: 0;\r\n\tborder-bottom: 4px solid #000000;\r\n\tcontent: \"\\2191\";\r\n}\r\n.dropup .dropdown-menu, .navbar-fixed-bottom .dropdown .dropdown-menu {\r\n\ttop: auto;\r\n\tbottom: 100%;\r\n\tmargin-bottom: 1px;\r\n}\r\n.dropdown-submenu {\r\n\tposition: relative;\r\n}\r\n.dropdown-submenu > .dropdown-menu {\r\n\ttop: 0;\r\n\tleft: 100%;\r\n\tmargin-top: -6px;\r\n\tmargin-left: -1px;\r\n\t-webkit-border-radius: 0 6px 6px 6px;\r\n\t-moz-border-radius: 0 6px 6px 6px;\r\n\tborder-radius: 0 6px 6px 6px;\r\n}\r\n.dropdown-submenu > .dropdown-menu.drop-left{\r\n\tleft:-80%;\r\n}\r\n.dropdown-submenu:hover .dropdown-menu {\r\n\tdisplay: block;\r\n}\r\n.dropdown-submenu > a:after {\r\n\tdisplay: block;\r\n\tfloat: right;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tmargin-top: 5px;\r\n\tmargin-right: -10px;\r\n\tborder-color: transparent;\r\n\tborder-left-color: #cccccc;\r\n\tborder-style: solid;\r\n\tborder-width: 5px 0 5px 5px;\r\n\tcontent: \" \";\r\n}\r\n.dropdown-submenu:hover > a:after {\r\n\tborder-left-color: #ffffff;\r\n}\r\n.dropdown .dropdown-menu .nav-header {\r\n\tpadding-right: 20px;\r\n\tpadding-left: 20px;\r\n}\r\n/**\r\n * \tContext Styles\r\n */\r\n\r\n.dropdown-context .nav-header {\r\n\tcursor: default;\r\n}\r\n.dropdown-context:before, .dropdown-context-up:before {\r\n\tposition: absolute;\r\n\ttop: -7px;\r\n\tleft: 9px;\r\n\tdisplay: inline-block;\r\n\tborder-right: 7px solid transparent;\r\n\tborder-bottom: 7px solid #ccc;\r\n\tborder-left: 7px solid transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, 0.2);\r\n\tcontent: '';\r\n}\r\n.dropdown-context:after, .dropdown-context-up:after {\r\n\tposition: absolute;\r\n\ttop: -6px;\r\n\tleft: 10px;\r\n\tdisplay: inline-block;\r\n\tborder-right: 6px solid transparent;\r\n\tborder-bottom: 6px solid #ffffff;\r\n\tborder-left: 6px solid transparent;\r\n\tcontent: '';\r\n}\r\n.dropdown-context-up:before, .dropdown-context-up:after {\r\n\ttop: auto;\r\n\tbottom: -7px;\r\n\tz-index: 9999;\r\n}\r\n.dropdown-context-up:before {\r\n\tborder-right: 7px solid transparent;\r\n\tborder-top: 7px solid #ccc;\r\n\tborder-bottom: none;\r\n\tborder-left: 7px solid transparent;\r\n}\r\n.dropdown-context-up:after {\r\n\tborder-right: 6px solid transparent;\r\n\tborder-top: 6px solid #ffffff;\r\n\tborder-left: 6px solid transparent;\r\n\tborder-bottom: none;\r\n}\r\n.dropdown-context-sub:before, .dropdown-context-sub:after {\r\n\tdisplay: none;\r\n}\r\n.dropdown-context .dropdown-submenu:hover .dropdown-menu {\r\n\tdisplay: none;\r\n}\r\n.dropdown-context .dropdown-submenu:hover > .dropdown-menu {\r\n\tdisplay: none;\r\n}\r\n\r\n.compressed-context a{\r\n\tpadding-left: 14px;\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 0;\r\n\tfont-size: 13px;\r\n\t}\r\n.compressed-context .divider{\r\n\tmargin: 5px 1px;\r\n\t}\r\n.compressed-context .nav-header{\r\n\tpadding:1px 13px;\r\n\t}\r\n",""])},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".rule {\r\n    margin: 5px;\r\n    padding: 8px;\r\n    border: none;\r\n    background: #ffffff;\r\n    border-bottom: solid 1px #d2d2d2;\r\n    box-shadow: none;\r\n    border-radius: inherit;\r\n}\r\n\r\n.rule-delete {\r\n    color: #F44336;\r\n    vertical-align: text-top;\r\n    cursor: pointer;\r\n}\r\n\r\n.rule-text-editor {\r\n    width: 260px;\r\n    display: inline-block;\r\n    height: 26px;\r\n    padding: 3px 3px;\r\n}\r\n\r\n.rule-property {\r\n    padding-right: 10px;\r\n    padding-left: 10px;\r\n    line-height: 28px;\r\n    display: inline-block;\r\n    border: solid gray 1px;\r\n    margin-left: 5px;\r\n}\r\n\r\n.rule-add-property {\r\n    cursor: pointer;\r\n    padding-left: 10px;\r\n    line-height: 30px;\r\n    color: blue;\r\n}\r\n\r\n.rule-property-del {\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    color: #ff0600;\r\n}\r\n\r\n.rule-add-action {\r\n    color: blue;\r\n    cursor: pointer;\r\n    padding-left: 5px;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.rule-action {\r\n    padding: 1px;\r\n    line-height: 27px;\r\n}\r\n\r\n.rule-delete-action {\r\n    font-size: 10pt;\r\n    cursor: pointer;\r\n    color: #FF9800\r\n}\r\n\r\n.rule-join-node {\r\n    color: #795548;\r\n    font-size: 10pt;\r\n    vertical-align: text-top;\r\n    margin-left: 2px\r\n}\r\n\r\n.rule-join-container {\r\n    border: solid #999 1px;\r\n    padding: 1px;\r\n    background: #fff;\r\n}\r\n\r\n.rule-condition-delete{\r\n    color: #019dff;\r\n    cursor: pointer;\r\n    font-size: 9pt;\r\n    padding-left: 5px\r\n}\r\n\r\n.operation-container {\r\n    height: 20px;\r\n    cursor:pointer;\r\n    margin:0px;\r\n    color:white;\r\n    border:dashed transparent 1px;\r\n    padding: 1px;\r\n}",""])},function(e,t,n){"use strict";$,window.URule||(window.URule={}),URule.setDomContent=function(e,t){navigator.userAgent.indexOf("Firefox")>0?e.prop("textContent",t):e.prop("innerText",t)},URule.getDomContent=function(e){return navigator.userAgent.indexOf("Firefox")>0?e.prop("textContent"):e.prop("innerText")}},function(e,t,n){"use strict";urule.ComplexArithmetic=function(e){this.container=$("<span>"),this.operator="",this.rule=e,this.selectorLabel=generateContainer(),this.selectorLabel.css({fontWeight:"blod"}),this.container.append(this.selectorLabel),this.nextType=null;var t=this,n=function(e){t.setOperator(e.name)};t.menu=new URule.menu.Menu({menuItems:[{label:"+",name:"Add",onClick:n},{label:"-",name:"Sub",onClick:n},{label:"x",name:"Mul",onClick:n},{label:"÷",name:"Div",onClick:n},{label:"%",name:"Mod",onClick:n},{label:">",name:"Gt",onClick:n},{label:"<",name:"Lt",onClick:n},{label:"≥",name:"Gte",onClick:n},{label:"≤",name:"Lte",onClick:n},{label:"==",name:"Eq",onClick:n},{label:"≠",name:"NotEq",onClick:n},{label:"删除",onClick:function(){window._setDirty(),t.nextType&&(t.nextType.getContainer().remove(),t.nextType=null,URule.setDomContent(t.selectorLabel,""),t.selectorLabel.css({color:"#fff","padding-left":"0px","padding-right":"0px"}))}}]}),this.selectorLabel.click(function(e){t.menu.show(e)})},urule.ComplexArithmetic.prototype.setOperator=function(e){switch(window._setDirty(),this.operator=e,this.info="",e){case"Add":this.info="+";break;case"Sub":this.info="-";break;case"Mul":this.info="x";break;case"Div":this.info="÷";break;case"Mod":this.info="%";break;case"Gt":this.info=">";break;case"Gte":this.info="≥";break;case"Lt":this.info="<";break;case"Lte":this.info="≤";break;case"Eq":this.info="==";break;case"NotEq":this.info="≠"}URule.setDomContent(this.selectorLabel,this.info),this.selectorLabel.css({color:"green","padding-left":"4px","font-size":"14px"}),this.nextType||(this.nextType=new urule.NextType(this.rule),this.container.append(this.nextType.getContainer()))},urule.ComplexArithmetic.prototype.initData=function(e){if(e){var t=e.type;this.setOperator(t),this.nextType.initData(e)}},urule.ComplexArithmetic.prototype.getDisplayContainer=function(){if(this.nextType){var e=$("<span>"+this.info+"</span>");return e.append(this.nextType.getDisplayContainer()),e}return null},urule.ComplexArithmetic.prototype.toXml=function(){if(!this.nextType)return"";var e='<complex-arith type="'+this.operator+'">';return e+=this.nextType.toXml(),e+="</complex-arith>"},urule.ComplexArithmetic.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.VariableValue=function(e,t,n,i){this.arithmetic=e,this.container=$("<span>");this.label=generateContainer(),this.functionProperty=i,this.container.append(this.label),this.label.css({color:"darkcyan"}),URule.setDomContent(this.label,"请选择变量"),e&&this.container.append(e.getContainer()),t&&this.initData(t),window._VariableValueArray.push(this),this.act=n,this.initMenu()},urule.VariableValue.prototype.registerClick=function(e){this.callback=e},urule.VariableValue.prototype.getDisplayContainer=function(){var e=$("<span style='color: #607d8b'>"+this.category+window._variable_link+this.variableLabel+"</span>");if(this.arithmetic){var t=this.arithmetic.getDisplayContainer();t&&e.append(t)}return e},urule.VariableValue.prototype.matchAct=function(e){return!this.act||e.indexOf(this.act)>-1},urule.VariableValue.prototype.initMenu=function(e){var t=window._uruleEditorVariableLibraries;if(e&&(t=e),t){var n,i,r,o=void 0;n=this,i=function(e){var t={variableCategory:e.label,variables:e.variables};n.setValue(t),n.callback&&(t.type="variable",n.callback(t))},r=function(e){var t={variables:e.parent.parent.variables,variableCategory:e.parent.parent.label,variableLabel:e.label,variableName:e.name,datatype:e.datatype};n.setValue(t),n.callback&&(t.type="variable",n.callback(t))},o={menuItems:[]},$.each(t,function(e,t){$.each(t,function(e,t){var a=t.variables;n.functionProperty&&n.category&&t.name==n.category&&n.functionProperty.initMenu(a);var s={label:t.name,variables:a,onClick:i};$.each(a||[],function(e,t){if(s.subMenu||(s.subMenu={menuItems:[]}),n.matchAct(t.act)){var i={name:t.name,label:t.label,datatype:t.type,act:t.act,variables:a,onClick:r};s.subMenu.menuItems.push(i)}}),o.menuItems.push(s)})}),n.menu?n.menu.setConfig(o):n.menu=new URule.menu.Menu(o),this.label.click(function(e){n.menu.show(e)})}},urule.VariableValue.prototype.setValue=function(e){this.category=e.variableCategory,this.variableName=e.variableName,this.variableLabel=e.variableLabel,this.datatype=e.datatype,this.functionProperty&&this.functionProperty.initMenu(e.variables),this.variableLabel?URule.setDomContent(this.label,this.category+window._variable_link+this.variableLabel):URule.setDomContent(this.label,this.category),window._setDirty()},urule.VariableValue.prototype.initData=function(e){this.setValue(e),this.arithmetic&&this.arithmetic.initData(e.arithmetic)},urule.VariableValue.prototype.toXml=function(){if(!this.category||""==this.category)throw"变量不能为空！";var e='var-category="'+this.category+'"';return this.variableName&&(e+=' var="'+this.variableName+'" var-label="'+this.variableLabel+'" datatype="'+this.datatype+'"'),e},urule.VariableValue.prototype.getType=function(){return this.variableName?"Variable":"VariableCategory"},urule.VariableValue.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";var i=n(4);urule.ConstantValue=function(e,t){this.arithmetic=e,this.container=$("<span>"),this.label=generateContainer(),this.container.append(this.label),this.label.css({color:"#0174DF"}),this.label.prop("innerText","请选择常量"),e&&this.container.append(e.getContainer()),t&&(this.setValue(t),e.initData(t.arithmetic)),this.initMenu(),window._ConstantValueArray.push(this)},urule.ConstantValue.prototype.setValue=function(e){this.category=e.constantCategory,this.constantName=e.constantName,this.constantLabel=e.constantLabel,this.dataType=e.datatype,window._constant_link?URule.setDomContent(this.label,this.category+window._constant_link+this.constantLabel):URule.setDomContent(this.label,this.constantLabel),window._setDirty()},urule.ConstantValue.prototype.initMenu=function(e){var t,n,i,r=window._uruleEditorConstantLibraries;(e&&(r=e),r)&&(t=this,n=function(e){t.setValue({constantCategory:e.parent.parent.label,constantLabel:e.label,constantName:e.name,datatype:e.type})},i={menuItems:[]},$.each(r,function(e,t){var r=t.categories;$.each(r,function(e,t){var r={label:t.label},o=t.constants;$.each(o,function(e,t){r.subMenu||(r.subMenu={menuItems:[]}),r.subMenu.menuItems.push({name:t.name,label:t.label,type:t.type,onClick:n})}),i.menuItems.push(r)})}),t.menu?t.menu.setConfig(i):t.menu=new URule.menu.Menu(i),this.label.click(function(e){t.menu.show(e)}))},urule.ConstantValue.prototype.getDisplayContainer=function(){var e=$("<span>"+this.constantLabel+"</span>");if(window._constant_link&&(e=$("<span>"+this.category+window._constant_link+this.constantLabel+"</span>")),this.arithmetic){var t=this.arithmetic.getDisplayContainer();t&&e.append(t)}return e},urule.ConstantValue.prototype.toXml=function(){if(!this.category)throw"常量不能为空！";var e='const-category="'+this.category+'" const="'+(0,i.escapeXml)(this.constantName)+'" const-label="'+this.constantLabel+'"';return this.dataType&&(e+=' data-type="'+this.dataType+'"'),e},urule.ConstantValue.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(90),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rule=t.rule,this.arithmetic=t,this.container=$('<span><img src="'+a.default+'" style="height: 16px"></span>'),this.container.append(this.arithmetic.getContainer()),this.initData(n)}return r(e,[{key:"initData",value:function(e){e&&e.arithmetic&&this.arithmetic.initData(e.arithmetic)}},{key:"toXml",value:function(){return""}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=$('<div class="modal fade" style="overflow: auto" role="dialog" aria-hidden="true">\n            <div class="modal-dialog modal-lg">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            执行组选择\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var t=this.dialog.find(".modal-body"),n=this.dialog.find(".modal-footer");this.initBody(t,n)}return i(e,[{key:"initBody",value:function(e,t){var n=$("<div><h3>数据加载中，请稍后...</h3></div>");e.append(n);var i=$('<div style="margin: 5px"><label>执行组名：</label></div>');e.append(i);var o=$('<input type="text" class="form-control" style="width:300px;display: inline-block">');i.append(o);var a=$('<button type="button" class="btn btn-default" style="margin-left: 10px">查询</button>');i.append(a);var s=$('<div style="margin: 5px"></div>');e.append(s);var l=$('<table class="table table-bordered"><thead><tr style="background: #f1f1f1"><td style="width: 260px">执行组名</td><td>所在文件</td></tr></thead></table>');s.append(l);var c=$("<tbody></tbody>");l.append(c);var u=this,f=[];$.ajax({url:window._server+"/ruleseteditor/loadProjectPendedGroups",type:"POST",data:{project:window._project},success:function(e){n.hide();var t=function(t){var n=$('<tr title="双击选择当前执行组"><td class="gname">'+t+"</td><td>"+e[t]+"</td></tr>");c.append(n),f.push(n),n.dblclick(function(){u.callback(t),u.dialog.modal("hide")})};for(var i in e)t(i)},error:function(e){n.hide(),(0,r.handleError)(e)}}),a.click(function(){var e=o.val(),t=!0,n=!1,i=void 0;try{for(var r,a=f[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var s=r.value;if(e)s.find(".gname").html().indexOf(e)>-1?s.show():s.hide();else s.show()}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}})}},{key:"show",value:function(e){this.callback=e,this.currentGroupName=null,this.dialog.modal("show")}}]),e}();t.default=o},function(e,t,n){n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112)},function(e,t,n){var i;!function(){"use strict";var r=function(){var e,t,n=[],i=-1,r=0,o=!1;return t=function(e,t){return e&&"function"==typeof e[t]?(o=!0,e[t](),o=!1,this):this},{add:function(t){return o?this:(n.splice(i+1,n.length-i),n.push(t),r&&n.length>r&&(s=0,l=-(r+1),(a=n).splice(s,!l||1+l-s+(!(l<0^s>=0)&&(l<0||-1)*a.length)),a.length),i=n.length-1,e&&e(),this);var a,s,l},setCallback:function(t){e=t},undo:function(){var r=n[i];return r?(t(r,"undo"),i-=1,e&&e(),this):this},redo:function(){var r=n[i+1];return r?(t(r,"redo"),i+=1,e&&e(),this):this},clear:function(){var t=n.length;n=[],i=-1,e&&t>0&&e()},hasUndo:function(){return-1!==i},hasRedo:function(){return i<n.length-1},getCommands:function(){return n},getIndex:function(){return i},setLimit:function(e){r=e}}};void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){(function(i){var r;!function(o){"use strict";var a,s,l,c;o?function(){var e=o.crypto||o.msCrypto;if(!a&&e&&e.getRandomValues)try{var t=new Uint8Array(16);c=a=function(){return e.getRandomValues(t),t},a()}catch(e){}if(!a){var n=new Array(16);s=a=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=n(115).randomBytes;l=a=e&&function(){return e(16)},a()}catch(e){}}();for(var u="function"==typeof i?i:Array,f=[],d={},h=0;h<256;h++)f[h]=(h+256).toString(16).substr(1),d[f[h]]=h;function p(e,t){var n=t||0,i=f;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}var g=a(),y=[1|g[0],g[1],g[2],g[3],g[4],g[5]],m=16383&(g[6]<<8|g[7]),b=0,v=0;function A(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new u(16):null,e=null);var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;o++)t[i+o]=r[o];return t||p(r)}var w=A;w.v1=function(e,t,n){var i=t&&n||0,r=t||[],o=null!=(e=e||{}).clockseq?e.clockseq:m,a=null!=e.msecs?e.msecs:(new Date).getTime(),s=null!=e.nsecs?e.nsecs:v+1,l=a-b+(s-v)/1e4;if(l<0&&null==e.clockseq&&(o=o+1&16383),(l<0||a>b)&&null==e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,v=s,m=o;var c=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;r[i++]=c>>>24&255,r[i++]=c>>>16&255,r[i++]=c>>>8&255,r[i++]=255&c;var u=a/4294967296*1e4&268435455;r[i++]=u>>>8&255,r[i++]=255&u,r[i++]=u>>>24&15|16,r[i++]=u>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var f=e.node||y,d=0;d<6;d++)r[i+d]=f[d];return t||p(r)},w.v4=A,w.parse=function(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){r<16&&(t[i+r++]=d[e])});r<16;)t[i+r++]=0;return t},w.unparse=p,w.BufferClass=u,w._rng=a,w._mathRNG=s,w._nodeRNG=l,w._whatwgRNG=c,e.exports?e.exports=w:void 0===(r=function(){return w}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:null)}).call(this,n(3).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushDialog=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(197);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(r);t.PushDialog=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true" data-backdrop="static">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            推送知识包【'+n+'】到客户端\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var r=this.dialog.find(".modal-body"),o=this.dialog.find(".modal-footer");this.initBody(r,o,t,n,i)}return i(e,[{key:"initBody",value:function(e,t,n,i,o){var a=$('<table class="table table-bordered"></table>');e.append(a);var s=$('<thead><tr style="background: #fdfdfd">\n            <td style="width: 200px">客户端名称</td>\n            <td>URL</td>\n            <td style="width: 50px">操作</td>\n        </tr></thead>');a.append(s);var l=$("<tbody></tbody>");a.append(l);var c=$('<button class="btn btn-default">推送到所有客户端</button>');t.append(c),c.click(function(){0!==window._clientSize?(0,r.pushToClients)(n,i,null,o):bootbox.alert("当前未定义任何客户端，不能进行此操作！")}),(0,r.loadClients)(n,function(e){window._clientSize=e.length;var t=function(e){var t=$("<tr><td>"+e.name+"</td><td>"+e.client+"</td></tr>"),a=$("<td></td>"),s=$('<button class="btn btn-link" title="将知识包推送到当前客户端"><i class="glyphicon glyphicon-send"></i></button>');a.append(s),s.click(function(){(0,r.pushToClients)(n,i,e.client,o)}),t.append(a),l.append(t)},a=!0,s=!1,c=void 0;try{for(var u,f=e[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){t(u.value)}}catch(e){s=!0,c=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw c}}})}},{key:"show",value:function(){this.dialog.modal("show")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(203),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.output=t,this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            添加字段\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var n=this.dialog.find(".modal-body"),i=this.dialog.find(".modal-footer");this.initBody(n,i)}return r(e,[{key:"initBody",value:function(e,t){var n=this,i=$('<div class="form-group"><label>请选择字段：</label></div>');e.append(i),this.fieldSelect=$('<select class="form-control"></select>'),i.append(this.fieldSelect),this.fieldSelect.change(function(){var e=$(this).val();n.field=e?n.findVariable(e):null});var r=$('<button type="button" class="btn btn-default">确定</button>');t.append(r),r.click(function(){if(n.field){var e=new a.default(n.field,n.output);n.callback(e),n.dialog.modal("hide")}else bootbox.alert("请先选择变量!")})}},{key:"findVariable",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.variables[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name===e){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}},{key:"initData",value:function(e){this.fieldSelect.append("<option></option>");var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.fieldSelect.append('<option value="'+a.name+'">'+a.label+"</option>")}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"show",value:function(e,t){this.variables=e,this.callback=t,this.initData(e),this.dialog.modal("show")}}]),e}();t.default=s},,function(e,t,n){"use strict";urule.ComparisonOperator=function(e,t){this.parentJoin=t,this.inputType=null,this.operator="",this.container=generateContainer(),URule.setDomContent(this.container,"请选择比较操作符"),this.container.css({"font-size":"12px",color:"red",fontWeight:"bold","margin-right":"1px"});var n=this,i=function(e){n.setOperator(e.name)};n.menu=new URule.menu.Menu({onHide:function(){e()},menuItems:[{label:"大于",name:"GreaterThen",onClick:i},{label:"大于或等于",name:"GreaterThenEquals",onClick:i},{label:"小于",name:"LessThen",onClick:i},{label:"小于或等于",name:"LessThenEquals",onClick:i},{label:"等于",name:"Equals",onClick:i},{label:"等于(不分大小写)",name:"EqualsIgnoreCase",onClick:i},{label:"开始于",name:"StartWith",onClick:i},{label:"不开始于",name:"NotStartWith",onClick:i},{label:"结束于",name:"EndWith",onClick:i},{label:"不结束于",name:"NotEndWith",onClick:i},{label:"不等于",name:"NotEquals",onClick:i},{label:"不等于(不分大小写)",name:"NotEqualsIgnoreCase",onClick:i},{label:"在集合",name:"In",onClick:i},{label:"不在集合",name:"NotIn",onClick:i},{label:"为空",name:"Null",onClick:i},{label:"不为空",name:"NotNull",onClick:i},{label:"匹配正则表达式",name:"Match",onClick:i},{label:"不匹配正则表达式",name:"NotMatch",onClick:i},{label:"包含",name:"Contain",onClick:i},{label:"不包含",name:"NotContain",onClick:i}]}),this.container.click(function(e){n.menu.show(e)})},urule.ComparisonOperator.prototype.initRightValue=function(e){this.inputType&&e&&this.inputType.setValueType(e.valueType,e)},urule.ComparisonOperator.prototype.setOperator=function(e){switch(e){case"GreaterThen":this.operator="GreaterThen",URule.setDomContent(this.container,"大于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"GreaterThenEquals":this.operator="GreaterThenEquals",URule.setDomContent(this.container,"大于或等于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"LessThen":this.operator="LessThen",URule.setDomContent(this.container,"小于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"LessThenEquals":this.operator="LessThenEquals",URule.setDomContent(this.container,"小于或等于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"StartWith":this.operator="StartWith",URule.setDomContent(this.container,"开始于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"Equals":this.operator="Equals",URule.setDomContent(this.container,"等于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"EqualsIgnoreCase":this.operator="EqualsIgnoreCase",URule.setDomContent(this.container,"等于(不分大小写)"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotStartWith":this.operator="NotStartWith",URule.setDomContent(this.container,"不开始于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"EndWith":this.operator="EndWith",URule.setDomContent(this.container,"结束于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotEndWith":this.operator="NotEndWith",URule.setDomContent(this.container,"不结束于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotEquals":this.operator="NotEquals",URule.setDomContent(this.container,"不等于"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotEqualsIgnoreCase":this.operator="NotEqualsIgnoreCase",URule.setDomContent(this.container,"不等于(不分大小写)"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"In":this.operator="In",URule.setDomContent(this.container,"在集合"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType("之中");break;case"NotIn":this.operator="NotIn",URule.setDomContent(this.container,"不在集合"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType("之中");break;case"Null":this.operator="Null",URule.setDomContent(this.container,"为空"),this.inputType&&(this.inputType.getContainer().remove(),this.inputType=null);break;case"NotNull":this.operator="NotNull",URule.setDomContent(this.container,"不为空"),this.inputType&&(this.inputType.getContainer().remove(),this.inputType=null);break;case"Match":this.operator="Match",URule.setDomContent(this.container,"匹配正则表达式"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotMatch":this.operator="NotMatch",URule.setDomContent(this.container,"不匹配正则表达式"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"Contain":this.operator="Contain",URule.setDomContent(this.container,"包含"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType;break;case"NotContain":this.operator="NotContain",URule.setDomContent(this.container,"不包含"),this.inputType&&this.inputType.getContainer().remove(),this.inputType=new urule.InputType}window._setDirty()},urule.ComparisonOperator.prototype.getOperator=function(){if(""==this.operator)throw"请选择比较操作符！";return this.operator},urule.ComparisonOperator.prototype.getInputType=function(){return this.inputType},urule.ComparisonOperator.prototype.getContainer=function(){return this.container}},,,,,function(e,t,n){"use strict";urule.SimpleArithmetic=function(){this.container=$("<span>"),this.selectorLabel=generateContainer(),URule.setDomContent(this.selectorLabel,"."),this.selectorLabel.css({color:"#FFF"}),this.operator="",this.container.append(this.selectorLabel),this.value=null;var e=this,t=function(t){e.setOperator(t.name)};e.menu=new URule.menu.Menu({menuItems:[{label:"+",name:"Add",onClick:t},{label:"-",name:"Sub",onClick:t},{label:"x",name:"Mul",onClick:t},{label:"÷",name:"Div",onClick:t},{label:"%",name:"Mod",onClick:t},{label:"删除",onClick:function(){e.value&&(e.value.getContainer().remove(),e.operator=null,e.value=null,URule.setDomContent(e.selectorLabel,"."),e.selectorLabel.css({color:"#FFF","padding-left":"0px","padding-right":"0px"}))}}]}),this.selectorLabel.click(function(t){e.menu.show(t)})},urule.SimpleArithmetic.prototype.initData=function(e){if(e){var t=e.type;this.setOperator(t),this.value.initData(e.value)}},urule.SimpleArithmetic.prototype.setOperator=function(e){window._setDirty(),this.operator=e;var t="";switch(e){case"Add":t="+";break;case"Sub":t="-";break;case"Mul":t="x";break;case"Div":t="÷";break;case"Mod":t="%"}this.selectorLabel.css({color:"green",fontWeight:"blod","padding-left":"5px","padding-right":"5px"}),URule.setDomContent(this.selectorLabel,t),this.value||(this.simpleArithmetic=new urule.SimpleArithmetic,this.value=new urule.SimpleValue(this.simpleArithmetic),this.container.append(this.value.getContainer()))},urule.SimpleArithmetic.prototype.toXml=function(){if(!this.operator||""==this.operator)return"";if(!this.value)throw"请输入具体值！";var e=this.value.getValue();if(""==e)throw"请输入具体值！";var t='<simple-arith type="'+this.operator+'" value="'+e+'">';return t+=this.simpleArithmetic.toXml(),t+="</simple-arith>"},urule.SimpleArithmetic.prototype.getContainer=function(){return this.container}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIuOTgwMzkyIiB3aWR0aD0iMi45ODAzOTIiIHk9Ii0xIiB4PSItMSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8cGF0aCBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSIgZmlsbD0iIzAwMDAwMCIgZD0ibTEwLjcxNzA2NywxMC40ODMzNTJsLTYuNTM2MDI2LC05LjEzODU2NWw5LjY5NzI0NCwwYzEuOTY1MDgsMCAzLjYzMTEyMywxLjIxMTQ1MyA1LjAxMjM3NywzLjYzNDM1OGwwLjMyNzUxMiwwbC0wLjY5Nzc0NSwtNC44MDYzMDlsLTE3Ljg1NjU5MSwwbDcuODE3NTk4LDEwLjMyMzY5MWwtNy44MTc1OTgsOS4yOTY1ODJsMTcuODU2NTkxLDBsMC42OTc3NDUsLTQuODE5NDcybC0wLjMyNzUxMiwwYy0xLjMxMDA1NywxLjk0ODg1MiAtMi44MDUyMzEsMi45MjMyODQgLTQuNDcxMjc1LDIuOTIzMjg0bC0xMC4yNTI1ODQsMGw2LjU1MDI2NCwtNy40MTM1N2wwLDAuMDAwMDAxeiIvPg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTgzNzMzNjUxMTkyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijg4NSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik03MjAuODYxMDUyMyAyNzguMTI5ODgzMjhjMCA4LjY5NDQxMjA3LTAuNTEyMTc1MzMgMjEuMjI1NDI1OTQtMS41MzQ5NTQ5MiAzNy41ODk4OTk0MS0zLjA2ODMzODc4IDExMS40OTA4MzA5OC00LjYwMzI5MzcyIDE4OS45OTE5MTQwOC00LjYwMzI5MzcyIDIzNS41MDk1MzM2M3Y2Mi45MDY0NDM3NGMwIDg2LjQzMDM3NDM1IDQuMzQ3MjA2MDMgMTQxLjAyNDE4MDg2IDEzLjA0MTYxODExIDE2My43ODE0MTk1NSA4LjY5NDQxMjA3IDIyLjc1ODgwOTc5IDI0LjgwNDM2ODk2IDM0LjEzODIxNDY4IDQ4LjMyOTg3MDY5IDM0LjEzODIxNDY4IDI5LjE1MTU3NTAxIDAgNTEuMDEzMjkyNDItMTQuODMxMDg5NjMgNjUuNTg5ODY1NDQtNDQuNDkzMjY4OSAxNC41NzUwMDE5Ni0yOS42NjIxNzkyNiAyMy4xNDIxNTU3NS03Ni40NTg2NjYwOSAyNS42OTgzMTkxOS0xNDAuMzg2MzE4MzJoMzkuMTI0ODU0MzV2Ny42NzE2MzI0OWMwIDgzLjg3NDIxMDkxLTEzLjQyNDk2NDA3IDE0NS42Mjc0NzQ1Ny00MC4yNzQ4OTIyNCAxODUuMjYyOTMzMTctMjYuODQ5OTI4MTUgMzkuNjM1NDU4Ni02OC45MTQyOTE5IDU5LjQ1MzE4NzktMTI2LjE5MzA5MTIzIDU5LjQ1MzE4NzktNTkuODM4MTA0OTUgMC0xMDEuNzczNjM5MzItMjAuNTg0NDIxMjMtMTI1LjgwOTc0NTI3LTYxLjc1NDgzNDc2LTI0LjAzNzY3NzA1LTQxLjE3MDQxMzU0LTM2LjA1NjUxNTU3LTEyNy4yMTU4NzA4My0zNi4wNTY1MTU1Ni0yNTguMTQxMDg1MTMgMC0xNS44NTIyOTgxMyAwLjc2ODI2MzAyLTU2Ljg5NTQ1MzM4IDIuMzAxNjQ2ODQtMTIzLjEyNDc1MjQ1IDEuNTM0OTU0OTMtNjYuMjI5Mjk5MDcgMi44MTIyNTExLTEyMC41NjcwMTc5MyAzLjgzNjYwMTgxLTE2My4wMTYyOTg3Mi0xOC45MjM3NzkwOC0xLjAyMTIwODUtNDUuMDA1NDQ0MjMtMS45MTY3Mjk4LTc4LjI0ODEzNzYzLTIuNjg0OTkyODItMzMuMjQ0MjY0NDctMC43NjY2OTE5LTczLjY0NDg0Mzg5LTEuNDA2MTI1NTUtMTIxLjIwODAyMjYyLTEuOTE2NzI5ODIgMCAyNDIuNDE0NDc0MjItMTEuODkwMDA5MTMgNDA0Ljc5MTMzOTMyLTM1LjY3MTU5ODU0IDQ4Ny4xMjkwMjQyLTIzLjc4MDAxODMgODIuMzQwODI3MDctNjUuODQ0MzgyMDQgMTIzLjUwOTY2OTUtMTI2LjE5MzA5MTIzIDEyMy41MDk2Njk1LTM2LjgyMzIwNzQ4IDAtNjQuMzEwOTk4MTgtMTQuOTU5OTE5LTgyLjQ2NjUxNDI3LTQ0Ljg3ODE4NTk0LTE4LjE1NTUxNjA3LTI5LjkxODI2NjkyLTI3LjIzMzI3NDEyLTc1LjA1MDk2OTQ1LTI3LjIzMzI3NDExLTEzNS4zOTgxMDc1NXYtMjkuOTE4MjY2OTRoMzcuNTg5ODk5NDFjMS4wMjEyMDg1IDI4LjYzOTM5OTY2IDYuMTM2Njc3NTYgNDkuNDc5OTA4NTQgMTUuMzQxNjkzODkgNjIuNTE5OTU1NTcgOS4yMDY1ODc0MSAxMy4wNDE2MTgxMSAyMy41MjU1MDE3MyAxOS41NjMyMTI3MyA0Mi45NTk4ODUwNSAxOS41NjMyMTI3NCA0Mi45NTk4ODUwNSAwIDczLjM4ODc1NjItMzIuNjAzMjU5NzUgOTEuMjg4MTg0NjItOTcuODA5Nzc5MjMgMTcuOTAwOTk5NS02NS4yMDY1MTk1IDI4LjEyODc5NTQyLTE5My40NDUxNjk4OSAzMC42ODY1Mjk5NC0zODQuNzE3NTIyMzVoLTM0LjUyMTU2MDY1Yy0zOS4zNzkzNzA5MyAwLTcwLjU3NjUwNTEyIDYuOTAzMzY5NDYtOTMuNTg5ODMxNDYgMjAuNzExNjc5NTMtMjMuMDE0ODk3NDcgMTMuODA5ODgxMTMtMzcuMzMzODExNzQgMzQuNTIxNTYwNjMtNDIuOTU5ODg1MDcgNjIuMTM4MTgwNzFoLTM2LjA1NjUxNTU1YzMuNTgyMDg1MTktNzEuNTk5Mjg0NzEgMjMuNTI3MDcyNzktMTIxLjcxODYyNjg5IDU5LjgzODEwNDk1LTE1MC4zNTgwMjY1NyAzNi4zMTEwMzIxNS0yOC42NDA5NzA3NSA5OS43MjY1MDkwNS00Mi45NTk4ODUwNSAxOTAuMjQ4MDAxNzUtNDIuOTU5ODg1MDUgMTcuOTAwOTk5NSAwIDcxLjIxNTkzODc0IDEuNjYyMjEzMjMgMTU5Ljk0Nzk1OTkzIDQuOTg2NjM5NjggODguNzMyMDIxMTkgMy4zMjQ0MjY0NSAxNjguMzg2Mjg0MzYgNC45ODY2Mzk2OCAyMzguOTYyNzg5NDcgNC45ODY2Mzk2NiAzNC43NzYwNzcyMiAwIDYwLjczMDQ4NDA3LTMuNzA3NzcyMzkgNzcuODYzMjIwNTctMTEuMTIzMzE3MjMgMTcuMTMyNzM2NDgtNy40MTU1NDQ4MSAyNS42OTk4OTAyOC0xOC41Mzg4NjIwNSAyNS42OTk4OTAyNi0zMy4zNjk5NTE2NnYtMS41MzQ5NTQ5MmgzNi4wNTQ5NDQ0OXY0LjYwMzI5MzdjMCA1My42OTk4NTYzMi0xMi4xNDYwOTY4MiA5Mi41NjcwNTE5LTM2LjQzODI5MDQ0IDExNi42MDMxNTc4Ni0yNC4yOTM3NjQ3MyAyNC4wMzc2NzcwNS02My4yODgyMTg1OSAzNi4wNTY1MTU1Ny0xMTYuOTg4MDc0OTEgMzYuMDU2NTE1NTYtOS43MTcxOTE2NiAwLTE3LjI2MTU2NTg4LTAuMTI4ODI5MzktMjIuNjMxNTUxNDktMC4zODMzNDU5N2EzMDIuODM1NDUzNTQgMzAyLjgzNTQ1MzU0IDAgMCAxLTE1LjcyNjYxMDkzLTEuMTUxNjA4OTV6IiBmaWxsPSIjMzMzMzMzIiBwLWlkPSI4ODYiPjwvcGF0aD48cGF0aCBkPSJNMTMxLjk2NzgxNTM2LTI2LjM3MDkyNTY5YzguODQwNTIzNDUgMC44MDc1NDAyNiAxMy4yNjc4NTUwNy0xLjE3ODMxNzQ5IDEyLjk4NTA1ODg3LTYuMDQ3MTI1NDItMC4zNjQ0OTI5LTYuMjQ4MjI0OTQtMi40NjY2MTEzMi03LjEzMTE3NzUzLTEyLjc0OTM5NTM4LTcuMTI5NjA2NDNIMTMyLjAwMjM3OTM0YTAuMzkyNzcyNSAwLjM5Mjc3MjUgMCAwIDAgMCAwLjc4NTU0NWgwLjIwMTA5OTUxYzkuOTEwNDM1NzIgMCAxMS42MzM5MjE0NyAwLjcyMjcwMTQxIDExLjk2Mzg1MDM3IDYuMzg5NjIzMDUgMC4yNDY2NjExMyA0LjIxOTk0NzczLTMuNjk4MzQ1ODcgNS45ODg5OTUwOS0xMi4xMjg4MTQ4MiA1LjIxOTE2MWEwLjM5Mjc3MjUgMC4zOTI3NzI1IDAgMSAwLTAuMDcwNjk5MDQgMC43ODI0MDI4ek0xMzAuNDMxMjg5MzEtMjEuNDgxNjkzNTloMTQuOTYxNDkwMTJhMC4zOTI3NzI1IDAuMzkyNzcyNSAwIDAgMCAwLTAuNzg1NTQ0OTlIMTMwLjQzMTI4OTMxYTAuMzkyNzcyNSAwLjM5Mjc3MjUgMCAwIDAgMCAwLjc4NTU0NDk5eiIgZmlsbD0iIzY2NjY2NiIgcC1pZD0iODg3Ij48L3BhdGg+PHBhdGggZD0iTTcyMC44NjEwNTIzIDI3OC4xMjk4ODMyOGMwIDguNjk0NDEyMDctMC41MTIxNzUzMyAyMS4yMjU0MjU5NC0xLjUzNDk1NDkyIDM3LjU4OTg5OTQxLTMuMDY4MzM4NzggMTExLjQ5MDgzMDk4LTQuNjAzMjkzNzIgMTg5Ljk5MTkxNDA4LTQuNjAzMjkzNzIgMjM1LjUwOTUzMzYzdjYyLjkwNjQ0Mzc0YzAgODYuNDMwMzc0MzUgNC4zNDcyMDYwMyAxNDEuMDI0MTgwODYgMTMuMDQxNjE4MTEgMTYzLjc4MTQxOTU1IDguNjk0NDEyMDcgMjIuNzU4ODA5NzkgMjQuODA0MzY4OTYgMzQuMTM4MjE0NjggNDguMzI5ODcwNjkgMzQuMTM4MjE0NjggMjkuMTUxNTc1MDEgMCA1MS4wMTMyOTI0Mi0xNC44MzEwODk2MyA2NS41ODk4NjU0NC00NC40OTMyNjg5IDE0LjU3NTAwMTk2LTI5LjY2MjE3OTI2IDIzLjE0MjE1NTc1LTc2LjQ1ODY2NjA5IDI1LjY5ODMxOTE5LTE0MC4zODYzMTgzMmgzOS4xMjQ4NTQzNXY3LjY3MTYzMjQ5YzAgODMuODc0MjEwOTEtMTMuNDI0OTY0MDcgMTQ1LjYyNzQ3NDU3LTQwLjI3NDg5MjI0IDE4NS4yNjI5MzMxNy0yNi44NDk5MjgxNSAzOS42MzU0NTg2LTY4LjkxNDI5MTkgNTkuNDUzMTg3OS0xMjYuMTkzMDkxMjMgNTkuNDUzMTg3OS01OS44MzgxMDQ5NSAwLTEwMS43NzM2MzkzMi0yMC41ODQ0MjEyMy0xMjUuODA5NzQ1MjctNjEuNzU0ODM0NzYtMjQuMDM3Njc3MDUtNDEuMTcwNDEzNTQtMzYuMDU2NTE1NTctMTI3LjIxNTg3MDgzLTM2LjA1NjUxNTU2LTI1OC4xNDEwODUxMyAwLTE1Ljg1MjI5ODEzIDAuNzY4MjYzMDItNTYuODk1NDUzMzggMi4zMDE2NDY4NC0xMjMuMTI0NzUyNDUgMS41MzQ5NTQ5My02Ni4yMjkyOTkwNyAyLjgxMjI1MTEtMTIwLjU2NzAxNzkzIDMuODM2NjAxODEtMTYzLjAxNjI5ODcyLTE4LjkyMzc3OTA4LTEuMDIxMjA4NS00NS4wMDU0NDQyMy0xLjkxNjcyOTgtNzguMjQ4MTM3NjMtMi42ODQ5OTI4Mi0zMy4yNDQyNjQ0Ny0wLjc2NjY5MTktNzMuNjQ0ODQzODktMS40MDYxMjU1NS0xMjEuMjA4MDIyNjItMS45MTY3Mjk4MiAwIDI0Mi40MTQ0NzQyMi0xMS44OTAwMDkxMyA0MDQuNzkxMzM5MzItMzUuNjcxNTk4NTQgNDg3LjEyOTAyNDItMjMuNzgwMDE4MyA4Mi4zNDA4MjcwNy02NS44NDQzODIwNCAxMjMuNTA5NjY5NS0xMjYuMTkzMDkxMjMgMTIzLjUwOTY2OTUtMzYuODIzMjA3NDggMC02NC4zMTA5OTgxOC0xNC45NTk5MTktODIuNDY2NTE0MjctNDQuODc4MTg1OTQtMTguMTU1NTE2MDctMjkuOTE4MjY2OTItMjcuMjMzMjc0MTItNzUuMDUwOTY5NDUtMjcuMjMzMjc0MTEtMTM1LjM5ODEwNzU1di0yOS45MTgyNjY5NGgzNy41ODk4OTk0MWMxLjAyMTIwODUgMjguNjM5Mzk5NjYgNi4xMzY2Nzc1NiA0OS40Nzk5MDg1NCAxNS4zNDE2OTM4OSA2Mi41MTk5NTU1NyA5LjIwNjU4NzQxIDEzLjA0MTYxODExIDIzLjUyNTUwMTczIDE5LjU2MzIxMjczIDQyLjk1OTg4NTA1IDE5LjU2MzIxMjc0IDQyLjk1OTg4NTA1IDAgNzMuMzg4NzU2Mi0zMi42MDMyNTk3NSA5MS4yODgxODQ2Mi05Ny44MDk3NzkyMyAxNy45MDA5OTk1LTY1LjIwNjUxOTUgMjguMTI4Nzk1NDItMTkzLjQ0NTE2OTg5IDMwLjY4NjUyOTk0LTM4NC43MTc1MjIzNWgtMzQuNTIxNTYwNjVjLTM5LjM3OTM3MDkzIDAtNzAuNTc2NTA1MTIgNi45MDMzNjk0Ni05My41ODk4MzE0NiAyMC43MTE2Nzk1My0yMy4wMTQ4OTc0NyAxMy44MDk4ODExMy0zNy4zMzM4MTE3NCAzNC41MjE1NjA2My00Mi45NTk4ODUwNyA2Mi4xMzgxODA3MWgtMzYuMDU2NTE1NTVjMy41ODIwODUxOS03MS41OTkyODQ3MSAyMy41MjcwNzI3OS0xMjEuNzE4NjI2ODkgNTkuODM4MTA0OTUtMTUwLjM1ODAyNjU3IDM2LjMxMTAzMjE1LTI4LjY0MDk3MDc1IDk5LjcyNjUwOTA1LTQyLjk1OTg4NTA1IDE5MC4yNDgwMDE3NS00Mi45NTk4ODUwNSAxNy45MDA5OTk1IDAgNzEuMjE1OTM4NzQgMS42NjIyMTMyMyAxNTkuOTQ3OTU5OTMgNC45ODY2Mzk2OCA4OC43MzIwMjExOSAzLjMyNDQyNjQ1IDE2OC4zODYyODQzNiA0Ljk4NjYzOTY4IDIzOC45NjI3ODk0NyA0Ljk4NjYzOTY2IDM0Ljc3NjA3NzIyIDAgNjAuNzMwNDg0MDctMy43MDc3NzIzOSA3Ny44NjMyMjA1Ny0xMS4xMjMzMTcyMyAxNy4xMzI3MzY0OC03LjQxNTU0NDgxIDI1LjY5OTg5MDI4LTE4LjUzODg2MjA1IDI1LjY5OTg5MDI2LTMzLjM2OTk1MTY2di0xLjUzNDk1NDkyaDM2LjA1NDk0NDQ5djQuNjAzMjkzN2MwIDUzLjY5OTg1NjMyLTEyLjE0NjA5NjgyIDkyLjU2NzA1MTktMzYuNDM4MjkwNDQgMTE2LjYwMzE1Nzg2LTI0LjI5Mzc2NDczIDI0LjAzNzY3NzA1LTYzLjI4ODIxODU5IDM2LjA1NjUxNTU3LTExNi45ODgwNzQ5MSAzNi4wNTY1MTU1Ni05LjcxNzE5MTY2IDAtMTcuMjYxNTY1ODgtMC4xMjg4MjkzOS0yMi42MzE1NTE0OS0wLjM4MzM0NTk3YTMwMi44MzU0NTM1NCAzMDIuODM1NDUzNTQgMCAwIDEtMTUuNzI2NjEwOTMtMS4xNTE2MDg5NXoiIGZpbGw9IiMzMzMzMzMiIHAtaWQ9Ijg4OCI+PC9wYXRoPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIyIiB3aWR0aD0iMjIiIHk9Ii0xIiB4PSItMSIvPg0KICA8ZyBkaXNwbGF5PSJub25lIiBvdmVyZmxvdz0idmlzaWJsZSIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIgaWQ9ImNhbnZhc0dyaWQiPg0KICAgPHJlY3QgZmlsbD0idXJsKCNncmlkcGF0dGVybikiIHN0cm9rZS13aWR0aD0iMCIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIvPg0KICA8L2c+DQogPC9nPg0KIDxnPg0KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+DQogIDx0ZXh0IGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9ImJvbGQiIHN0cm9rZT0iIzAwMCIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NzI4MTczMzcxNDczNTMyLDAsMCwxLjE0MzAwNDk5NDU3MTA3MjMsMi4wODgxNzU3ODc5NDYxMjYyLC0xLjQxMDMyOTg1MjkyOTk4NTMpICIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBmb250LWZhbWlseT0iSnVuY3Rpb24sIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGlkPSJzdmdfMSIgeT0iMTMuODU1Mjg2IiB4PSItMS40ODEzNzEiIHN0cm9rZS13aWR0aD0iMCIgZmlsbD0iIzAwMDAwMCI+bG9nPC90ZXh0Pg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIyIiB3aWR0aD0iMjIiIHk9Ii0xIiB4PSItMSIvPg0KICA8ZyBkaXNwbGF5PSJub25lIiBvdmVyZmxvdz0idmlzaWJsZSIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIgaWQ9ImNhbnZhc0dyaWQiPg0KICAgPHJlY3QgZmlsbD0idXJsKCNncmlkcGF0dGVybikiIHN0cm9rZS13aWR0aD0iMCIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIvPg0KICA8L2c+DQogPC9nPg0KIDxnPg0KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+DQogIDx0ZXh0IGZvbnQtc3R5bGU9Im5vcm1hbCIgZm9udC13ZWlnaHQ9ImJvbGQiIHN0cm9rZT0iIzAwMCIgdHJhbnNmb3JtPSJtYXRyaXgoMS4zNDA3ODA1MDk2MjA2MzIyLDAsMCwxLjI5OTA3MzM4NzE2MzgyNzYsLTEuNjgyNTUyMTg2NzQ1MjE0NywtNC4wMTMwNTI2NjYzODk1NzEpICIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgdGV4dC1hbmNob3I9InN0YXJ0IiBmb250LWZhbWlseT0iSnVuY3Rpb24sIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGlkPSJzdmdfMSIgeT0iMTUuOTgxMzk5IiB4PSIyLjc1NjQ0OSIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMDAwMDAwIj5sbjwvdGV4dD4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjIiIGhlaWdodD0iNDIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8cGF0aCBzdHJva2U9Im51bGwiIGQ9Im0xMi44NTQ4NDYsMzkuOTUyMzg2bC0xLjQ0Nzg5OSwwbC02LjAzOTczNSwtMjAuNDc4MjYxbC0xLjM5Mzk5NywwLjA3MDQyM2wtMy45NzMyMTUsLTAuMTk0ODA1Yy0wLjAyOTg5NSwtMC42Mzk4NTkgMC4wNTUzMTUsLTAuNTkzNDQ1IDAsLTAuODkwMTY3bDAsLTEuMTQ5OTA3bDYuNTcxMDkyLC0wLjAwNTQ4OGw1LjM5MzA0MiwxOC43Njg0MDRsNi40OTExNzksLTM2LjA3NjkzbDEuNTM3Mzg0LDBsLTMuNTY4OTI1LDE5Ljk3ODM2NWwtMC44OTIyMzEsNC45OTQ1OTJsLTAuODkyMjMyLDQuOTk0NTkxbC0wLjg5MjIzMiw0Ljk5NDU5MWwtMC44OTIyMzEsNC45OTQ1OTJ6IiBpZD0ic3ZnXzEiLz4NCiA8L2c+DQo8L3N2Zz4="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(202),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.output=t,this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            添加变量分类\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var n=this.dialog.find(".modal-body"),i=this.dialog.find(".modal-footer");this.initBody(n,i)}return r(e,[{key:"initBody",value:function(e,t){var n=$('<div class="form-group"><label>请选择变量分类：</label></div>');this.categorySelect=$('<select class="form-control"></select>'),n.append(this.categorySelect),e.append(n);var i=this;this.categorySelect.change(function(){var e=$(this).val();i.variableCategory=e?i.findVariableCategory(e):null});var r=$('<button type="button" class="btn btn-default">确定</button>');t.append(r),r.click(function(){if(i.variableCategory){var e=new a.default(i.variableCategory,i.output);i.callback(e),i.dialog.modal("hide")}else bootbox.alert("请先选择变量分类!")})}},{key:"initData",value:function(e){this.categorySelect.append("<option></option>");var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.categorySelect.append('<option value="'+a.name+'">'+a.name+"</option>")}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"findVariableCategory",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.variableCategories[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name===e){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}},{key:"show",value:function(e,t){this.callback=t,this.initData(e),this.variableCategories=e,this.dialog.modal("show")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isList=t,this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            选择变量分类\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var n=this.dialog.find(".modal-body"),i=this.dialog.find(".modal-footer");this.initBody(n,i)}return i(e,[{key:"initBody",value:function(e,t){var n=$('<div class="form-group"><label>请选择变量分类：</label></div>');this.categorySelect=$('<select class="form-control"></select>'),n.append(this.categorySelect),e.append(n);var i=this;this.categorySelect.change(function(){var e=$(this).val();i.variableCategory=e?i.findVariableCategory(e):null});var r=$('<button type="button" class="btn btn-default">确定</button>');t.append(r),r.click(function(){if(i.variableCategory){var e="";if(i.isList){e="[",e+="{",e+='"name":"'+i.variableCategory.name+'",',e+='"fields":{';var t=0,n=!0,r=!1,o=void 0;try{for(var a,s=(i.variableCategory.variables||[])[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;t>0&&(e+=","),e+='"'+l.label+'":',"List"===l.type||"Set"===l.type?e+="[]":"Object"===l.type||"Map"===l.type?e+="null":"Integer"===l.type||"Char"===l.type||"Double"===l.type||"Long"===l.type||"Float"===l.type||"BigDecimal"===l.type?e+="0":"Boolean"===l.type?e+="false":"Date"===l.type?e+='"2019-11-11 19:20:30"':e+='""',t++}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}e+="}",e+="}",e+="]"}else{e+="{",e+='"name":"'+i.variableCategory.name+'",',e+='"fields":{';var c=0,u=!0,f=!1,d=void 0;try{for(var h,p=(i.variableCategory.variables||[])[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var g=h.value;c>0&&(e+=","),e+='"'+g.label+'":',"List"===g.type||"Set"===g.type?e+="[]":"Object"===g.type||"Map"===g.type?e+="null":"Integer"===g.type||"Char"===g.type||"Double"===g.type||"Long"===g.type||"Float"===g.type||"BigDecimal"===g.type?e+="0":"Boolean"===g.type?e+="false":"Date"===g.type?e+='"2019-11-11 19:20:30"':e+='""',c++}}catch(e){f=!0,d=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw d}}e+="}",e+="}"}var y=JSON.parse(e);i.callback(JSON.stringify(y,null,4)),i.dialog.modal("hide")}else bootbox.alert("请先选择变量分类!")})}},{key:"initData",value:function(e){this.categorySelect.append("<option></option>");var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.categorySelect.append('<option value="'+a.name+'">'+a.name+"</option>")}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"findVariableCategory",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.variableCategories[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name===e){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}},{key:"show",value:function(e,t){this.callback=t,this.initData(e),this.variableCategories=e,this.dialog.modal("show")}}]),e}();t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=t.CHANGE_CLASSIFY=t.CLOSE_FILE_VERSION_DIALOG=t.OPEN_FILE_VERSION_DIALOG=t.CLOSE_SOURCE_DIALOG=t.OPEN_SOURCE_DIALOG=t.CLOSE_IMPORT_PROJECT_DIALOG=t.OPEN_IMPORT_PROJECT_DIALOG=t.PROJECT_FILTER_CHANGE=t.PROJECT_LIST_CHANGE=t.HIDE_RENAME_DIALOG=t.SHOW_RENAME_DIALOG=t.EXPAND_TREE_NODE=t.CLOSE_CREATE_FOLDER_DIALOG=t.OPEN_CREATE_FOLDER_DIALOG=t.CLOSE_CREATE_FILE_DIALOG=t.OPEN_CREATE_FILE_DIALOG=t.CLOSE_UPDATE_PROJECT_DIALOG=t.OPEN_UPDATE_PROJECT_DIALOG=t.CLOSE_NEW_PROJECT_DIALOG=t.OPEN_NEW_PROJECT_DIALOG=t.DIALOG_CONTNET_CHANGE=t.CLOSE_DIALOG=t.OPEN_DIALOG=void 0;var i,r=n(19),o=(i=r)&&i.__esModule?i:{default:i};t.OPEN_DIALOG="open_dialog",t.CLOSE_DIALOG="close_dialog",t.DIALOG_CONTNET_CHANGE="dialog_content_change",t.OPEN_NEW_PROJECT_DIALOG="open_new_project_dialog",t.CLOSE_NEW_PROJECT_DIALOG="close_new_project_dialog",t.OPEN_UPDATE_PROJECT_DIALOG="open_update_project_dialog",t.CLOSE_UPDATE_PROJECT_DIALOG="close_update_project_dialog",t.OPEN_CREATE_FILE_DIALOG="create_file_dialog",t.CLOSE_CREATE_FILE_DIALOG="close_file_dialog",t.OPEN_CREATE_FOLDER_DIALOG="create_folder_dialog",t.CLOSE_CREATE_FOLDER_DIALOG="close_folder_dialog",t.EXPAND_TREE_NODE="expand_tree_node",t.SHOW_RENAME_DIALOG="SHOW_RENAME_DIALOG",t.HIDE_RENAME_DIALOG="HIDE_RENAME_DIALOG",t.PROJECT_LIST_CHANGE="project_list_change",t.PROJECT_FILTER_CHANGE="project_filter_change",t.OPEN_IMPORT_PROJECT_DIALOG="open_import_project_dialog",t.CLOSE_IMPORT_PROJECT_DIALOG="close_import_project_dialog",t.OPEN_SOURCE_DIALOG="open_source_dialog",t.CLOSE_SOURCE_DIALOG="close_source_dialog",t.OPEN_FILE_VERSION_DIALOG="open_file_version_dialog",t.CLOSE_FILE_VERSION_DIALOG="close_file_version_dialog",t.CHANGE_CLASSIFY="change_classify",t.eventEmitter=new o.default.EventEmitter},function(e,t,n){"use strict";var i,r=n(198),o=(i=r)&&i.__esModule?i:{default:i};urule.Context=function(e,t){this.container=e,this.paper=new o.default(this.container.get(0),"100%","100%"),this.rule=t},urule.Context.prototype.getCanvas=function(){return this.container},urule.Context.prototype.getPaper=function(){return this.paper},urule.Context.prototype.setRootJoin=function(e){this.rootJoin=e},urule.Context.prototype.getRootJoin=function(){return this.rootJoin},urule.Context.prototype.getTotalChildrenCount=function(){return this.rootJoin.getChildrenCount()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(197)),o=c(n(254)),a=n(4),s=n(50),l=c(n(202));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.project=window._project,this.file=decodeURI(decodeURI((0,a.getParameter)("file"))),this.inputCategories=[],this.outputCategories=[],this.variableCategories=null,this.dialog=$('<div class="modal fade" role="dialog" style="overflow: auto" aria-hidden="true" data-backdrop="static">\n            <div class="modal-dialog modal-lg">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            对文件['+this.file+']进行快速测试\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>'),this.file="jcr:"+this.file;var t=this.dialog.find(".modal-body"),n=this.dialog.find(".modal-footer");this.initBody(t,n);var i=$('<button type="button" class="close" title="最小化/最大化窗口" style="margin-left: 5px">\n                            <i class="glyphicon glyphicon-minus" style="font-size: 16px"></i>\n                        </button>');this.dialog.find(".modal-header").prepend(i);var r=!0;i.click(function(){r?(t.slideUp(),i.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),r=!1):(t.slideDown(),i.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),r=!0)})}return i(e,[{key:"initBody",value:function(e,t){var n=this,i=$('<div style="margin-bottom: 15px;padding-bottom: 10px;"></div>');e.append(i);var r=$('<div class="well"></div>');e.append(r),r.hide();var l=$('<button type="button" class="btn btn-danger">开始测试</button>');i.append(l),l.click(function(){var e=window._core_version;e&&(e=(0,s.encrypt)(e));var t=n.toData();window.quickTestData=t;var i=JSON.stringify(t.input),o=JSON.stringify(t.output),c=window._server+"/packageeditor/doQuickTest";$.ajax({url:c,type:"POST",data:{version:e,files:n.file,input:i,output:o},beforeSend:function(){r.empty(),r.show(),r.append('<h4 style="text-align: center">测试进行中，请稍后...</h4>'),l.prop("disabled",!0)},success:function(e){l.prop("disabled",!1),window._setDirty(),r.empty();var t=e.output,n=e.time;r.append('<div style="margin: 2px">执行规则耗时'+n+'毫秒，<a href="'+e.logUrl+'" target="_blank">查看详细日志</a>(是否有日志生成取决于规则的日志输出属性是否打开)</div>');var i=$('<div style="margin: 2px">期望返回的结果：</div>');r.append(i);var o=!0,a=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;i.append('<div style="margin-left: 30px;font-weight: bold;font-size: 13pt">'+f.name+"</div>");var d=$('<div style="margin-left: 60px"></div>');i.append(d);var h=!0,p=!1,g=void 0;try{for(var y,m=(f.fields||[])[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value,v=b.value;v&&(v=JSON.stringify(b.value)),d.append('<span style="margin:2px 10px 5px 0px"><span style="font-weight: bold;font-style: italic">'+b.name+"：</span>"+v+"</span>")}}catch(e){p=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(p)throw g}}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}},error:function(e){(0,a.handleError)(e),r.empty(),r.hide(),l.prop("disabled",!1)}})});var c=$('<button type="button" class="btn btn-primary" style="margin-left: 5px">查看规则树</button>');i.append(c),c.click(function(){var e=window._server+"/retediagram?files="+n.file+",LATEST";window.open(e,"_blank")}),this.inputContainer=$('<fieldset style="margin-bottom: 10px"></fieldset>'),e.append(this.inputContainer);var u=$('<legend style="margin-bottom:10px">输入信息</legend>');this.inputContainer.append(u);var f=$('<button type="button" class="btn btn-link">添加</button>');u.append(f),f.click(function(){new o.default(!1).show(n.variableCategories,function(e){n.inputCategories.push(e),e.categoryItems=n.inputCategories,e.variableCategories=n.variableCategories,n.inputContainer.append(e.container)})}),this.outputContainer=$("<fieldset></fieldset>");var d=$('<legend style="margin-bottom:10px">期望输出信息</legend>');this.outputContainer.append(d),e.append(this.outputContainer);var h=$('<button type="button" class="btn btn-link">添加</button>');d.append(h),h.click(function(){new o.default(!0).show(n.variableCategories,function(e){n.outputCategories.push(e),e.categoryItems=n.outputCategories,n.outputContainer.append(e.container)})})}},{key:"initData",value:function(e,t){if(window.quickTestData){var n=null;n=t?window.quickTestData.output:window.quickTestData.input;var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,u=c.categoryName,f=this.findVariableCategory(u);if(f){var d=new l.default(f,t,c.fields,this.variableCategories);t?(this.outputCategories.push(d),d.categoryItems=this.outputCategories):(this.inputCategories.push(d),d.categoryItems=this.inputCategories),e.append(d.container)}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}}},{key:"findVariableCategory",value:function(e){var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.variableCategories[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.name===e){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t}},{key:"loadData",value:function(){var e=this;r.loadSimulatorCategoryData(this.file,function(t){e.variableCategories=t,e.initData(e.inputContainer,!1),e.initData(e.outputContainer,!0)})}},{key:"toData",value:function(){var e={input:[],output:[]},t=!0,n=!1,i=void 0;try{for(var r,o=this.inputCategories[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.input.push(a.toData())}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var s=!0,l=!1,c=void 0;try{for(var u,f=this.outputCategories[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var d=u.value;e.output.push(d.toData())}}catch(e){l=!0,c=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}return e}},{key:"show",value:function(){this.dialog.modal("show"),this.loadData()}}]),e}();t.default=u},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CREATE_NEW_FILE=t.CREATE_NEW_PROJECT=t.FILE_RENAME=t.LOAD_END=t.UPDATE=t.DEL=t.ADD=void 0,t.createNewFile=function(e,t,n){return function(i){var a=window._server+"/frame/createFile",l=e+"."+t,c=n.fullPath+"/"+l;$.ajax({url:a,data:{path:encodeURI(n.fullPath+"/"+l),type:t},type:"POST",success:function(e){var t={id:e.id,name:l,type:e.type,fullPath:c,contextMenu:M()};v(t,1),i({parentNodeData:n,newFileData:t,type:b}),r.eventEmitter.emit(r.EXPAND_TREE_NODE,n),r.eventEmitter.emit(r.CLOSE_CREATE_FILE_DIALOG);var a=window._server+t.editorPath+"?file="+t.fullPath,s=1e3;window._cluster&&(s=3500),setTimeout(function(){o.eventEmitter.emit(o.TREE_NODE_CLICK,{id:t.id,name:t.name,path:a,fullPath:c,active:!0})},s)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}},t.rename=function(e,t){return function(n){var i=window._server+"/frame/fileRename";$.ajax({url:i,type:"POST",data:{path:e,newPath:t,classify:window._classify,projectName:window._projectName,types:window._types},success:function(i){var a=i.repo.rootFile;v(a,1),n({data:a,type:g}),r.eventEmitter.emit(r.HIDE_RENAME_DIALOG),o.eventEmitter.emit("tree_node_path_change",{oldPath:e,newPath:t}),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){(0,s.handleError)(e)}})}},t.createNewProject=function(e,t){return function(n){var i=window._server+"/frame/createProject";$.ajax({url:i,type:"POST",data:{newProjectName:e},success:function(e){if(v(e,1),n({type:m,newProjectData:e,parentNodeData:t}),r.eventEmitter.emit(r.CLOSE_NEW_PROJECT_DIALOG),window._projectNames){var i=window._projectNames||[];i.push(e.name),r.eventEmitter.emit(r.PROJECT_LIST_CHANGE,i)}o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}},t.createNewFolder=function(e,t){var n=t.fullPath+"/"+e;return function(e){var t=window._server+"/frame/createFolder";$.ajax({url:t,type:"POST",data:{fullFolderName:n,classify:window._classify,projectName:window._projectName,types:window._types},success:function(t){var n=t.repo.rootFile;v(n,1),e({data:n,type:g}),r.eventEmitter.emit(r.CLOSE_CREATE_FOLDER_DIALOG),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}},t.fileRename=function(e,t,n){return function(i){var a=e.fullPath,l=a.lastIndexOf(e.name),c=a.substring(0,l)+t,u=window._server+"/frame/fileRename";$.ajax({url:u,type:"POST",data:{path:a,newPath:c,project:n||"",classify:window._classify,projectName:window._projectName,types:window._types},success:function(n){if(-1!==t.indexOf("."))e.fullPath=c,e.name=t,i({data:e,type:y});else{var a=n.repo.rootFile;v(a,1),i({data:a,type:g})}r.eventEmitter.emit(r.CLOSE_UPDATE_PROJECT_DIALOG);for(var s=window._projectNames||[],l=-1,u=0;u<s.length;u++){if(s[u]===e.name){l=u;break}}l>-1&&(s.splice(l,1,t),r.eventEmitter.emit(r.PROJECT_LIST_CHANGE,s)),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}},t.add=function(e){return{data:e,type:d}},t.del=function(e){return{index:e,type:h}},t.update=function(e,t){return{index:e,data:t,type:p}},t.loadData=function(e,t,n,i){null!==e&&"undefined"!==e||(e=!0);return function(a){var l=window._server+"/frame/loadProjects";$.ajax({url:l,type:"POST",data:{classify:e,projectName:t,types:n,searchFileName:i},success:function(e){var t=e.classify,n=e.repo,i=n.rootFile,s=n.projectNames;r.eventEmitter.emit(r.CHANGE_CLASSIFY,t),s&&s.length>0&&r.eventEmitter.emit(r.PROJECT_LIST_CHANGE,s),v(i,1),a({data:i,type:g}),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}},t.buildType=function(e){var t=e.indexOf(":");t>-1&&(e=e.substring(0,t));var n=void 0;switch(e){case"vl.xml":n="变量库";break;case"cl.xml":n="常量库";break;case"pl.xml":n="参数库";break;case"al.xml":n="动作库";break;case"ctp":n="条件模版";break;case"atp":n="动作模版";break;case"rs.xml":n="向导式决策集";break;case"ul":n="脚本式决策集";break;case"dt.xml":n="决策表";break;case"dts.xml":n="脚本式决策表";break;case"rl.xml":n="决策流";break;case"dtree.xml":n="决策树";break;case"ct.xml":n="交叉决策表";break;case"sc":n="评分卡";break;case"scc":n="复杂评分卡";break;case"知识包":n="package";break;case"规则模版管理":n="维护";break;case"用户管理":n="用户管理";break;case"更改密码":n="更改密码";break;case"退出登录":n="退出登录"}if(!n){var i="Unknow file type :"+e;throw alert(i),i}return n},t.lockFile=x,t.unlockFile=C,t.saveFileSource=function(e,t){t=encodeURIComponent(t);var n=window._server+"/common/saveFile";$.ajax({url:n,type:"POST",data:{file:e,content:t},success:function(){bootbox.alert("保存成功!")},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})},t.seeFileSource=T;var i=f(n(93)),r=u(n(257)),o=u(n(14)),a=f(n(342)),s=n(4),l=f(n(343)),c=f(n(344));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var d=t.ADD="add",h=t.DEL="del",p=t.UPDATE="upload",g=t.LOAD_END="load_end",y=t.FILE_RENAME="file_rename",m=t.CREATE_NEW_PROJECT="create_new_project",b=t.CREATE_NEW_FILE="create_new_file";function v(e,t){switch(e._level=t++,e.type){case"root":e._icon=i.default.frameStyle.getRootIcon(),e._style=i.default.frameStyle.getRootIconStyle(),e.contextMenu=[{name:"创建新项目",icon:"rf rf-createpro",click:function(e){r.eventEmitter.emit(r.OPEN_NEW_PROJECT_DIALOG,e)}},{name:"导入项目",icon:"rf rf-import",click:function(e){r.eventEmitter.emit(r.OPEN_IMPORT_PROJECT_DIALOG)}}];break;case"rule":e._icon=i.default.frameStyle.getRuleIcon(),e._style=i.default.frameStyle.getRuleIconStyle(),e.contextMenu=M(),e.editorPath="/ruleseteditor";break;case"project":e._icon=i.default.frameStyle.getProjectIcon(),e._style=i.default.frameStyle.getProjectIconStyle(),e.contextMenu=[{name:"导出项目备份",icon:"rf rf-export",click:function(e,t){bootbox.confirm("真的要导出项目"+e.name+"的备份文件吗？",function(t){if(t){var n=window._server+"/frame/exportProjectBackupFile?path="+encodeURI(encodeURI(e.fullPath));window.open(n,"_blank")}})}},{name:"修改项目名称(重构)",icon:"rf rf-rename",click:function(e){r.eventEmitter.emit(r.OPEN_UPDATE_PROJECT_DIALOG,e)}},{name:"删除项目",icon:"rf rf-remove",click:function(e,t){bootbox.confirm("此操作将删除"+e.name+"项目及其下所有文件，你确定要这样做吗？",function(n){n&&N(e,t)})}},{name:"配置接收推送客户端",icon:"rf rf-operation",click:function(e,t){var n=window._server+"/clientconfig?project="+encodeURI(e.name);o.eventEmitter.emit(o.TREE_NODE_CLICK,{id:"client_config_",name:"推送客户端配置",fullPath:"client_config_/"+e.name,project:e.name,path:n})}},{name:"配置权限",icon:"rf rf-authority",click:function(){I(e,"project")}},{name:"规则模版管理",icon:"glyphicon glyphicon-cog",click:function(){var t=window._server+"/template?project="+encodeURI(e.name);o.eventEmitter.emit(o.TREE_NODE_CLICK,{id:"template_maintain_",name:"规则模版管理",fullPath:"template_maintain_/"+e.name,project:e.name,path:t})}}];break;case"resource":e._icon=i.default.frameStyle.getResourceIcon(),e._style=i.default.frameStyle.getResourceIconStyle();break;case"all":e._icon=i.default.frameStyle.getResourceIcon(),e._style=i.default.frameStyle.getResourceIconStyle(),e.contextMenu=A();break;case"folder":e._icon=i.default.frameStyle.getFolderIcon(),e._style=i.default.frameStyle.getFolderIconStyle(),e.contextMenu=A(!0,e.folderType);break;case"resourcePackage":e._icon=i.default.frameStyle.getResourcePackageIcon(),e._style=i.default.frameStyle.getResourcePackageIconStyle(),e.editorPath="/packageeditor";break;case"lib":e._icon=i.default.frameStyle.getLibIcon(),e._style=i.default.frameStyle.getLibIconStyle(),e.contextMenu=function(){var e=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加变量库",icon:i.default.frameStyle.getVariableIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"vl.xml",nodeData:e})}},{name:"添加常量库",icon:i.default.frameStyle.getConstantIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"cl.xml",nodeData:e})}},{name:"添加参数库",icon:i.default.frameStyle.getParameterIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"pl.xml",nodeData:e})}},{name:"添加动作库",icon:i.default.frameStyle.getActionIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"al.xml",nodeData:e})}}];return e.push(w()),e}();break;case"action":e._icon=i.default.frameStyle.getActionIcon(),e._style=i.default.frameStyle.getActionIconStyle(),e.contextMenu=M(),e.editorPath="/actioneditor";break;case"parameter":e._icon=i.default.frameStyle.getParameterIcon(),e._style=i.default.frameStyle.getParameterIconStyle(),e.contextMenu=M(),e.editorPath="/parametereditor";break;case"constant":e._icon=i.default.frameStyle.getConstantIcon(),e._style=i.default.frameStyle.getConstantIconStyle(),e.contextMenu=M(),e.editorPath="/constanteditor";break;case"variable":e._icon=i.default.frameStyle.getVariableIcon(),e._style=i.default.frameStyle.getVariableIconStyle(),e.contextMenu=M(),e.editorPath="/variableeditor";break;case"ruleLib":e._icon=i.default.frameStyle.getRuleLibIcon(),e._style=i.default.frameStyle.getRuleLibIconStyle(),e.contextMenu=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加向导式决策集",icon:i.default.frameStyle.getRuleIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"rs.xml",nodeData:e})}},{name:"添加条件模版",icon:i.default.frameStyle.getConditionTemplate(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ctp",nodeData:e})}},{name:"添加动作模版",icon:i.default.frameStyle.getActionTemplate(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"atp",nodeData:e})}},{name:"添加脚本式决策集",icon:i.default.frameStyle.getUlIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ul",nodeData:e})}}],e.contextMenu.push(w());break;case"decisionTableLib":e._icon=i.default.frameStyle.getDecisionTableLibIcon(),e._style=i.default.frameStyle.getDecisionTableLibIconStyle(),e.contextMenu=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加决策表",icon:i.default.frameStyle.getDecisionTableIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"dt.xml",nodeData:e})}},{name:"添加交叉决策表",icon:i.default.frameStyle.getCrossDecisionTableIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ct.xml",nodeData:e})}}],e.contextMenu.push(w());break;case"decisionTreeLib":e._icon=i.default.frameStyle.getDecisionTreeLibIcon(),e._style=i.default.frameStyle.getDecisionTreeLibIconStyle(),e.contextMenu=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加决策树",icon:i.default.frameStyle.getDecisionTreeIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"dtree.xml",nodeData:e})}}],e.contextMenu.push(w());break;case"flowLib":e._icon=i.default.frameStyle.getFlowLibIcon(),e._style=i.default.frameStyle.getFlowLibIconStyle(),e.contextMenu=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加决策流",icon:i.default.frameStyle.getFlowIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"rl.xml",nodeData:e})}}],e.contextMenu.push(w());break;case"scorecardLib":e._icon=i.default.frameStyle.getScorecardLibIcon(),e._style=i.default.frameStyle.getScorecardLibIconStyle(),e.contextMenu=[{name:"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}},{name:"添加评分卡",icon:i.default.frameStyle.getScorecardIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"sc",nodeData:e})}},{name:"添加复杂评分卡",icon:i.default.frameStyle.getComplexScorecardIcon(),click:function(){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"scc",nodeData:e})}}],e.contextMenu.push(w());break;case"ul":e._icon=i.default.frameStyle.getUlIcon(),e._style=i.default.frameStyle.getUlIconStyle();var n=M();n.splice(0,1),e.contextMenu=n,e.editorPath="/uleditor";break;case"decisionTable":e._icon=i.default.frameStyle.getDecisionTableIcon(),e._style=i.default.frameStyle.getDecisionTableIconStyle(),e.contextMenu=M(),e.editorPath="/decisiontableeditor";break;case"conditionTemplate":e._icon=i.default.frameStyle.getConditionTemplate(),e._style=i.default.frameStyle.getConditionTemplateStyle(),e.contextMenu=M(),e.editorPath="/conditiontemplate";break;case"actionTemplate":e._icon=i.default.frameStyle.getActionTemplate(),e._style=i.default.frameStyle.getActionTemplateStyle(),e.contextMenu=M(),e.editorPath="/actiontemplate";break;case"crosstab":e._icon=i.default.frameStyle.getCrossDecisionTableIcon(),e._style=i.default.frameStyle.getCrossDecisionTableIconStyle(),e.contextMenu=M(),e.editorPath="/crosstabeditor";break;case"scriptDecisionTable":e._icon=i.default.frameStyle.getScriptDecisionTableIcon(),e._style=i.default.frameStyle.getScriptDecisionTableIconStyle(),e.contextMenu=M(),e.editorPath="/scriptdecisiontableeditor";break;case"decisionTree":e._icon=i.default.frameStyle.getDecisionTreeIcon(),e._style=i.default.frameStyle.getDecisionTreeIconStyle(),e.contextMenu=M(),e.editorPath="/decisiontreeeditor";break;case"flow":e._icon=i.default.frameStyle.getFlowIcon(),e._style=i.default.frameStyle.getFlowIconStyle(),e.contextMenu=M(),e.editorPath="/ruleflowdesigner";break;case"scorecard":e._icon=i.default.frameStyle.getScorecardIcon(),e._style=i.default.frameStyle.getScorecardIconStyle(),e.contextMenu=M(),e.editorPath="/scorecardeditor";break;case"complexscorecard":e._icon=i.default.frameStyle.getComplexScorecardIcon(),e._style=i.default.frameStyle.getComplexScorecardIconStyle(),e.contextMenu=M(),e.editorPath="/complexscorecardeditor"}var a=e.children;a&&a.forEach(function(e,n){v(e,t)})}function A(e,t){var n=[{name:e?"添加子目录":"添加目录",icon:i.default.frameStyle.getFolderIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FOLDER_DIALOG,{nodeData:e})}}],o=!1;return t&&"all"!==t&&"lib"!==t||(n.push({name:"添加变量库",icon:i.default.frameStyle.getVariableIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"vl.xml",nodeData:e})}},{name:"添加常量库",icon:i.default.frameStyle.getConstantIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"cl.xml",nodeData:e})}},{name:"添加参数库",icon:i.default.frameStyle.getParameterIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"pl.xml",nodeData:e})}},{name:"添加动作库",icon:i.default.frameStyle.getActionIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"al.xml",nodeData:e})}}),o||(n.push(w()),o=!0)),t&&"all"!==t&&"ruleLib"!==t||(n.push({name:"添加向导式决策集",icon:i.default.frameStyle.getRuleIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"rs.xml",nodeData:e})}},{name:"添加条件模版",icon:i.default.frameStyle.getConditionTemplate(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ctp",nodeData:e})}},{name:"添加动作模版",icon:i.default.frameStyle.getActionTemplate(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"atp",nodeData:e})}},{name:"添加脚本式决策集",icon:i.default.frameStyle.getUlIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ul",nodeData:e})}}),o||(n.push(w()),o=!0)),t&&"all"!==t&&"decisionTableLib"!==t||(n.push.apply(n,[{name:"添加决策表",icon:i.default.frameStyle.getDecisionTableIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"dt.xml",nodeData:e})}},{name:"添加交叉决策表",icon:i.default.frameStyle.getCrossDecisionTableIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"ct.xml",nodeData:e})}}]),o||(n.push(w()),o=!0)),t&&"all"!==t&&"decisionTreeLib"!==t||(n.push({name:"添加决策树",icon:i.default.frameStyle.getDecisionTreeIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"dtree.xml",nodeData:e})}}),o||(n.push(w()),o=!0)),t&&"all"!==t&&"scorecardLib"!==t||(n.push({name:"添加评分卡",icon:i.default.frameStyle.getScorecardIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"sc",nodeData:e})}}),n.push({name:"添加复杂评分卡",icon:i.default.frameStyle.getComplexScorecardIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"scc",nodeData:e})}})),t&&"all"!==t&&"flowLib"!==t||(n.push({name:"添加决策流",icon:i.default.frameStyle.getFlowIcon(),click:function(e,t){r.eventEmitter.emit(r.OPEN_CREATE_FILE_DIALOG,{fileType:"rl.xml",nodeData:e})}}),o||(n.push(w()),o=!0)),e&&(n.push({name:"删除",icon:"rf rf-remove",click:function(e,t){bootbox.confirm("删除目录["+e.name+"],将会同时删除其下所有子目录及文件，确认吗？",function(n){n&&N(e,t,!0)})}},{name:"修改目录名(重构)",icon:"rf rf-rename",click:function(e,t){r.eventEmitter.emit(r.SHOW_RENAME_DIALOG,e)}},{name:"锁定目录",icon:"rf rf-lock",click:function(e,t){x(e.fullPath,t)}},{name:"解锁目录",icon:"rf rf-unlock",click:function(e,t){C(e.fullPath,t)}},{name:"配置权限",icon:"rf rf-authority",click:function(e){I(e,"folder")}}),o||(n.push(w()),o=!0)),n}function w(){return{name:"粘贴文件",icon:"rf rf-paste",click:function(e,t){var n=window.___cutFileData,i=!1;if(n||(n=window.___copyFileData,i=!0),n){var a=e.fullPath,l=a+"/"+n.name,u=n.fullPath;if(i||u!==l){var f="真的要移动文件【"+n.name+"】到【"+a+"】下吗？";i&&(f="真的要复制文件【"+n.name+"】到【"+a+"】下吗？"),bootbox.confirm(f,function(e){e&&(window.___cutFileData=null,window.___copyFileData=null,i?new c.default(l).show(function(e){$.ajax({url:window._server+"/frame/copyFile",type:"POST",data:{newFullPath:e,oldFullPath:u},success:function(e){var n=e.repo.rootFile;v(n,1),t({data:n,type:g})},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}):function(e,t,n){var i=window._server+"/frame/fileRename";$.ajax({url:i,type:"POST",data:{path:e,newPath:t,classify:window._classify,projectName:window._projectName,types:window._types},success:function(e){var t=e.repo.rootFile;v(t,1),n({data:t,type:g}),r.eventEmitter.emit(r.CLOSE_UPDATE_PROJECT_DIALOG),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}(u,l,t))})}else bootbox.alert("目录未改变，不能进行此操作！")}else bootbox.alert("没有文件可供粘贴！")}}}function M(){var e=[{name:"查看源码",icon:"rf rf-code",click:function(e,t){T(e)}},{name:"查看版本信息",icon:"rf rf-version",click:function(e,t){!function(e){var t=window._server+"/frame/fileVersions";$.ajax({url:t,type:"POST",data:{path:e.fullPath},success:function(t){r.eventEmitter.emit(r.OPEN_FILE_VERSION_DIALOG,{list:t,data:e})},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}(e)}},{name:"版本比较",icon:"glyphicon glyphicon-transfer",click:function(e,t){!function(e){var t=e.fullPath,n=new l.default(t);n.dialog.find(".modal-dialog").css("width",$(document).width()-150),n.show()}(e)}},{name:"删除文件",icon:"rf rf-remove",click:function(e,t){bootbox.confirm("真的要删除["+e.name+"]文件吗？",function(n){n&&N(e,t)})}},{name:"修改文件名(重构)",icon:"rf rf-rename",click:function(e,t){r.eventEmitter.emit(r.SHOW_RENAME_DIALOG,e)}},{name:"复制文件",icon:"rf rf-copy",click:function(e,t){window.___copyFileData=e,window.___cutFileData=null}},{name:"剪切文件",icon:"rf rf-cut",click:function(e,t){window.___cutFileData=e,window.___copyFileData=null}},{name:"锁定文件",icon:"rf rf-lock",click:function(e,t){x(e.fullPath,t)}},{name:"解锁文件",icon:"rf rf-unlock",click:function(e,t){C(e.fullPath,t)}},{name:"配置权限",icon:"rf rf-authority",click:function(e){I(e,"file")}}];return window._fileMenuExtension&&window._fileMenuExtensionUrl&&e.push({name:window._fileMenuExtension,icon:"glyphicon glyphicon-cog",click:function(e){var t=window._fileMenuExtensionUrl+"?file="+encodeURI(e.fullPath);window.open(t,"_blank")}}),e}function I(e,t){new a.default(e,t)}function x(e,t){o.eventEmitter.emit(o.SHOW_LOADING);var n=window._server+"/frame/lockFile";$.ajax({url:n,type:"POST",data:{file:e},success:function(e){var n=e.repo.rootFile;v(n,1),t({data:n,type:g}),o.eventEmitter.emit(o.HIDE_LOADING),bootbox.alert("锁定成功!")},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}function C(e,t){o.eventEmitter.emit(o.SHOW_LOADING);var n=window._server+"/frame/unlockFile";$.ajax({url:n,type:"POST",data:{file:e},success:function(e){var n=e.repo.rootFile;v(n,1),t({data:n,type:g}),o.eventEmitter.emit(o.HIDE_LOADING),bootbox.alert("解锁成功!")},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}function T(e){var t=window._server+"/frame/fileSource";$.ajax({url:t,type:"POST",data:{path:e.fullPath},success:function(t){r.eventEmitter.emit(r.OPEN_SOURCE_DIALOG,e.fullPath,t.content)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})}function N(e,t,n){o.eventEmitter.emit(o.SHOW_LOADING),setTimeout(function(){var i=window._server+"/frame/deleteFile";$.ajax({url:i,type:"POST",data:{isFolder:n,path:e.fullPath,classify:window._classify,projectName:window._projectName,types:window._types},success:function(i){if(n){var a=i.repo.rootFile;v(a,1),t({data:a,type:g})}else t({data:e,type:h});for(var s=window._projectNames||[],l=-1,c=0;c<s.length;c++){if(s[c]===e.name){l=c;break}}l>-1&&(s.splice(l,1),r.eventEmitter.emit(r.PROJECT_LIST_CHANGE,s)),o.eventEmitter.emit(o.HIDE_LOADING)},error:function(e){o.eventEmitter.emit(o.HIDE_LOADING),(0,s.handleError)(e)}})},150)}},,function(e,t,n){var i=n(270);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},,,,function(e,t,n){"use strict";var i=n(4),r=n(4);urule.ActionType=function(e,t){this.uuid=(0,i.generateId)(),e.prop("id",this.uuid),this.rule=t,this.parentContainer=e,this.type="",this.init(),window._ActionTypeArray.push(this),this.initMenu()},urule.ActionType.prototype.toXml=function(){if("execute-function"==this.type){var e="<execute-function ";return e+=this.action.toXml(),e+=">",e+=this.action.getParameter().toXml(),e+="</execute-function>"}if(this.action)return this.action.toXml();throw"请先配置好具体动作"},urule.ActionType.prototype.initData=function(e){if(e){var t=e.actionType;this.setAction(t,e)}},urule.ActionType.prototype.init=function(){this.container=generateContainer(),URule.setDomContent(this.container,"请选择动作类型"),this.container.css({color:"green"});var e=this;this.parentContainer.append(this.container);var t=new URule.menu.Menu({menuItems:[{label:"复制动作",onClick:function(){e.doCopy()}},{label:"粘贴动作",onClick:function(){e.doPaste()}}]});this.container.contextmenu(function(e){t.show(e)}),this.action=null},urule.ActionType.prototype.doCopy=function(){try{var e=this.toXml();$.ajax({type:"POST",data:{type:"action",xml:e},url:window._server+"/common/parseRuleData",success:function(){},error:function(e){(0,r.handleError)(e)}})}catch(e){bootbox.alert(e)}},urule.ActionType.prototype.doPaste=function(){var e=this;try{$.ajax({type:"POST",data:{type:"action"},url:window._server+"/common/loadRuleData",success:function(t){t?e.initData(t):bootbox.alert("当前没有已复制的动作可供粘贴！")},error:function(e){(0,r.handleError)(e)}})}catch(e){bootbox.alert(e)}},urule.ActionType.prototype.initMenu=function(e){var t,n,i,r=window._uruleEditorActionLibraries;e&&(r=e),t=this,n=function(e){var n=e.parent.parent;t.setAction("ExecuteMethod",{beanLabel:n.label,beanId:n.name,methodLabel:e.label,methodName:e.name,parameters:e.parameters})},i={menuItems:[{label:"打印内容到控制台",onClick:function(){t.setAction("ConsolePrint")}},{label:"赋值",onClick:function(){t.setAction("VariableAssign")}},{label:"执行函数",onClick:function(){t.setAction("ExecuteCommonFunction")}}]},window._rule_set_editor&&i.menuItems.push({label:"动作模版",onClick:function(){t.setAction("TemplateAction")}}),$.each(r||[],function(e,t){var r=t.springBeans||[];$.each(r,function(e,t){var r={name:t.id,label:t.name},o=t.methods||[];$.each(o,function(e,t){r.subMenu||(r.subMenu={menuItems:[]}),r.subMenu.menuItems.push({name:t.methodName,label:t.name,parameters:t.parameters,onClick:n})}),i.menuItems.push(r)})}),t.menu?t.menu.setConfig(i):t.menu=new URule.menu.Menu(i),this.container.click(function(e){t.menu.show(e)})},urule.ActionType.prototype.initDefaultMenuData=function(){var e=this,t=[];return t.push({name:"打印内容到控制台",fun:function(){e.setAction("ConsolePrint")}}),t.push({name:"赋值",fun:function(){e.setAction("VariableAssign")}}),t},urule.ActionType.prototype.setAction=function(e,t){switch(window._setDirty(),this.action&&this.action.getContainer().remove(),e){case"ConsolePrint":this.action=new urule.PrintAction(this.rule),URule.setDomContent(this.container,"输出:"),this.type="console-print";break;case"ExecuteMethod":this.action=new urule.MethodAction(this.rule),URule.setDomContent(this.container,"执行方法:"),this.type="execute-method";break;case"VariableAssign":this.action=new urule.AssignmentAction(this.rule),URule.setDomContent(this.container,"赋值:"),this.type="var-assign";break;case"ExecuteCommonFunction":this.action=new urule.FunctionValue(null,null,this.rule),URule.setDomContent(this.container,"执行函数:"),this.type="execute-function";break;case"TemplateAction":this.action=new urule.ActionTemplateAction,URule.setDomContent(this.container,"动作模版:"),this.type="action-template"}this.parentContainer.append(this.action.getContainer()),this.action.initData(t)}},function(e,t,n){"use strict";urule.PrintAction=function(e){this.container=$("<span>"),this.beforeContainer=$("<span>"),URule.setDomContent(this.beforeContainer,""),this.container.append(this.beforeContainer),this.inputType=new urule.InputType(null,null,null,e),this.inputTypeContainer=this.inputType.getContainer(),this.container.append(this.inputTypeContainer),this.afterContainer=$("<span>"),URule.setDomContent(this.afterContainer,""),this.container.append(this.afterContainer)},urule.PrintAction.prototype.initData=function(e){if(e){var t=e.value;t&&this.inputType.setValueType(t.valueType,t)}},urule.PrintAction.prototype.toXml=function(){var e="<console-print>";return e+=this.inputType.toXml(),e+="</console-print>"},urule.PrintAction.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";urule.AssignmentAction=function(e){this.container=$("<span>"),this.label=generateContainer(),this.container.append(this.label),URule.setDomContent(this.label,"请选择值类型"),this.label.css({color:"blue"}),this.valueContainer=$("<span>"),this.container.append(this.valueContainer),this.leftVariable=new urule.VariableValue(null,null,"Out"),this.leftParameter=new urule.ParameterValue(null,null,"Out"),this.valueContainer.append(this.leftVariable.getContainer()),this.valueContainer.append(this.leftParameter.getContainer()),this.leftVariable.getContainer().hide(),this.leftParameter.getContainer().hide();var t=$("<span>");URule.setDomContent(t,"="),t.css({color:"red",fontWeight:"blod"}),this.container.append(t),this.inputType=new urule.InputType(null,null,null,e),this.container.append(this.inputType.getContainer());var n=this;n.menu=new URule.menu.Menu({menuItems:[{label:"选择变量",onClick:function(){n.leftParameter.getContainer().hide(),n.leftVariable.getContainer().show(),n.type="variable",URule.setDomContent(n.label,""),n.label.css({color:"white"})}},{label:"选择参数",onClick:function(){n.leftVariable.getContainer().hide(),n.leftParameter.getContainer().show(),n.type="parameter",URule.setDomContent(n.label,""),n.label.css({color:"white"})}}]}),this.label.click(function(e){n.menu.show(e)})},urule.AssignmentAction.prototype.initData=function(e){if(e){this.type=e.type,this.type&&"parameter"==this.type?(this.leftParameter.setValue(e),this.leftVariable.getContainer().hide(),this.leftParameter.getContainer().show()):(this.type="variable",this.leftVariable.setValue(e),this.leftParameter.getContainer().hide(),this.leftVariable.getContainer().show());var t=e.value;if(t){var n=t.valueType;this.inputType.setValueType(n,t)}URule.setDomContent(this.label,""),this.label.css({color:"white"})}},urule.AssignmentAction.prototype.toXml=function(){var e="<var-assign ";if("variable"==this.type){if(!this.leftVariable.variableName)throw'"变量赋值"动作【'+this.leftVariable.category+"】下未选择具体属性，该动作只能针对具体变量下的属性进行赋值，不能对变量本身进行赋值!";e+=this.leftVariable.toXml()}else"NamedReference"==this.type?e+=this.leftReference.toXml():e+=this.leftParameter.toXml();return e+=' type="'+this.type+'">',e+=this.inputType.toXml(),e+="</var-assign>"},urule.AssignmentAction.prototype.getContainer=function(){return this.container}},function(e,t,n){"use strict";var i=N(n(278)),r=N(n(279)),o=N(n(249)),a=N(n(280)),s=N(n(281)),l=N(n(282)),c=N(n(250)),u=N(n(251)),f=N(n(252)),d=N(n(283)),h=N(n(284)),p=N(n(285)),g=N(n(286)),y=N(n(287)),m=N(n(288)),b=N(n(289)),v=N(n(290)),A=N(n(291)),w=N(n(292)),M=N(n(293)),I=N(n(294)),x=N(n(295)),C=N(n(296)),T=N(n(299));function N(e){return e&&e.__esModule?e:{default:e}}urule.MathValue=function(e,t){this.arithmetic=e,this.mathMap=new Map,this.map=new Map,this.initMaths(),this.container=$("<span></span>"),this.container.data("pi",!0),this.label=generateContainer(),this.container.append(this.label),this.label.css({color:"#6b3db0"}),URule.setDomContent(this.label,"请选择数学符号"),this.mathContainer=$("<span></span>"),this.container.append(this.mathContainer),e&&this.container.append(e.getContainer()),this.initData(t),this.initMenu()},urule.MathValue.prototype.initData=function(e){if(e&&e.mathSign){var t=e.mathSign;this.setMath(t.type,t,e.arithmetic)}},urule.MathValue.prototype.initMaths=function(){var e=new p.default;this.mathMap.set(e.getType(),e);var t=new g.default;this.mathMap.set(t.getType(),t);var n=new y.default;this.mathMap.set(n.getType(),n);var i=new m.default;this.mathMap.set(i.getType(),i);var r=new b.default;this.mathMap.set(r.getType(),r);var o=new v.default;this.mathMap.set(o.getType(),o);var a=new A.default;this.mathMap.set(a.getType(),a);var s=new w.default;this.mathMap.set(s.getType(),s);var l=new M.default;this.mathMap.set(l.getType(),l);var c=new I.default;this.mathMap.set(c.getType(),c);var u=new x.default;this.mathMap.set(u.getType(),u);var f=new C.default;this.mathMap.set(f.getType(),f);var d=new T.default;this.mathMap.set(d.getType(),d)},urule.MathValue.prototype.setMath=function(e,t,n){var i=!1,r=!1;e.startsWith("triangle-")&&(e=e.substring(9),i=!0),e.startsWith("extremum-")&&(e=e.substring(9),r=!0),this.math&&this.math.getContainer().hide(),this.type=e,i?(this.map.has("triangle")?this.math=this.map.get("triangle"):(this.math=this.mathMap.get("triangle"),URule.setDomContent(this.label,""),this.map.set("triangle",this.math),this.math.init(this.arithmetic.rule),this.mathContainer.append(this.math.getContainer())),this.math.setName(e)):r?(this.map.has("extremum")?this.math=this.map.get("extremum"):(this.math=this.mathMap.get("extremum"),URule.setDomContent(this.label,""),this.map.set("extremum",this.math),this.math.init(this.arithmetic.rule),this.mathContainer.append(this.math.getContainer())),this.math.setName(e)):this.map.has(e)?this.math=this.map.get(e):(this.math=this.mathMap.get(e),this.map.set(e,this.math),this.math.init(this.arithmetic.rule),this.mathContainer.append(this.math.getContainer()),URule.setDomContent(this.label,""),t&&(this.math.initData(t),this.arithmetic.initData(n))),this.math.getContainer().show()},urule.MathValue.prototype.initMenu=function(){var e=this,t=function(t){e.setMath(t.name),window._setDirty()},n={menuItems:[{name:"radical",image:i.default,label:"平方根",onClick:t},{name:"nradical",image:r.default,label:"方根",onClick:t},{name:"sigma",image:o.default,label:"求和",onClick:t},{name:"fraction",image:a.default,label:"分数",onClick:t},{name:"power",image:s.default,label:"指数",onClick:t},{name:"absolute",image:l.default,label:"绝对值",onClick:t},{name:"pi",image:c.default,label:"圆周率",onClick:t},{name:"log",image:u.default,label:"对数",onClick:t},{name:"ln",image:f.default,label:"自然对数",onClick:t},{name:"upRound",image:d.default,label:"向上取整",onClick:t},{name:"downRound",image:h.default,label:"向下取整",onClick:t}]},p={label:"极值",subMenu:{menuItems:[{name:"extremum-max",label:"max",onClick:t},{name:"extremum-min",label:"min",onClick:t}]}};n.menuItems.push(p);var g={label:"三角函数",subMenu:{menuItems:[{name:"triangle-sin",label:"sin",onClick:t},{name:"triangle-cos",label:"cos",onClick:t},{name:"triangle-tan",label:"tan",onClick:t},{name:"triangle-cot",label:"cot",onClick:t},{name:"triangle-sec",label:"sec",onClick:t},{name:"triangle-csc",label:"csc",onClick:t}]}};n.menuItems.push(g);var y={label:"反三角函数",subMenu:{menuItems:[{name:"triangle-arcsin",label:"arcsin",onClick:t},{name:"triangle-arccos",label:"arccos",onClick:t},{name:"triangle-arctan",label:"arctan",onClick:t},{name:"triangle-arccot",label:"arccot",onClick:t},{name:"triangle-arcsec",label:"arcsec",onClick:t},{name:"triangle-arccsc",label:"arccsc",onClick:t}]}};n.menuItems.push(y),this.menu?this.menu.setConfig(n):this.menu=new URule.menu.Menu(n),this.label.click(function(t){e.menu.show(t)})},urule.MathValue.prototype.toXml=function(){if(!this.math)throw"请选择具体的数学符号";return""},urule.MathValue.prototype.getContainer=function(){return this.container},urule.MathValue.prototype.getDisplayContainer=function(){bootbox.alert("不支持的操作！")}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIyIiB3aWR0aD0iMjIiIHk9Ii0xIiB4PSItMSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8cGF0aCBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSIgZD0ibTUuNjg5ODEzLDE3LjI2MDExN2wtMC42Nzc3OTQsMGwtMi44MjczMTQsLTcuODYyNjI1bC0xLjQ0Njk3NSwwbDAsLTAuODMzMTU1bDIuMDEwNTM0LDBsMi41MjQ1OTEsNy4yMDYxMzRsMy4wMzg2NDgsLTEzLjg1MTc0MmwwLjcxOTY4LDBsLTMuMzQxMzcxLDE1LjM0MTM4OHptMTAuNTQ1Nzg1LC0xLjUyNjcyM2wtMi41NDkzNDIsLTQuMjUwODM0bC0yLjU1Njk1OCw0LjI1MDgzNGwtMC44NTg2NjYsMGwyLjk1ODY4NCwtNC44NzY3OWwtMi44MTk2OTgsLTQuNjM0Njk2bDAuODkxMDMyLDBsMi4zODU2MDYsNC4wMDY1NThsMi4zNzc5OSwtNC4wMDY1NThsMC44OTg2NDgsMGwtMi44MTAxNzksNC42MTUwNjZsMi45OTEwNTEsNC44OTQyMzlsLTAuOTA4MTY3LDBsMCwwLjAwMjE4MXoiLz4NCiAgPHBhdGggc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzIiIGQ9Im0xOC42NDkwNDYsMi40MTc4NTdsLTkuODY5NTQ3LDBsMCwtMC41MTczMTlsOS44Njk1NDcsMGwwLDAuNTE3MzE5eiIvPg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMy4xMjM1OTEiIGhlaWdodD0iMy4xMjM1OTEiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8cGF0aCBkPSJtNi4yMTkyMjUsMTcuMjYwMTE3bC0wLjY3Nzc5NCwwbC0yLjgyNzMxNCwtNy44NjI2MjVsLTEuNDQ2OTc1LDBsMCwtMC44MzMxNTVsMi4wMTA1MzQsMGwyLjUyNDU5MSw3LjIwNjEzNGwzLjAzODY0OCwtMTMuODUxNzQybDAuNzE5NjgsMGwtMy4zNDEzNzEsMTUuMzQxMzg4bDAuMDAwMDAxLDB6bTEwLjU0NTc4NSwtMS41MjY3MjNsLTIuNTQ5MzQyLC00LjI1MDgzNGwtMi41NTY5NTgsNC4yNTA4MzRsLTAuODU4NjY2LDBsMi45NTg2ODQsLTQuODc2NzlsLTIuODE5Njk4LC00LjYzNDY5NmwwLjg5MTAzMiwwbDIuMzg1NjA2LDQuMDA2NTU4bDIuMzc3OTksLTQuMDA2NTU4bDAuODk4NjQ4LDBsLTIuODEwMTc5LDQuNjE1MDY2bDIuOTkxMDUxLDQuODk0MjM5bC0wLjkwODE2NywwbDAsMC4wMDIxODFsLTAuMDAwMDAxLDB6IiBpZD0ic3ZnXzEiIHN0cm9rZT0ibnVsbCIvPg0KICA8cGF0aCBkPSJtMTkuMTc4NDU4LDIuNDE3ODU3bC05Ljg2OTU0NywwbDAsLTAuNTE3MzE5bDkuODY5NTQ3LDBsMCwwLjUxNzMxOXoiIGlkPSJzdmdfMiIgc3Ryb2tlPSJudWxsIi8+DQogIDx0ZXh0IGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgZmlsbC1vcGFjaXR5PSJudWxsIiB4PSIxLjk3MjE5MSIgeT0iNy40MDEyMzMiIGlkPSJzdmdfMyIgZm9udC1zaXplPSIxMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJzdGFydCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+bjwvdGV4dD4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkuOTk5OTk5OTk5OTk5OTk2IiBoZWlnaHQ9IjE5Ljk5OTk5OTk5OTk5OTk5NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiA8IS0tIENyZWF0ZWQgd2l0aCBNZXRob2QgRHJhdyAtIGh0dHA6Ly9naXRodWIuY29tL2R1b3BpeGVsL01ldGhvZC1EcmF3LyAtLT4NCg0KIDxnPg0KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+DQogIDxnIGRpc3BsYXk9Im5vbmUiIGlkPSJjYW52YXNHcmlkIj4NCiAgIDxyZWN0IGZpbGw9InVybCgjZ3JpZHBhdHRlcm4pIiBzdHJva2Utd2lkdGg9IjAiIHk9IjAiIHg9IjAiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiIGlkPSJzdmdfMSIvPg0KICA8L2c+DQogPC9nPg0KIDxnPg0KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+DQogIDx0ZXh0IGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgZmlsbC1vcGFjaXR5PSJudWxsIiB4PSI3LjE0MDYxMyIgeT0iNy4xNjIxMzUiIGlkPSJzdmdfMiIgZm9udC1zaXplPSIxMyIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJzdGFydCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+YTwvdGV4dD4NCiAgPHRleHQgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1vcGFjaXR5PSJudWxsIiBmaWxsLW9wYWNpdHk9Im51bGwiIHg9IjcuMTg3OTczIiB5PSIxOS43OTg2ODMiIGlkPSJzdmdfMyIgZm9udC1zaXplPSIxMyIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJzdGFydCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+YjwvdGV4dD4NCiAgPGxpbmUgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW9wYWNpdHk9Im51bGwiIGZpbGwtb3BhY2l0eT0ibnVsbCIgeDE9IjEuMTg0MDEiIHkxPSI5LjA2NDg4NCIgeDI9IjE4LjgxNTk5MSIgeTI9IjguOTM1ODUyIiBpZD0ic3ZnXzQiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiLz4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkuOTk5OTk5OTk5OTk5OTk2IiBoZWlnaHQ9IjE5Ljk5OTk5OTk5OTk5OTk5NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiA8IS0tIENyZWF0ZWQgd2l0aCBNZXRob2QgRHJhdyAtIGh0dHA6Ly9naXRodWIuY29tL2R1b3BpeGVsL01ldGhvZC1EcmF3LyAtLT4NCg0KIDxnPg0KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+DQogIDxnIGlkPSJjYW52YXNHcmlkIiBkaXNwbGF5PSJub25lIj4NCiAgIDxyZWN0IGlkPSJzdmdfMSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgeD0iMCIgeT0iMCIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSJ1cmwoI2dyaWRwYXR0ZXJuKSIvPg0KICA8L2c+DQogPC9nPg0KIDxnPg0KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+DQogIDx0ZXh0IGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgZmlsbC1vcGFjaXR5PSJudWxsIiB4PSIzLjYxOTQwMyIgeT0iMTYuNzQ2NzM1IiBpZD0ic3ZnXzgiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHhtbDpzcGFjZT0icHJlc2VydmUiPlg8L3RleHQ+DQogIDx0ZXh0IGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgZmlsbC1vcGFjaXR5PSJudWxsIiB4PSIxNC4xNDA5NTQiIHk9IjYuODc2NzA0IiBpZD0ic3ZnXzkiIGZvbnQtc2l6ZT0iOCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIHRleHQtYW5jaG9yPSJzdGFydCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+bjwvdGV4dD4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9Imljb24iPg0KIDxkZWZzPg0KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiLz4NCiA8L2RlZnM+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjIuOTgwMzkyIiB3aWR0aD0iMi45ODAzOTIiIHk9Ii0xIiB4PSItMSIvPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8bGluZSBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJudWxsIiBzdHJva2UtbGluZWpvaW49Im51bGwiIGlkPSJzdmdfMiIgeTI9IjE5LjY2NjIxMSIgeDI9IjEuODQ3MDY0IiB5MT0iMC4xMzcxMTEiIHgxPSIxLjg0NzA2NCIgc3Ryb2tlLXdpZHRoPSJudWxsIiBmaWxsPSJub25lIi8+DQogIDxsaW5lIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z18zIiB5Mj0iMTkuNjkwMTEyIiB4Mj0iMTguNTM3NzM2IiB5MT0iMC4xMTMyMTIiIHgxPSIxOC41Mzc3MzYiIHN0cm9rZS13aWR0aD0ibnVsbCIgZmlsbD0ibm9uZSIvPg0KICA8dGV4dCBzdHJva2U9IiMwMDAwMDAiIHRyYW5zZm9ybT0ibWF0cml4KDEuMTY3MTA3OTY1ODExMjE5OCwwLDAsMS4wODg5OTU1NzQ4MTYxMzEsLTEuNjQzMjUwMDA1NzgwNTkyOCwtMi41NDQyMjg1MTk4ODUyNTc0KSAiIHhtbDpzcGFjZT0icHJlc2VydmUiIHRleHQtYW5jaG9yPSJzdGFydCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIGlkPSJzdmdfNiIgeT0iMTYuOTY0MTU1IiB4PSI0LjY4Nzg3NyIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIwIiBmaWxsPSIjMDAwMDAwIj5hPC90ZXh0Pg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGcgZGlzcGxheT0ibm9uZSIgb3ZlcmZsb3c9InZpc2libGUiIHk9IjAiIHg9IjAiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiIGlkPSJjYW52YXNHcmlkIj4NCiAgIDxyZWN0IGZpbGw9InVybCgjZ3JpZHBhdHRlcm4pIiBzdHJva2Utd2lkdGg9IjAiIHk9IjAiIHg9IjAiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiLz4NCiAgPC9nPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8bGluZSBzdHJva2UtbGluZWNhcD0idW5kZWZpbmVkIiBzdHJva2UtbGluZWpvaW49InVuZGVmaW5lZCIgaWQ9InN2Z18xIiB5Mj0iMi41NjQxNyIgeDI9IjE4LjY1MjAxIiB5MT0iMi41NjQxNyIgeDE9IjEyLjUwNzgwNSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iIzAwMCIgZmlsbD0ibm9uZSIvPg0KICA8bGluZSBzdHJva2UtbGluZWNhcD0idW5kZWZpbmVkIiBzdHJva2UtbGluZWpvaW49InVuZGVmaW5lZCIgaWQ9InN2Z18yIiB5Mj0iMTguNjczMjg4IiB4Mj0iMTcuOTQwNzcyIiB5MT0iMS44MzQ5MDUiIHgxPSIxNy45NDA3NzIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgc3Ryb2tlLWxpbmVjYXA9InVuZGVmaW5lZCIgc3Ryb2tlLWxpbmVqb2luPSJ1bmRlZmluZWQiIGlkPSJzdmdfMyIgeTI9IjIuNjY1Nzk2IiB4Mj0iOC4wODI5MTYiIHkxPSIyLjY2NTc5NiIgeDE9IjEuOTM4NzEyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+DQogIDxsaW5lIHN0cm9rZS1saW5lY2FwPSJ1bmRlZmluZWQiIHN0cm9rZS1saW5lam9pbj0idW5kZWZpbmVkIiBpZD0ic3ZnXzQiIHkyPSIxOC43NzQ5MTQiIHgyPSIyLjY5Njg4NyIgeTE9IjEuOTM2NTMxIiB4MT0iMi42OTY4ODciIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4NCiA8L2c+DQo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGcgZGlzcGxheT0ibm9uZSIgb3ZlcmZsb3c9InZpc2libGUiIHk9IjAiIHg9IjAiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiIGlkPSJjYW52YXNHcmlkIj4NCiAgIDxyZWN0IGZpbGw9InVybCgjZ3JpZHBhdHRlcm4pIiBzdHJva2Utd2lkdGg9IjAiIHk9IjAiIHg9IjAiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiLz4NCiAgPC9nPg0KIDwvZz4NCiA8Zz4NCiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPg0KICA8bGluZSBzdHJva2UtbGluZWNhcD0idW5kZWZpbmVkIiBzdHJva2UtbGluZWpvaW49InVuZGVmaW5lZCIgaWQ9InN2Z18xIiB5Mj0iMTguMDExMzA4IiB4Mj0iMTguNjUyMDEiIHkxPSIxOC4wMTEzMDgiIHgxPSIxMi41MDc4MDUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgc3Ryb2tlLWxpbmVjYXA9InVuZGVmaW5lZCIgc3Ryb2tlLWxpbmVqb2luPSJ1bmRlZmluZWQiIGlkPSJzdmdfMiIgeTI9IjE4LjY3MzI4OCIgeDI9IjE3Ljk0MDc3MiIgeTE9IjEuODM0OTA1IiB4MT0iMTcuOTQwNzcyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+DQogIDxsaW5lIHN0cm9rZS1saW5lY2FwPSJ1bmRlZmluZWQiIHN0cm9rZS1saW5lam9pbj0idW5kZWZpbmVkIiBpZD0ic3ZnXzMiIHkyPSIxOC4xMTI5MzQiIHgyPSI4LjA4MjkxNiIgeTE9IjE4LjExMjkzNCIgeDE9IjEuOTM4NzEyIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+DQogIDxsaW5lIHN0cm9rZS1saW5lY2FwPSJ1bmRlZmluZWQiIHN0cm9rZS1saW5lam9pbj0idW5kZWZpbmVkIiBpZD0ic3ZnXzQiIHkyPSIxOC43NzQ5MTQiIHgyPSIyLjY5Njg4NyIgeTE9IjEuOTM2NTMxIiB4MT0iMi42OTY4ODciIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9Im5vbmUiLz4NCiA8L2c+DQo8L3N2Zz4="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(87)),o=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$("<table border='0' cellpadding='0' cellspacing='0' style='display: inline-block;vertical-align: middle' title='乘方'></table>");var t=$("<tbody></tbody>");this.container.append(t);var n=$('<tr><td style="background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="2"></td><td></td></tr>'),i=$('<td style="line-height: normal"></td>');n.append(i),t.append(n),this.exponentContainer=$('<span style="margin-left: -15px"></span>'),i.append(this.exponentContainer),this.exponentInputType=new urule.InputType(null,null,null,this.rule),this.exponentContainer.append(this.exponentInputType.getContainer()),URule.setDomContent(this.exponentInputType.label,"请定义乘方指数"),this.exponentInputType.getContainer().prop("title","乘方指数"),n.append('<td style="background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="2"></td>');var a=$("<tr></tr>");t.append(a);var s=$('<td style="line-height: normal"></td>');a.append(s),a.append('<td style="line-height: normal"></td>'),this.baseContainer=$("<span></span>"),s.append(this.baseContainer),this.baseInputType=new urule.InputType(null,null,null,this.rule),this.baseContainer.append(this.baseInputType.getContainer()),URule.setDomContent(this.baseInputType.label,"请定义乘方底数"),this.baseInputType.getContainer().prop("title","乘方底数")}},{key:"initData",value:function(e){if(e){var t=e.power,n=e.base;this.exponentInputType.setValueType(t.valueType,t),this.baseInputType.setValueType(n.valueType,n)}}},{key:"toXml",value:function(){var e="<power-sign>";return e+="<power>"+this.exponentInputType.toXml()+"</power>",e+="<base>"+this.baseInputType.toXml()+"</base>",e+="</power-sign>"}},{key:"getType",value:function(){return"power"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellpadding="0" cellspacing="0" style=\'display: inline-block;vertical-align: middle\' title="分数"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>"),i=$('<td style="line-height:normal;border-bottom:solid 1px;text-align: center"></td>');n.append(i),t.append(n),this.upContainer=$("<span></span>"),i.append(this.upContainer),this.upInputType=new urule.InputType(null,null,null,this.rule),this.upContainer.append(this.upInputType.getContainer()),URule.setDomContent(this.upInputType.label,"请定义分子"),this.upInputType.getContainer().prop("title","分子");var r=$("<tr></tr>");t.append(r);var o=$('<td style="line-height:normal;;text-align: center"></td>');r.append(o),this.downContainer=$("<span></span>"),o.append(this.downContainer),this.downInputType=new urule.InputType(null,null,null,this.rule),this.downContainer.append(this.downInputType.getContainer()),URule.setDomContent(this.downInputType.label,"请定义分母"),this.downInputType.getContainer().prop("title","分母")}},{key:"initData",value:function(e){if(e){var t=e.numerator,n=e.denominator;this.upInputType.setValueType(t.valueType,t),this.downInputType.setValueType(n.valueType,n)}}},{key:"toXml",value:function(){var e="<fraction-sign>";return e+="<numerator>",e+=this.upInputType.toXml(),e+="</numerator>",e+="<denominator>",e+=this.downInputType.toXml(),e+="</denominator>",e+="</fraction-sign>"}},{key:"getType",value:function(){return"fraction"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(87)),o=l(n(88)),a=l(n(249)),s=l(n(90));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellpadding="0" cellspacing="0" style="display: inline-block;vertical-align: middle" title="求和"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$('<tr><td style="background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="3"></td></tr>');t.append(n);var i=$('<td style="line-height:normal;text-align: center"></td>');n.append(i),this.upContainer=$('<span style="white-space: nowrap"></span>'),i.append(this.upContainer),this.upInputType=new urule.InputType(null,null,null,this.rule),this.upContainer.append(this.upInputType.getContainer()),URule.setDomContent(this.upInputType.label,"请定义求和上标"),this.upInputType.getContainer().prop("title","求和上标"),n.append("<td></td>"),n.append('<td style="background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="3"></td>');var l=$('<tr><td style="background: url('+a.default+') no-repeat;background-size: 100% 100%;line-height: normal;height: 35px"></td></tr>');t.append(l);var c=$("<td></td>");c.data("sigma",!0),l.append(c),this.exprContainer=$("<span></span>"),c.append(this.exprContainer),this.exprInputType=new urule.InputType(null,null,null,this.rule,null),this.exprContainer.append(this.exprInputType.getContainer()),URule.setDomContent(this.exprInputType.label,"请定义求和表达式"),this.exprInputType.getContainer().prop("title","求和表达式");var u=$("<tr></tr>"),f=$('<td style="text-align: center"></td>');u.append(f),t.append(u),this.downContainer=$('<span style="white-space: nowrap"><span><img src="'+s.default+'" style="height: 12px">=</span></span>'),f.append(this.downContainer),this.downInputType=new urule.InputType(null,null,null,this.rule),this.downContainer.append(this.downInputType.getContainer()),URule.setDomContent(this.downInputType.label,"请定义求和下标"),this.downInputType.getContainer().prop("title","求和下标"),u.append("<td></td>")}},{key:"initData",value:function(e){if(e){var t=e.ivalue;this.downInputType.setValueType(t.valueType,t);var n=e.superior;this.upInputType.setValueType(n.valueType,n);var i=e.expr;this.exprInputType.setValueType(i.valueType,i)}}},{key:"toXml",value:function(){var e="<sigma-sign>";return e+="<expr>"+this.exprInputType.toXml()+"</expr>",e+="<ivalue>"+this.downInputType.toXml()+"</ivalue>",e+="<superior>"+this.upInputType.toXml()+"</superior>",e+="</sigma-sign>"}},{key:"getType",value:function(){return"sigma"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(253),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>");t.append(n);var i=$('<td rowspan="2" style="background: url('+a.default+') no-repeat;background-size: 100% 100%;line-height: normal;width: 14px">&nbsp;</td>');n.append(i),n.append('<td style="border-top: solid 1px;line-height: normal;height: 1px;font-size: 0"></td>');var r=$("<tr></tr>");t.append(r);var o=$('<td style="line-height: normal"></td>');r.append(o),this.inputType=new urule.InputType(null,null,null,this.rule),o.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"请定义表达式"),this.inputType.getContainer().prop("title","表达式")}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e="<radical-sign>";return e+=""+this.inputType.toXml(),e+="</radical-sign>"}},{key:"getType",value:function(){return"radical"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(87)),o=s(n(88)),a=s(n(253));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellpadding="0" cellspacing="0" style="vertical-align: middle;margin-top: 2px;display: inline-block"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$('<tr><td style="background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="2"></td></tr>'),i=$('<td style="line-height: normal" rowspan="2"></td>');n.append(i);var s=$("<span></span>");i.append(s),this.powerInputType=new urule.InputType(null,null,null,this.rule),s.append(this.powerInputType.getContainer()),URule.setDomContent(this.powerInputType.label,"请定义指数"),this.powerInputType.getContainer().prop("title","指数"),n.append('<td rowspan="2" style="background: url('+a.default+') no-repeat;background-size: 100% 100%;line-height: normal;width: 14px">&nbsp;</td>'),n.append('<td style="border-top: solid 1px;line-height: normal;height: 1px;font-size: 0"></td>'),n.append('<td style="background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 15px;" rowspan="2"></td>'),t.append(n);var l=$("<tr></tr>");t.append(l);var c=$('<td style="line-height: normal"></td>');l.append(c),this.inputType=new urule.InputType(null,null,null,this.rule),c.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"请定义表达式"),this.inputType.getContainer().prop("title","表达式")}},{key:"initData",value:function(e){if(e){var t=e.value,n=e.power;this.inputType.setValueType(t.valueType,t),this.powerInputType.setValueType(n.valueType,n)}}},{key:"toXml",value:function(){var e="<nradical-sign>";return e+="<power>"+this.powerInputType.toXml()+"</power>",e+="<value>"+this.inputType.toXml()+"</value>",e+="</nradical-sign>"}},{key:"getType",value:function(){return"nradical"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<div style="vertical-align: center;border-left:solid 2px #00BCD4;border-right: solid 2px #00BCD4;display:inline-block" title="绝对值"></div>'),this.inputType=new urule.InputType(null,null,null,this.rule),this.container.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"绝对值")}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e="<absolute-sign>";return e+=this.inputType.toXml(),e+="</absolute-sign>"}},{key:"getType",value:function(){return"absolute"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(o(n(90)),o(n(250)));o(n(87)),o(n(88));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<span title="圆周率"><img src="'+r.default+'" style="height: 16px"></span>')}},{key:"initData",value:function(e){}},{key:"toXml",value:function(){return"<pi-sign></pi-sign>"}},{key:"getContainer",value:function(){return this.container}},{key:"getType",value:function(){return"pi"}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(a(n(252)),a(n(87))),o=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$('<tr><td style="line-height: normal;vertical-align: middle;font-size: 22px;font-weight: bold">ln</td></tr>');t.append(n),n.append('<td style="line-height: normal;background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>');var i=$('<td style="line-height: normal"></td>');n.append(i);var a=$("<span></span>");i.append(a),n.append('<td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>'),this.inputType=new urule.InputType(null,null,null,this.rule),a.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"请定义表达式"),this.inputType.getContainer().prop("title","表达式")}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e="<ln-sign>";return e+=""+this.inputType.toXml(),e+="</ln-sign>"}},{key:"getType",value:function(){return"ln"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(251)),o=s(n(87)),a=s(n(88));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$('<tr><td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 11px;" rowspan="2"></td></tr>');t.append(n);var i=$('<td rowspan="2" style="background: url('+r.default+') no-repeat;background-size: 100% 100%;line-height: normal;width: 22px">&nbsp;</td>');n.append(i);var s=$('<td style="line-height: normal"></td>');n.append(s);var l=$("<span></span>");s.append(l),this.inputType=new urule.InputType(null,null,null,this.rule),l.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"请定义表达式"),this.inputType.getContainer().prop("title","表达式"),n.append('<td style="line-height: normal;background: url('+a.default+') no-repeat;background-size: 100% 100%;width: 11px;" rowspan="2"></td>');var c=$("<tr></tr>");t.append(c);var u=$('<td style="line-height: normal"></td>');c.append(u),this.baseInputType=new urule.InputType(null,null,null,this.rule),u.append(this.baseInputType.getContainer()),URule.setDomContent(this.baseInputType.label,"请定义底数"),this.baseInputType.getContainer().prop("title","底数")}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t);var n=e.baseValue;this.baseInputType.setValueType(n.valueType,n)}}},{key:"toXml",value:function(){var e="<log-sign>";return e+="<real>"+this.inputType.toXml()+"</real>",e+="<base>"+this.baseInputType.toXml()+"</base>",e+="</log-sign>"}},{key:"getType",value:function(){return"log"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(87)),o=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>");t.append(n);var i=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(i),this.nameContainer=$('<span style="font-size: 20px;font-weight: bold"></span>'),i.append(this.nameContainer),n.append('<td style="line-height: normal;background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>');var a=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(a),this.inputType=new urule.InputType(null,null,null,this.rule),a.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"请定义表达式"),this.inputType.getContainer().prop("title","表达式"),n.append('<td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>')}},{key:"setName",value:function(e){this.name=e,this.nameContainer.html(e)}},{key:"initData",value:function(e){if(e){this.setName(e.name);var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e='<triangle name="'+this.name+'">';return e+=""+this.inputType.toXml(),e+="</triangle>"}},{key:"getType",value:function(){return"triangle"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(87)),o=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>");t.append(n);var i=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(i),this.nameContainer=$('<span style="font-size: 20px;font-weight: bold"></span>'),i.append(this.nameContainer),n.append('<td style="line-height: normal;background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>');var a=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(a);var s=$("<span></span>");a.append(s),a.append('<span style="font-size: 12pt;font-weight: bold">,</span>');var l=$("<span></span>");a.append(l),this.inputType1=new urule.InputType(null,null,null,this.rule),s.append(this.inputType1.getContainer()),URule.setDomContent(this.inputType1.label,"表达式1"),this.inputType1.getContainer().prop("title","表达式1"),this.inputType2=new urule.InputType(null,null,null,this.rule),l.append(this.inputType2.getContainer()),URule.setDomContent(this.inputType2.label,"表达式2"),this.inputType2.getContainer().prop("title","表达式2"),n.append('<td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 11px;"></td>')}},{key:"setName",value:function(e){this.name=e,this.nameContainer.html(e)}},{key:"initData",value:function(e){if(e){this.setName(e.name);var t=e.value1,n=e.value2;this.inputType1.setValueType(t.valueType,t),this.inputType2.setValueType(n.valueType,n)}}},{key:"toXml",value:function(){var e='<extremum name="'+this.name+'">';return e+="<value1>"+this.inputType1.toXml()+"</value1>",e+="<value2>"+this.inputType2.toXml()+"</value2>",e+="</extremum>"}},{key:"getType",value:function(){return"extremum"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(297)),o=a(n(298));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>");t.append(n);var i=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(i),this.nameContainer=$('<span style="font-size: 20px;font-weight: bold"></span>'),i.append(this.nameContainer),n.append('<td style="line-height: normal;background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 8px;"></td>');var a=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(a);var s=$("<span></span>");a.append(s),this.inputType=new urule.InputType(null,null,null,this.rule),s.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"向上取整表达式"),this.inputType.getContainer().prop("title","向上取整表达式"),n.append('<td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 8px;"></td>')}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e="<up-round>";return e+=this.inputType.toXml(),e+="</up-round>"}},{key:"getType",value:function(){return"upRound"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5MYXllciAxPC90aXRsZT4NCiAgPHBhdGggaWQ9InN2Z18xIiBkPSJtMTQwLjUsMzEuNDUzMTI1IiBvcGFjaXR5PSIwLjUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9IiNmZmYiLz4NCiA8L2c+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzEzIj4NCiAgIDxsaW5lIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z181IiB5Mj0iMS4zNDY3NzgiIHgyPSIwLjkyNjY1OCIgeTE9IjEuMzQ2Nzc4IiB4MT0iOS4wOTc0NTgiIGZpbGwtb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLW9wYWNpdHk9Im51bGwiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsPSJub25lIi8+DQogICA8bGluZSBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJudWxsIiBzdHJva2UtbGluZWpvaW49Im51bGwiIGlkPSJzdmdfNiIgeTI9IjI0LjU0MDk3NSIgeDI9IjEuNjI2ODU5IiB5MT0iMC42NjMxODkiIHgxPSIxLjYyNjg1OSIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiLz4NCiAgPC9nPg0KIDwvZz4NCjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5MYXllciAxPC90aXRsZT4NCiAgPHBhdGggaWQ9InN2Z18xIiBkPSJtMTQwLjUsMzEuNDUzMTI1IiBvcGFjaXR5PSIwLjUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9IiNmZmYiLz4NCiA8L2c+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGxpbmUgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0ibnVsbCIgc3Ryb2tlLWxpbmVqb2luPSJudWxsIiBpZD0ic3ZnXzUiIHkyPSIxLjM0Njc3OCIgeDI9IjguODAwNjczIiB5MT0iMS4zNDY3NzgiIHgxPSIwLjkwODQ4MiIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0ibnVsbCIgc3Ryb2tlLWxpbmVqb2luPSJudWxsIiBpZD0ic3ZnXzYiIHkyPSIyNC41NDA5NzUiIHgyPSI4LjEyNDM0OCIgeTE9IjAuNjYzMTg5IiB4MT0iOC4xMjQzNDgiIGZpbGwtb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLW9wYWNpdHk9Im51bGwiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsPSJub25lIi8+DQogPC9nPg0KPC9zdmc+"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(300)),o=a(n(301));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"init",value:function(e){this.rule=e,this.container=$('<table border="0" cellspacing="0" cellpadding="0" style="display: inline-block;vertical-align: middle;margin-top: 2px"></table>');var t=$("<tbody></tbody>");this.container.append(t);var n=$("<tr></tr>");t.append(n);var i=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(i),this.nameContainer=$('<span style="font-size: 20px;font-weight: bold"></span>'),i.append(this.nameContainer),n.append('<td style="line-height: normal;background: url('+r.default+') no-repeat;background-size: 100% 100%;width: 8px;"></td>');var a=$('<td style="line-height: normal;vertical-align: middle"></td>');n.append(a);var s=$("<span></span>");a.append(s),this.inputType=new urule.InputType(null,null,null,this.rule),s.append(this.inputType.getContainer()),URule.setDomContent(this.inputType.label,"向下取整表达式"),this.inputType.getContainer().prop("title","向下取整表达式"),n.append('<td style="line-height: normal;background: url('+o.default+') no-repeat;background-size: 100% 100%;width: 8px;"></td>')}},{key:"initData",value:function(e){if(e){var t=e.value;this.inputType.setValueType(t.valueType,t)}}},{key:"toXml",value:function(){var e="<down-round>";return e+=this.inputType.toXml(),e+="</down-round>"}},{key:"getType",value:function(){return"downRound"}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=s},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5MYXllciAxPC90aXRsZT4NCiAgPHBhdGggaWQ9InN2Z18xIiBkPSJtMTQwLjUsMzEuNDUzMTI1IiBvcGFjaXR5PSIwLjUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9IiNmZmYiLz4NCiA8L2c+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzEzIj4NCiAgIDxsaW5lIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z181IiB5Mj0iMjMuNDU0MzAyIiB4Mj0iMC44NDc5MTgiIHkxPSIyMy40NTQzMDIiIHgxPSI5LjAxODcxOCIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiLz4NCiAgIDxsaW5lIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z182IiB5Mj0iMC42MDM5NjgiIHgyPSIxLjU0ODExOSIgeTE9IjI0LjEyNzc1NyIgeDE9IjEuNTQ4MTE5IiBmaWxsLW9wYWNpdHk9Im51bGwiIHN0cm9rZS1vcGFjaXR5PSJudWxsIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQogPC9nPg0KPC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogPCEtLSBDcmVhdGVkIHdpdGggTWV0aG9kIERyYXcgLSBodHRwOi8vZ2l0aHViLmNvbS9kdW9waXhlbC9NZXRob2QtRHJhdy8gLS0+DQogPGc+DQogIDx0aXRsZT5MYXllciAxPC90aXRsZT4NCiAgPHBhdGggaWQ9InN2Z18xIiBkPSJtMTQwLjUsMzEuNDUzMTI1IiBvcGFjaXR5PSIwLjUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2U9IiMwMDAiIGZpbGw9IiNmZmYiLz4NCiA8L2c+DQogPGc+DQogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4NCiAgPGcgc3Ryb2tlPSJudWxsIiBpZD0ic3ZnXzEzIj4NCiAgIDxsaW5lIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z181IiB5Mj0iMjMuMzc1NTYyIiB4Mj0iOS4yNzMxMTQiIHkxPSIyMy4zNzU1NjIiIHgxPSIwLjY3MjI2MyIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiLz4NCiAgIDxsaW5lIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9Im51bGwiIHN0cm9rZS1saW5lam9pbj0ibnVsbCIgaWQ9InN2Z182IiB5Mj0iMC41MjUyMjgiIHgyPSI4LjUzNjA2IiB5MT0iMjQuMDQ5MDE3IiB4MT0iOC41MzYwNiIgZmlsbC1vcGFjaXR5PSJudWxsIiBzdHJva2Utb3BhY2l0eT0ibnVsbCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGZpbGw9Im5vbmUiLz4NCiAgPC9nPg0KIDwvZz4NCjwvc3ZnPg=="},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(26);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Node),i(t,[{key:"getNodeName",value:function(e){switch(e){case"ActionNode":return"action";case"DecisionNode":return"decision";case"ForkNode":return"fork";case"JoinNode":return"join";case"PackageNode":return"rule-package";case"RuleNode":return"rule";case"ScriptNode":return"script";case"StartNode":return"start";default:r.MsgBox.alert("不支持的节点类型["+e+"]")}}},{key:"initFromJson",value:function(e){var n=e.width,i=e.height;parseInt(n)<30&&(e.width=30),parseInt(i)<65&&(e.height=65),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.eventBean=e.eventBean}},{key:"validate",value:function(){var e=null;return!this.name||this.name.length<1?e="节点名不能为空!":(-1===this.in||this.in>0?-1===this.out||this.out>0?0===this.fromConnections.length&&0===this.toConnections.length&&(e=this.name+"节点未和其它节点连接!"):0===this.toConnections.length&&(e=this.name+"节点未和其它节点连接!"):(-1===this.out||this.out>0)&&0===this.fromConnections.length&&(e=this.name+"节点未和其它节点连接!"),e)}},{key:"getFromConnectionsXML",value:function(){var e="",t=!0,n=!1,i=void 0;try{for(var r,o=this.fromConnections[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e+=this.buildConnectionXML(a)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"buildConnectionXML",value:function(e){var t=e.toJSON(),n=t.path,i="",r=0,o=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r>0&&r!==n.length-1&&(""!==i&&(i+=","),i+=parseInt(u[1])+","+parseInt(u[2])),r++}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var f='<connection g="'+i+'" type="'+t.type+'" to="'+t.to+'"';return t.name&&(f+=' name="'+t.name+'"'),f+=">",f+="</connection>"}},{key:"getXMLNodeBaseProps",value:function(e){var t='name="'+e.name+'" ';return t+='x="'+e.x+'" ',t+='y="'+e.y+'" ',t+='width="'+e.w+'" ',t+='height="'+e.h+'" ',this.eventBean&&(t+='event-bean="'+this.eventBean+'"'),t}}]),t}();t.default=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(26);n(358);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Tool),i(t,[{key:"getCommonProperties",value:function(e){var t=$('<div class="form-group" title="一个实现了com.bstek.urule.model.flow.NodeEvent接口配置在Spring中bean的id，一旦配置在流程进入及离开该节点时会触发这个实现类"><label>事件Bean</label></div>'),n=$('<input type="text" class="form-control">');return n.change(function(){e.eventBean=$(this).val(),window._setDirty()}),n.val(e.eventBean),t.append(n),t}},{key:"buildScriptLintFunction",value:function(e){return function(t,n,i,r){if(""!==t){var o=window._server+"/common/scriptValidation";$.ajax({url:o,data:{type:e,content:t},type:"POST",success:function(e){if(e){var t=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;l.from={line:l.line-1},l.to={line:l.line-1}}}catch(e){i=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(i)throw o}}n(r,e)}else n(r,[])},error:function(){alert("语法检查操作失败！")}})}else n(r,[])}}}]),t}();t.default=o},,,,,,,,,,function(e,t,n){"use strict";var i=n(26),r=n(4);urule.Join=function(e){this.type="and",this.context=e,this.H=30,this.W=60,this.children=[],this.joinContainer=$("<span class='btn btn-default dropdown-toggle rule-join-container'>"),this.joinLabel=$("<span style='font-size: 11pt'>并且</span>"),this.joinContainer.append(this.joinLabel)},urule.Join.prototype.initData=function(e){var t=e.criterions;if(this.setType(e.junctionType),t)for(var n=0;n<t.length;n++){var i=t[n],r=!1;i.junctionType&&(r=!0),i.variableCategory&&(r="named");var o=this.addItem(r,i.template);r?o.getJoin().initData(i):o.getCondition().initData(i)}},urule.Join.prototype.setType=function(e){this.type=e,"or"==e?URule.setDomContent(this.joinLabel,"或者"):URule.setDomContent(this.joinLabel,"并且"),window._setDirty()},urule.Join.prototype.init=function(e){e&&(this.parentConnection=e,this.parent=e.getParentJoin());var t=$('<i class="glyphicon glyphicon-chevron-down rule-join-node"></i>'),n=this,r={menuItems:[{label:"并且",onClick:function(){n.setType("and")}},{label:"或者",onClick:function(){n.setType("or")}},{label:"添加条件",onClick:function(){n.addItem(!1)}}]};this.context.simpleCondition||r.menuItems.push({label:"添加联合条件",onClick:function(){n.addItem(!0)}}),window._template||this.context.simpleCondition||r.menuItems.push({label:"添加条件模版",onClick:function(){n.addItem(!1,!0)}}),this.context.simpleCondition||(r.menuItems.push({label:"复制条件",onClick:function(){n.doCopy()}}),r.menuItems.push({label:"粘贴条件",onClick:function(){n.doPaste()}}),r.menuItems.push({label:"删除",onClick:function(){if(n.children.length>0)i.MsgBox.alert("请先删除当前连接下子元素！");else if(e){var t=e.getParentJoin();t&&t.removeConnection(e)}}})),n.menu=new URule.menu.Menu(r),this.joinContainer.click(function(e){n.menu.show(e)}),this.joinContainer.append(t)},urule.Join.prototype.doPaste=function(){var e=this;try{$.ajax({type:"POST",data:{type:"condition"},url:window._server+"/common/loadRuleData",success:function(t){t?t.junctionType?e.initData(t):e.addItem(!1).getCondition().initData(t):bootbox.alert("当前没有条件可供粘贴！")},error:function(e){(0,r.handleError)(e)}})}catch(e){bootbox.alert(e)}},urule.Join.prototype.doCopy=function(){try{var e=this.toXml();$.ajax({type:"POST",data:{type:"condition",xml:e},url:window._server+"/common/parseRuleData",success:function(){},error:function(e){(0,r.handleError)(e)}})}catch(e){bootbox.alert(e)}},urule.Join.prototype.removeConnection=function(e){var t=this.children.indexOf(e);this.children.length>1&&this.resetItemPosition(t+1,!1),e.remove(),this.children.splice(t,1),this.resetContainerSize(),window._setDirty()},urule.Join.prototype.addItem=function(e,t){window._setDirty();var n=this.getChildrenCount();if(n>0&&this.parent){var i=this.parent.getChildren().indexOf(this.parentConnection);this.parent.resetItemPosition(i+1,!0)}var r=n*this.H,o=parseInt(this.joinContainer.css("left")),a=parseInt(this.joinContainer.css("top")),s=o+this.W/2,l=a+this.H/5,c=s+this.W-25,u=l+r;e&&(u-=5);var f=new urule.Connection(this.context,e,this,t);return f.drawPath(s,l,c,u),this.children.push(f),this.resetContainerSize(),f},urule.Join.prototype.toXml=function(){for(var e="<"+this.type+">",t=0;t<this.children.length;t++){e+=this.children[t].toXml()}return e+="</"+this.type+">"},urule.Join.prototype.resetItemPosition=function(e,t){if(-1!=e){for(var n=e;n<this.children.length;n++){var i=this.children[n],r=this.H;t||(r=-this.H),i.setEndY(i.getEndY()+r),0==e&&i.setStartY(i.getStartY()+r),i.update(t)}if(e>0&&this.parent){var o=this.parent.getChildren().indexOf(this.parentConnection);this.parentConnection.getParentJoin().resetItemPosition(o+1,t)}window._setDirty()}},urule.Join.prototype.resetContainerSize=function(){var e=this.context.getCanvas(),t=e.css("height");t=parseInt(t);var n=this.context.getTotalChildrenCount();0==n&&(n=1);var i=n*this.H+10;e.css({height:i+"px"})},urule.Join.prototype.getChildrenCount=function(){for(var e=0,t=0;t<this.children.length;t++){var n=this.children[t].getJoin();if(n){var i=n.getChildrenCount();0==i&&(i=1),e+=i}else e++}return e},urule.Join.prototype.initTopJoin=function(e){this.joinContainer.css({position:"absolute",left:5,top:5}),e.append(this.joinContainer),this.context.setRootJoin(this)},urule.Join.prototype.getDisplayContainer=function(){if(0==this.children.length)return null;for(var e=$("<span>"),t=0;t<this.children.length;t++){var n=this.children[t].getDisplayContainer();n&&(t>0&&("or"==this.type?e.append($("<span style='color:green'>&nbsp或&nbsp</span>")):e.append($("<span style='color:red'>&nbsp并且&nbsp</span>"))),e.append(n))}return e},urule.Join.prototype.getChildren=function(){return this.children},urule.Join.prototype.getContainer=function(){return this.joinContainer}},function(e,t,n){"use strict";var i=n(26),r=n(4);urule.Connection=function(e,t,n,i){this.isJoin=t,this.context=e,this.parentJoin=n,this.isTemplate=i,this.id=(0,r.generateId)()},urule.Connection.prototype.drawPath=function(e,t,n,i){this.startX=e,this.endX=n,this.isJoin?(this.startY=t-3,this.endY=i+2):(this.startY=t-3,this.endY=i-3),this.path=this.context.getPaper().path(this.buildPathInfo()),this.path.attr({stroke:"#777"}),this.isJoin?this.initJoin(this.isJoin):this.initCondition()},urule.Connection.prototype.toXml=function(){return this.isJoin?this.join.toXml():this.condition.toXml()},urule.Connection.prototype.initJoin=function(e){this.join=new urule.Join(this.context),this.join.init(this);var t=this.join.getContainer(),n=this.endX+10+"px",i=this.endY+"px";t.css({position:"absolute",left:n,top:i}),this.context.getCanvas().append(t)},urule.Connection.prototype.remove=function(){this.path.remove(),this.join?this.join.getContainer().remove():this.conditionContainer.remove(),window._setDirty()},urule.Connection.prototype.initCondition=function(){this.conditionContainer=$("<div style='white-space: nowrap'>");var e=this.endX+10+"px";this.isTemplate&&(e=this.endX+15+"px");var t=this.endY+"px";this.conditionContainer.css({position:"absolute",left:e,top:t}),this.condition=new urule.Condition(this.conditionContainer,this.parentJoin,this.isTemplate);var n=$('<i class="glyphicon glyphicon-trash rule-condition-delete"></i>'),r=this;n.click(function(){i.MsgBox.confirm("真的要删除当前条件？",function(){r.parentJoin.removeConnection(r)})}),this.conditionContainer.append(n),this.context.getCanvas().append(this.conditionContainer)},urule.Connection.prototype.update=function(e){var t=this.buildPathInfo();if(this.path.attr("path",t),null===e){var n=this.endX+10+"px";this.conditionContainer?this.conditionContainer.css({left:n}):this.join.getContainer().css({left:n})}else{var i=this.endY+"px";this.conditionContainer?this.conditionContainer.css({top:i}):this.join.getContainer().css({top:i})}this.join&&this.join.resetItemPosition(0,e)},urule.Connection.prototype.move=function(e){var t=this.parentJoin.children,n=t.indexOf(this),i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(n>0&&(o=t[i=n-1]),n<t.length-1&&(a=t[r=n+1]),e?(s=o,i):(s=a,r),s)if(this.join||s.join)bootbox.alert("条件移动只能在普通条件间进行！");else{var l=this.condition,c=s.condition;this.conditionContainer.prepend(s.condition.container),s.conditionContainer.prepend(this.condition.container),this.condition=c,s.condition=l,window._setDirty()}else e?bootbox.alert("当前条件已处于顶部，不能进行上移操作！"):bootbox.alert("当前条件已处于底部，不能进行下移操作！")},urule.Connection.prototype.getDisplayContainer=function(){return this.join?this.join.getDisplayContainer():this.condition.getDisplayContainer()},urule.Connection.prototype.getParentJoin=function(){return this.parentJoin},urule.Connection.prototype.getCondition=function(){return this.condition},urule.Connection.prototype.getJoin=function(){return this.join},urule.Connection.prototype.getStartX=function(){return this.startX},urule.Connection.prototype.getStartY=function(){return this.startY},urule.Connection.prototype.getEndX=function(){return this.endX},urule.Connection.prototype.getEndY=function(){return this.endY},urule.Connection.prototype.setStartX=function(e){this.startX=e},urule.Connection.prototype.setStartY=function(e){this.startY=e},urule.Connection.prototype.setEndX=function(e){this.endX=e},urule.Connection.prototype.setEndY=function(e){this.endY=e},urule.Connection.prototype.buildPathInfo=function(){return"M"+(this.startX+10)+","+(this.startY+8)+" C"+(this.startX+10)+","+(this.endY+8)+","+(this.startX+10)+","+(this.endY+8)+","+(this.endX+10)+","+(this.endY+8)}},function(e,t,n){"use strict";var i,r=n(4),o=n(325),a=(i=o)&&i.__esModule?i:{default:i};urule.Condition=function(e,t,n){this.container=$("<condition></condition>"),e.append(this.container),this.parentJoin=t,this.isTemplate=n,n?this.initTemplate():this.initCondition()},urule.Condition.prototype.initTemplate=function(){this.conditionTemplate=new urule.ConditionTemplateValue,this.container.append(this.conditionTemplate.container),this.initContextMenu()},urule.Condition.prototype.initCondition=function(){this.arithmetic=new urule.ComplexArithmetic,this.label=generateContainer(),this.container.append(this.label),this.label.css({color:"blue",padding:"0px"}),URule.setDomContent(this.label,"请选择类型"),this.valueContainer=$("<span>"),this.container.append(this.valueContainer),this.initContextMenu(),this.initMenu()},urule.Condition.prototype.initContextMenu=function(){var e=this,t=function(t){for(var n=e.parentJoin.children,i=0,o=void 0;i<n.length;i++){var a=n[i];if(a.condition===e){o=a;break}}if("up"===t.name)o.move(!0);else if("down"===t.name)o.move(!1);else try{var s=e.toXml();s="<list>"+s+"</list>",$.ajax({type:"POST",data:{type:"condition",xml:s},url:window._server+"/common/parseRuleData",success:function(){},error:function(e){(0,r.handleError)(e)}})}catch(e){bootbox.alert(e)}};e.contextmenu=new URule.menu.Menu({menuItems:[{label:"条件上移",name:"up",onClick:t},{label:"条件下移",name:"down",onClick:t}]}),this.isTemplate||e.contextmenu.menuItems.push({label:"复制",name:"copy",onClick:t}),this.container.contextmenu(function(t){e.contextmenu.show(t)})},urule.Condition.prototype.initMenu=function(e){var t=this;t.menu=new URule.menu.Menu({menuItems:[{label:"选择变量",onClick:function(){t.type="variable",t.parameterValue&&t.parameterValue.getContainer().hide(),t.functionValue&&t.functionValue.getContainer().hide(),t.methodValue&&t.methodValue.getContainer().hide(),t.accumulate&&t.accumulate.getContainer().hide(),t.variableValue?t.variableValue.getContainer().show():(t.variableValue=new urule.VariableValue(t.arithmetic,null,"In",null,!1),t.valueContainer.append(t.variableValue.getContainer())),t.operator?(t.operator.getContainer().show(),t.operator.getInputType()&&t.operator.getInputType().getContainer().show()):(t.operator=new urule.ComparisonOperator(function(){t.inputType=t.operator.getInputType(),t.inputType&&t.container.append(t.inputType.getContainer())},t.parentJoin),t.container.append(t.operator.getContainer())),t.label.css("color","white"),URule.setDomContent(t.label,"."),window._setDirty()}},{label:"选择参数",onClick:function(){t.type="parameter",t.variableValue&&t.variableValue.getContainer().hide(),t.methodValue&&t.methodValue.getContainer().hide(),t.functionValue&&t.functionValue.getContainer().hide(),t.accumulate&&t.accumulate.getContainer().hide(),t.parameterValue?t.parameterValue.getContainer().show():(t.parameterValue=new urule.ParameterValue(t.arithmetic,null,"In"),t.valueContainer.append(t.parameterValue.getContainer())),t.operator?(t.operator.getContainer().show(),t.operator.getInputType()&&t.operator.getInputType().getContainer().show()):(t.operator=new urule.ComparisonOperator(function(){t.inputType=t.operator.getInputType(),t.inputType&&t.container.append(t.inputType.getContainer())}),t.container.append(t.operator.getContainer())),t.label.css("color","white"),URule.setDomContent(t.label,".")}},{label:"选择方法",onClick:function(){t.type="method",t.variableValue&&t.variableValue.getContainer().hide(),t.parameterValue&&t.parameterValue.getContainer().hide(),t.functionValue&&t.functionValue.getContainer().hide(),t.accumulate&&t.accumulate.getContainer().hide(),t.methodValue?t.methodValue.getContainer().show():(t.methodValue=new urule.MethodValue(t.arithmetic,null),t.valueContainer.append(t.methodValue.getContainer())),t.operator?(t.operator.getContainer().show(),t.operator.getInputType()&&t.operator.getInputType().getContainer().show()):(t.operator=new urule.ComparisonOperator(function(){t.inputType=t.operator.getInputType(),t.inputType&&t.container.append(t.inputType.getContainer())}),t.container.append(t.operator.getContainer())),t.label.css("color","white"),URule.setDomContent(t.label,".")}},{label:"选择函数",onClick:function(){t.type="commonfunction",t.variableValue&&t.variableValue.getContainer().hide(),t.parameterValue&&t.parameterValue.getContainer().hide(),t.methodValue&&t.methodValue.getContainer().hide(),t.accumulate&&t.accumulate.getContainer().hide(),t.functionValue?t.functionValue.getContainer().show():(t.functionValue=new urule.FunctionValue(t.arithmetic,null,"In"),t.valueContainer.append(t.functionValue.getContainer())),t.operator?(t.operator.getContainer().show(),t.operator.getInputType()&&t.operator.getInputType().getContainer().show()):(t.operator=new urule.ComparisonOperator(function(){t.inputType=t.operator.getInputType(),t.inputType&&t.container.append(t.inputType.getContainer())}),t.container.append(t.operator.getContainer())),t.label.css("color","white"),URule.setDomContent(t.label,".")}},{label:"选择集合",onClick:function(){t.type="operatecollection",t.variableValue&&t.variableValue.getContainer().hide(),t.parameterValue&&t.parameterValue.getContainer().hide(),t.methodValue&&t.methodValue.getContainer().hide(),t.functionValue&&t.functionValue.getContainer().hide(),t.operator&&(t.operator.getContainer().hide(),t.operator.getInputType()&&t.operator.getInputType().getContainer().hide()),t.accumulate?t.accumulate.getContainer().show():(t.accumulate=new a.default,t.container.append(t.accumulate.getContainer())),t.label.css("color","white"),URule.setDomContent(t.label,".")}}]}),this.label.click(function(e){t.menu.show(e)})},urule.Condition.prototype.initData=function(e){if(this.isTemplate)this.conditionTemplate.setValue(e);else{this.label.css("color","white"),URule.setDomContent(this.label,".");var t=e.left,n=t.leftPart;if(n.arithmetic=t.arithmetic,this.type=t.type,this.type||(this.type="variable"),"parameter"==this.type?(this.variableValue&&this.variableValue.getContainer().hide(),this.methodValue&&this.methodValue.getContainer().hide(),this.functionValue&&this.functionValue.getContainer().hide(),this.accumulate&&this.accumulate.getContainer().hide(),this.parameterValue=new urule.ParameterValue(this.arithmetic,n,"In"),this.valueContainer.append(this.parameterValue.getContainer())):"variable"==this.type?(this.parameterValue&&this.parameterValue.getContainer().hide(),this.methodValue&&this.methodValue.getContainer().hide(),this.functionValue&&this.functionValue.getContainer().hide(),this.accumulate&&this.accumulate.getContainer().hide(),this.variableValue=new urule.VariableValue(this.arithmetic,n,"In",null,!1),this.valueContainer.append(this.variableValue.getContainer())):"method"==this.type?(this.parameterValue&&this.parameterValue.getContainer().hide(),this.variableValue&&this.variableValue.getContainer().hide(),this.functionValue&&this.functionValue.getContainer().hide(),this.accumulate&&this.accumulate.getContainer().hide(),this.methodValue=new urule.MethodValue(this.arithmetic,n),this.valueContainer.append(this.methodValue.getContainer())):"commonfunction"==this.type?(this.parameterValue&&this.parameterValue.getContainer().hide(),this.variableValue&&this.variableValue.getContainer().hide(),this.methodValue&&this.methodValue.getContainer().hide(),this.accumulate&&this.accumulate.getContainer().hide(),this.functionValue=new urule.FunctionValue(this.arithmetic,n),this.valueContainer.append(this.functionValue.getContainer())):"operatecollection"===this.type&&(this.parameterValue&&this.parameterValue.getContainer().hide(),this.variableValue&&this.variableValue.getContainer().hide(),this.methodValue&&this.methodValue.getContainer().hide(),this.functionValue&&this.functionValue.getContainer().hide(),this.operator&&(this.operator.getContainer().hide(),this.operator.getInputType()&&this.operator.getInputType().getContainer().hide()),this.accumulate=new a.default,this.valueContainer.append(this.accumulate.getContainer())),"operatecollection"===this.type)this.accumulate.initData(n);else{if(this.operator)this.operator.getContainer().show();else{var i=this;this.operator=new urule.ComparisonOperator(function(){i.inputType=i.operator.getInputType(),i.inputType&&i.container.append(i.inputType.getContainer())},this.parentJoin),this.container.append(this.operator.getContainer())}var r=e.op;this.operator.setOperator(r),this.operator.initRightValue(e.value),this.inputType=this.operator.getInputType(),this.inputType&&this.container.append(this.inputType.getContainer())}}},urule.Condition.prototype.toXml=function(){if(this.isTemplate)return this.conditionTemplate.toXml();if(!this.operator&&"operatecollection"!==this.type)throw"条件需要配置完整";var e="<atom";if("operatecollection"!==this.type?e+=' op="'+this.operator.getOperator()+'">':e+=">",e+="<left ","variable"==this.type?e+=this.variableValue.toXml():"parameter"==this.type?e+=this.parameterValue.toXml():"method"==this.type?e+=this.methodValue.toXml():"commonfunction"==this.type&&(e+=this.functionValue.toXml()),e+=' type="'+this.type+'">',"method"==this.type)for(var t=this.methodValue.action.parameters,n=0;n<t.length;n++){e+=t[n].toXml()}else"commonfunction"==this.type?e+=this.functionValue.getParameter().toXml():"operatecollection"===this.type&&(e+=this.accumulate.toXml());return e+=this.arithmetic.toXml(),e+="</left>",this.inputType&&(e+=this.inputType.toXml()),e+="</atom>"},urule.Condition.prototype.getDisplayContainer=function(){var e=$("<span></span>");"variable"==this.type?e.append(this.variableValue.getDisplayContainer()):"parameter"==this.type?e.append(this.parameterValue.getDisplayContainer()):"method"==this.type?e.append(this.methodValue.getDisplayContainer()):"commonfunction"==this.type&&e.append(this.functionValue.getDisplayContainer());var t=URule.getDomContent(this.operator.getContainer());return e.append($("<span style='color:blue;margin-left: 2px;margin-right: 2px'>"+t+"</span>")),this.inputType&&e.append(this.inputType.getDisplayContainer()),e},urule.Condition.prototype.getVariableValue=function(){return this.variableValue},urule.Condition.prototype.getOperator=function(){return this.operator},urule.Condition.prototype.getInputType=function(){return this.inputType}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(326)),o=l(n(327)),a=n(26),s=l(n(329));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.conditionItems=[],this.calculateItems=[],this.container=$("<span></span>");var t=$("<span></span>");this.container.append(t),this.initLoopTargetType(t);var n=$("<span></span>");this.container.append(n),this.initLoopTarget(n);var i=$("<span><span>条件</span></span>");this.container.append(i),this.initConditionUnits(i);var r=$("<span><span>计算项</span></span>");this.container.append(r),this.initCalculateItems(r);var o=$("<span><span>循环条件：</span></span>");this.container.append(o),this.initConditions(o)}return i(e,[{key:"initConditions",value:function(e){this.loopConditionNoneContainer=$('<span style="color: #5F5F5F;font-style: italic">无</span>'),e.append(this.loopConditionNoneContainer),this.conditionTextContainer=$("<span></span>"),e.append(this.conditionTextContainer);var t=$('<button class="btn btn-link" title="配置条件" style="padding: 0px 2px;margin-left: 5px;margin-right: 5px"><i class="glyphicon glyphicon-cog"></button>');e.append(t);var n=this;t.click(function(){var e=$("<div/>");n.conditionRender||(n.conditionRender=new s.default("<div/>")),n.conditionRender.renderTo(e),a.MsgBox.showDialog("配置条件",e,[],[{name:"hide.bs.modal",callback:function(){n.loopConditionNoneContainer.hide(),n.conditionTextContainer.empty(),n.conditionTextContainer.append(n.conditionRender.getDisplayContainer())}}],!0)})}},{key:"initCalculateItems",value:function(e){this.calculateNoneContainer=$('<span style="color: #5F5F5F;font-style: italic">无</span>'),e.append(this.calculateNoneContainer),this.calculateItemContainer=$("<span></span>"),e.append(this.calculateItemContainer);var t=$('<button class="btn btn-link" title="添加计算项" style="padding: 0px 2px;margin-left: 5px;margin-right: 5px"><i class="glyphicon glyphicon-plus-sign"></button>');e.append(t),e.append("；");var n=this;t.click(function(){n.addCalculateItem()})}},{key:"addCalculateItem",value:function(){var e=this,t=new o.default(function(){var n=e.calculateItems.indexOf(t);e.calculateItems.splice(n,1),0===e.calculateItems.length&&e.calculateNoneContainer.show()},e);return this.calculateNoneContainer.hide(),this.calculateItems.push(t),this.calculateItemContainer.append(t.container),t}},{key:"initConditionUnits",value:function(e){this.conditionNoneContainer=$('<span style="color: #5F5F5F;font-style: italic">无</span>'),e.append(this.conditionNoneContainer),this.conditionItemContainer=$("<span></span>"),e.append(this.conditionItemContainer);var t=$('<button class="btn btn-link" title="添加条件项" style="padding: 0px 2px;margin-left: 5px;margin-right: 5px"><i class="glyphicon glyphicon-plus-sign"></button>');e.append(t),e.append("；");var n=this;t.click(function(){n.addConditionItem()})}},{key:"addConditionItem",value:function(){var e=this,t=new r.default(function(){var n=e.conditionItems.indexOf(t);e.conditionItems.splice(n,1),0===e.conditionItems.length&&e.conditionNoneContainer.show()},e);return this.conditionNoneContainer.hide(),this.conditionItems.push(t),this.conditionItemContainer.append(t.container),t}},{key:"initLoopTarget",value:function(e){this.loopTargetInputType=new urule.InputType,e.append(this.loopTargetInputType.getContainer()),this.loopTargetInputType.getContainer().hide(),this.loopTargetVariableData=new urule.VariableData,e.append(this.loopTargetVariableData.getContainer()),this.loopTargetVariableData.getContainer().hide()}},{key:"initLoopTargetType",value:function(e){this.loopTargetTypeLabel=generateContainer(),e.append(this.loopTargetTypeLabel),URule.setDomContent(this.loopTargetTypeLabel,"请选择循环对象类型"),this.loopTargetTypeLabel.css({color:"gray"});var t=this,n=function(e){t.setLoopTargetType(e.name)};this.loopTargetTypeMenu=new URule.menu.Menu({menuItems:[{label:"指定的集合对象",name:"list",onClick:n},{label:"指定类型的所有变量对象",name:"variable",onClick:n}]}),this.loopTargetTypeLabel.click(function(e){t.loopTargetTypeMenu.show(e)})}},{key:"setLoopTargetType",value:function(e){this.loopTargetType=e,this.loopTargetTypeLabel.css({color:"#494949","font-style":"italic"}),"list"===e?(URule.setDomContent(this.loopTargetTypeLabel,"集合对象"),this.loopTargetInputType.getContainer().show(),this.loopTargetVariableData.getContainer().hide()):"variable"===e&&(URule.setDomContent(this.loopTargetTypeLabel,"指定类型的所有变量对象"),this.loopTargetVariableData.getContainer().show(),this.loopTargetInputType.getContainer().hide())}},{key:"initData",value:function(e){this.setLoopTargetType(e.loopTargetType);var t=e.loopTarget.value;"list"===e.loopTargetType?this.loopTargetInputType.setValueType(t.valueType,t):this.loopTargetVariableData.initData(t);var n=e.conditionItems||[],i=!0,r=!1,o=void 0;try{for(var a,l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;this.addConditionItem().initData(c)}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}var u=e.calculateItems||[],f=!0,d=!1,h=void 0;try{for(var p,g=u[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;this.addCalculateItem().initData(y)}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}e.junction&&(this.conditionRender||(this.conditionRender=new s.default("<div/>")),this.conditionRender.initData(e.junction),this.conditionTextContainer.empty(),this.loopConditionNoneContainer.hide(),this.conditionTextContainer.append(this.conditionRender.getDisplayContainer()))}},{key:"toXml",value:function(){if(this.loopTargetType){var e='<accumulate target-type="'+this.loopTargetType+'">';"list"===this.loopTargetType?e+=this.loopTargetInputType.toXml():e+=this.loopTargetVariableData.toXml();var t=!0,n=!1,i=void 0;try{for(var r,o=this.conditionItems[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){e+=r.value.toXml()}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var c,u=this.calculateItems[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){e+=c.value.toXml()}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return this.conditionRender&&(e+=this.conditionRender.toXml()),e+="</accumulate>"}bootbox.alert("请先选择循环对象")}},{key:"getContainer",value:function(){return this.container}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.removeCallback=t,this.accumulate=n,this.container=$('<span><span style="font-weight: bold;margin-left: 2px">[</span></span>'),this.initLeft(),this.initOperator(),this.initRight(),this.initRemove(),this.container.append('<span style="font-weight: bold">]</span>')}return i(e,[{key:"initRemove",value:function(){var e=$('<span title="删除" style="padding: 0px 2px;color: red;cursor: pointer;"><i class="glyphicon glyphicon-remove-sign"></i></button>');this.container.append(e);var t=this;e.click(function(){bootbox.confirm("真的要删除当前条件项？",function(e){e&&(t.container.remove(),t.removeCallback(),window._setDirty())})})}},{key:"initRight",value:function(){var e=$("<span></span>");this.container.append(e),this.inputType=new urule.InputType,e.append(this.inputType.getContainer())}},{key:"setLeft",value:function(e){this.left=e;var t="合计值";"avg"===e?t="平均值":"max"===e?t="最大值":"min"===e?t="最小值":"count"===e&&(t="子对象数量"),URule.setDomContent(this.leftContainer,t)}},{key:"initLeft",value:function(){this.leftContainer=generateContainer(),this.container.append(this.leftContainer),this.leftContainer.css({color:"#0078ef"}),URule.setDomContent(this.leftContainer,"请选择比较对象");var e=this,t=function(t){e.setLeft(t.name),window._setDirty()};this.leftMenu=new URule.menu.Menu({menuItems:[{label:"合计值",name:"sum",onClick:t},{label:"平均值",name:"avg",onClick:t},{label:"最大值",name:"max",onClick:t},{label:"最小值",name:"min",onClick:t},{label:"子对象数量",name:"count",onClick:t}]}),this.leftContainer.click(function(t){e.leftMenu.show(t)})}},{key:"initOperator",value:function(){this.operatorContainer=generateContainer(),this.container.append(this.operatorContainer),URule.setDomContent(this.operatorContainer,"请选择比较操作符"),this.operatorContainer.css({"font-size":"12px",color:"red",fontWeight:"bold","margin-right":"1px"});var e=this,t=function(t){e.setOp(t.name),window._setDirty()};this.menu=new URule.menu.Menu({menuItems:[{label:"大于",name:"GreaterThen",onClick:t},{label:"大于等于",name:"GreaterThenEquals",onClick:t},{label:"小于",name:"LessThen",onClick:t},{label:"小于等于",name:"LessThenEquals",onClick:t},{label:"等于",name:"Equals",onClick:t},{label:"不等于",name:"NotEquals",onClick:t}]}),this.operatorContainer.click(function(t){e.menu.show(t)})}},{key:"setOp",value:function(e){this.op=e;var t="等于";"GreaterThen"===e?t="大于":"GreaterThenEquals"===e?t="大于等于":"LessThen"===e?t="小于":"LessThenEquals"===e?t="小于等于":"NotEquals"===e&&(t="不等于"),URule.setDomContent(this.operatorContainer,t)}},{key:"initData",value:function(e){this.setLeft(e.left),this.setOp(e.op);var t=e.value;this.inputType.setValueType(t.valueType,t)}},{key:"toXml",value:function(){if(this.left&&this.op){var e='<condition left="'+this.left+'" op="'+this.op+'">';return e+=this.inputType.toXml(),e+="</condition>"}bootbox.alert("条件需要定义完整！")}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(328),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.removeCallback=t,this.accumulate=n,this.enableAssignment=!1,this.container=$('<span><span style="font-weight: bold;margin-left: 2px">[</span></span>'),this.init(),this.initAssignment(),this.initRemove(),this.container.append('<span style="font-weight: bold">]</span>')}return r(e,[{key:"initAssignment",value:function(){var e=$("<span></span>");this.container.append(e),this.assignmentCheckbox=$('<input type="checkbox" title="允许/禁用赋值" style="margin: 0px 2px;vertical-align: middle">'),e.append(this.assignmentCheckbox),this.assignmentBundle=new a.default,e.append(this.assignmentBundle.container);var t=this;this.assignmentCheckbox.change(function(){window._setDirty(),t.enableAssignment=$(this).prop("checked"),t.enableAssignment?t.assignmentBundle.container.show():t.assignmentBundle.container.hide()}),this.assignmentBundle.container.hide()}},{key:"setCalculateType",value:function(e){var t="合计值";"avg"===e?t="平均值":"max"===e?t="最大值":"min"===e?t="最小值":"count"===e?t="子对象数量":"collect"===e&&(t="收集子对象");var n=!1,i=!0,r=!1,o=void 0;try{for(var a,s=this.accumulate.calculateItems[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(a.value.calculateType===e){n=!0;break}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}n?bootbox.alert("聚合方式【"+t+"】已存在，不能重复添加"):(this.calculateType=e,URule.setDomContent(this.opContainer,t),"count"===e||"collect"===e?this.valueContainer.hide():this.valueContainer.show())}},{key:"init",value:function(){this.opContainer=generateContainer(),this.container.append(this.opContainer),this.opContainer.css({color:"#0078ef"}),URule.setDomContent(this.opContainer,"请选择聚合方式"),this.valueContainer=$("<span>(</span>"),this.container.append(this.valueContainer),this.inputType=new urule.InputType,this.valueContainer.append(this.inputType.getContainer()),this.valueContainer.append(")");var e=this,t=function(t){e.setCalculateType(t.name),window._setDirty()};this.menu=new URule.menu.Menu({menuItems:[{label:"合计值",name:"sum",onClick:t},{label:"平均值",name:"avg",onClick:t},{label:"最大值",name:"max",onClick:t},{label:"最小值",name:"min",onClick:t},{label:"子对象数量统计",name:"count",onClick:t},{label:"收集子对象",name:"collect",onClick:t}]}),this.opContainer.click(function(t){e.menu.show(t)})}},{key:"initData",value:function(e){if(this.setCalculateType(e.type),"count"!==e.type&&"collect"!==e.type){var t=e.value;this.inputType.setValueType(t.valueType,t)}e.enableAssignment&&(this.enableAssignment=!0,this.assignmentCheckbox.prop("checked",!0),this.assignmentBundle.container.show(),this.assignmentBundle.initData(e))}},{key:"initRemove",value:function(){var e=this,t=$('<span title="删除" style="padding: 0px 2px;color: red;cursor: pointer;"><i class="glyphicon glyphicon-remove-sign"></i></button>');this.container.append(t),t.click(function(){bootbox.confirm("真的要删除当前计算项？",function(t){t&&(e.container.remove(),e.removeCallback(),window._setDirty())})})}},{key:"toXml",value:function(){if(this.calculateType){var e='<calculate type="'+this.calculateType+'" enable-assignment="'+this.enableAssignment+'"';return this.enableAssignment&&(e+=this.assignmentBundle.toXml()),e+=">","count"!==this.calculateType&&"collect"!==this.calculateType&&(e+=this.inputType.toXml()),e+="</calculate>"}bootbox.alert("聚合方式不能为空！")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=$('<span><span style="color: #747474;">赋给</span></span>'),this.assignTargetContainer=generateContainer(),this.container.append(this.assignTargetContainer),this.assignTargetContainer.css({color:"#2196F3"}),this.init()}return i(e,[{key:"init",value:function(){this.variableTarget=new urule.VariableValue(null,null,"Out"),this.parameterTarget=new urule.ParameterValue(null,null,"Out"),this.variableTarget.getContainer().hide(),this.parameterTarget.getContainer().hide(),this.container.append(this.variableTarget.getContainer()),this.container.append(this.parameterTarget.getContainer());var e=this;e.menu=new URule.menu.Menu({menuItems:[{label:"选择变量",onClick:function(){e.parameterTarget.getContainer().hide(),e.variableTarget.getContainer().show(),e.assignTargetType="variable",URule.setDomContent(e.assignTargetContainer,""),e.assignTargetContainer.css({color:"white"})}},{label:"选择参数",onClick:function(){e.variableTarget.getContainer().hide(),e.parameterTarget.getContainer().show(),e.assignTargetType="parameter",URule.setDomContent(e.assignTargetContainer,""),e.assignTargetContainer.css({color:"white"})}}]}),this.assignTargetContainer.click(function(t){e.menu.show(t)});URule.setDomContent(this.assignTargetContainer,"选择...")}},{key:"initData",value:function(e){if(e){var t={variableCategory:e.assignVariableCategory,variableName:e.assignVariable,variableLabel:e.assignVariableLabel,datatype:e.assignDatatype,keyLabel:e.keyLabel,keyName:e.keyName};"variable"===e.assignTargetType?(this.variableTarget.getContainer().show(),this.parameterTarget.getContainer().hide(),this.variableTarget.setValue(t)):"parameter"===e.assignTargetType?(this.variableTarget.getContainer().hide(),this.parameterTarget.getContainer().show(),this.parameterTarget.setValue(t)):(URule.setDomContent(this.assignTargetContainer,"请选择要赋值的对象..."),this.assignTargetContainer.css("color","#03A9F4")),e.assignTargetType&&(this.assignTargetType=e.assignTargetType,URule.setDomContent(this.assignTargetContainer,""),this.assignTargetContainer.css("color","#fff"))}}},{key:"toXml",value:function(){if(!this.assignTargetType)throw"请选择要赋值的对象！";var e=' assign-target-type="'+this.assignTargetType+'" ';return"variable"===this.assignTargetType?e+=this.variableTarget.toXml():"parameter"===this.assignTargetType&&(e+=this.parameterTarget.toXml()),e}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=$(t),this.container.css({height:"40px",position:"relative"});var n=new urule.Context(this.container);n.simpleCondition=!0,this.join=new urule.Join(n),this.join.init(null),this.join.initTopJoin(this.container),this.join.setType("and")}return i(e,[{key:"clean",value:function(){this.join.clean(),window._setDirty()}},{key:"renderTo",value:function(e){e.append(this.container)}},{key:"getDisplayContainer",value:function(){var e=null;return this.join&&(e=this.join.getDisplayContainer()),e||(e=$("<span style='color:gray'>无</span>")),e}},{key:"initData",value:function(e){this.join&&this.join.initData(e)}},{key:"toXml",value:function(){return this.join.toXml()}}]),e}();t.default=r},,,,,,function(e,t,n){!function(e){"use strict";var t="CodeMirror-hint",n="CodeMirror-hint-active";function i(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var i={hint:t};if(n)for(var r in n)i[r]=n[r];return e.showHint(i)},e.defineExtension("showHint",function(t){t=function(e,t,n){var i=e.options.hintOptions,r={};for(var o in u)r[o]=u[o];if(i)for(var o in i)void 0!==i[o]&&(r[o]=i[o]);if(n)for(var o in n)void 0!==n[o]&&(r[o]=n[o]);return r.hint.resolve&&(r.hint=r.hint.resolve(e,t)),r}(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var r=0;r<n.length;r++)if(n[r].head.line!=n[r].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new i(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}}),e.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var r=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e){return"string"==typeof e?e:e.text}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function l(i,r){this.completion=i,this.data=r,this.picked=!1;var o=this,l=i.cm,c=l.getInputField().ownerDocument,u=c.defaultView||c.parentWindow,f=this.hints=c.createElement("ul"),d=i.cm.options.theme;f.className="CodeMirror-hints "+d,this.selectedHint=r.selectedHint||0;for(var h=r.list,p=0;p<h.length;++p){var g=f.appendChild(c.createElement("li")),y=h[p],m=t+(p!=this.selectedHint?"":" "+n);null!=y.className&&(m=y.className+" "+m),g.className=m,y.render?y.render(g,r,y):g.appendChild(c.createTextNode(y.displayText||a(y))),g.hintId=p}var b=l.cursorCoords(i.options.alignWithWord?r.from:null),v=b.left,A=b.bottom,w=!0;f.style.left=v+"px",f.style.top=A+"px";var M=u.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),I=u.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);(i.options.container||c.body).appendChild(f);var x=f.getBoundingClientRect(),C=x.bottom-I,T=f.scrollHeight>f.clientHeight+1,N=l.getScrollInfo();if(C>0){var D=x.bottom-x.top;if(b.top-(b.bottom-x.top)-D>0)f.style.top=(A=b.top-D)+"px",w=!1;else if(D>I){f.style.height=I-5+"px",f.style.top=(A=b.bottom-x.top)+"px";var E=l.getCursor();r.from.ch!=E.ch&&(b=l.cursorCoords(E),f.style.left=(v=b.left)+"px",x=f.getBoundingClientRect())}}var k,_=x.right-M;if(_>0&&(x.right-x.left>M&&(f.style.width=M-5+"px",_-=x.right-x.left-M),f.style.left=(v=b.left-_)+"px"),T)for(var S=f.firstChild;S;S=S.nextSibling)S.style.paddingRight=l.display.nativeBarWidth+"px";return l.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,r=i?{}:n;function o(e,i){var o;o="string"!=typeof i?function(e){return i(e,t)}:n.hasOwnProperty(i)?n[i]:i,r[e]=o}if(i)for(var a in i)i.hasOwnProperty(a)&&o(a,i[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return r}(i,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:h.length,close:function(){i.close()},pick:function(){o.pick()},data:r})),i.options.closeOnUnfocus&&(l.on("blur",this.onBlur=function(){k=setTimeout(function(){i.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(k)})),l.on("scroll",this.onScroll=function(){var e=l.getScrollInfo(),t=l.getWrapperElement().getBoundingClientRect(),n=A+N.top-e.top,r=n-(u.pageYOffset||(c.documentElement||c.body).scrollTop);if(w||(r+=f.offsetHeight),r<=t.top||r>=t.bottom)return i.close();f.style.top=n+"px",f.style.left=v+N.left-e.left+"px"}),e.on(f,"dblclick",function(e){var t=s(f,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())}),e.on(f,"click",function(e){var t=s(f,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),i.options.completeOnSingleClick&&o.pick())}),e.on(f,"mousedown",function(){setTimeout(function(){l.focus()},20)}),e.signal(r,"select",h[this.selectedHint],f.childNodes[this.selectedHint]),!0}function c(e,t,n,i){if(e.async)e(t,i,n);else{var r=e(t,n);r&&r.then?r.then(i):i(r)}}i.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var i=t.list[n];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(a(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=r(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(i){t.tick==n&&t.finishUpdate(i,e)})}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new l(this,t),e.signal(t,"shown")))}},l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,i){if(t>=this.data.list.length?t=i?this.data.list.length-1:0:t<0&&(t=i?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" "+n,"")),(r=this.hints.childNodes[this.selectedHint=t]).className+=" "+n,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:function(t,n){var i,r=t.getHelpers(n,"hint");if(r.length){var o=function(e,t,n){var i=function(e,t){if(!e.somethingSelected())return t;for(var n=[],i=0;i<t.length;i++)t[i].supportsSelection&&n.push(t[i]);return n}(e,r);!function r(o){if(o==i.length)return t(null);c(i[o],e,n,function(e){e&&e.list.length>0?t(e):r(o+1)})}(0)};return o.async=!0,o.supportsSelection=!0,o}return(i=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:i})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",function(t,n){var i,r=t.getCursor(),o=t.getTokenAt(r),a=e.Pos(r.line,o.start),s=r;o.start<r.ch&&/\w/.test(o.string.charAt(r.ch-o.start-1))?i=o.string.substr(0,r.ch-o.start):(i="",a=r);for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,i.length)==i&&l.push(u)}if(l.length)return{list:l,from:a,to:s}}),e.commands.autocomplete=e.showHint;var u={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(n(209))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4);var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.type=n,this.init(t,n),this.dialog.modal({keyboard:!0})}return i(e,[{key:"init",value:function(e,t){this.dialog=$('<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>');var n=$('<div class="modal-dialog modal-lg"></div>');this.dialog.append(n);var i=$('<div class="modal-content"></div>');n.append(i);var r="配置";"file"===t?r+="文件":"folder"===t?r+="目录":"project"===t&&(r+="项目"),r+="【"+(e.fullPath||e.name)+"】的权限";var o=$('<div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n            <h4 class="modal-title">'+r+"</h4>\n            </div>");i.append(o);var a=$('<div class="modal-body"></div>');i.append(a);var s=$('<div class="modal-footer"></div>');i.append(s);var l=$('<button class="btn btn-default" type="button"><i class="glyphicon glyphicon-floppy-save"></i> 保存</button>');s.append(l);var c=this;l.click(function(){c.save()});var u=$("<div></div>");a.append(u),this.initLeftBody(u),this.initRightBody(u)}},{key:"initLeftBody",value:function(e){var t=$('<div style="display: inline-block;width: 396px;vertical-align: top"></div>');e.append(t);var n=$('<table class="table table-bordered"></table>'),i=$("<thead></thead>");n.append(i);var r=$('<tr style="background: #f6f6f6"></tr>');i.append(r);var o=$("<td>实体名</td>"),a=$("<td>实体显示名</td>");r.append(o),r.append(a),t.append(n);var s=$("<tbody></tbody>");n.append(s);var l=[],c=this;$.ajax({url:window._server+"/authority/loadPrincipals",success:function(e){var t=e.principals;if(t){var n=e.authorityType;n&&(o.html(n+"名"),a.html(n+"显示名"));var i=function(e){var t=$('<tr style="cursor: pointer">\n                        <td>'+e.name+"</td>\n                        <td>"+e.displayName+"</td>\n                    </tr>");l.push(t),s.append(t),t.click(function(){t.addClass("warning").siblings().removeClass("warning"),c.currentAuthority=null,c.authorityContainer.show(),c.principal=e,c.refreshAuthority(e)})},r=!0,u=!1,f=void 0;try{for(var d,h=t[Symbol.iterator]();!(r=(d=h.next()).done);r=!0){i(d.value)}}catch(e){u=!0,f=e}finally{try{!r&&h.return&&h.return()}finally{if(u)throw f}}}},error:function(e){e&&e.responseText?bootbox.alert("<span style='color: red'>加载权限实体失败，服务端错误："+e.responseText+"</span>"):bootbox.alert("<span style='color: red'>加载权限实体失败，服务端出错</span>")}})}},{key:"initRightBody",value:function(e){var t=this;this.authorityContainer=$('<div style="display: inline-block;margin-left: 15px;vertical-align: top;border:solid 1px #ddd;padding: 10px;border-radius: 10px"></div>'),e.append(this.authorityContainer);var n=$("<div></div>");this.authorityContainer.append(n),this.enableCheckbox=$('<label><input type="checkbox" value="true"> 启用</label>'),n.append(this.enableCheckbox),this.enableCheckbox.children("input").click(function(){t.dirty=!0,$(this).prop("checked")?(t.readSelect.prop("disabled",!1),t.writeSelect.prop("disabled",!1),t.buildCurrentAuthority()):(t.readSelect.val("false"),t.writeSelect.val("false"),t.readSelect.prop("disabled",!0),t.writeSelect.prop("disabled",!0),t.removeCurrentAuthority())});var i=$('<div style="margin-left: 20px;display: inline-block">查看：</div>');n.append(i),this.readSelect=$('<select class="form-control" style="display: inline-block;width: inherit" disabled="true">\n            <option value="true">允许</option>\n            <option value="false" selected>不允许</option>\n        </select>'),this.readSelect.change(function(){t.dirty=!0,t.buildCurrentAuthority().read=$(this).val()}),i.append(this.readSelect);var r=$('<div style="margin-left: 20px;display: inline-block">编辑：</div>');n.append(r),this.writeSelect=$('<select class="form-control" style="display: inline-block;width: inherit" disabled="true">\n            <option value="true">允许</option>\n            <option value="false"  selected>不允许</option>\n        </select>'),r.append(this.writeSelect),this.writeSelect.change(function(){t.dirty=!0;var e=t.buildCurrentAuthority();e.write=$(this).val(),"true"==e.write?(t.saveSelect.prop("disabled",!1),t.saveasSelect.prop("disabled",!1),t.saveSelect.val("true"),t.saveasSelect.val("true"),t.saveSelect.trigger("change"),t.saveasSelect.trigger("change")):(t.saveSelect.prop("disabled",!0),t.saveasSelect.prop("disabled",!0),t.saveSelect.val("false"),t.saveasSelect.val("false"),t.saveSelect.trigger("change"),t.saveasSelect.trigger("change"))});var o=$('<div style="margin-top: 20px"></div>');this.authorityContainer.append(o);var a=$('<div style="margin-left: 23px;display: inline-block">保存：</div>'),s=$('<div style="margin-left: 20px;display: inline-block">保存为版本：</div>');o.append(a),o.append(s),this.saveSelect=$('<select class="form-control" style="display: inline-block;width: inherit" disabled="true">\n            <option value="true">允许</option>\n            <option value="false" selected>不允许</option>\n        </select>'),this.saveSelect.change(function(){t.dirty=!0,t.buildCurrentAuthority().save=$(this).val()}),a.append(this.saveSelect),this.saveasSelect=$('<select class="form-control" style="display: inline-block;width: inherit" disabled="true">\n            <option value="true">允许</option>\n            <option value="false" selected>不允许</option>\n        </select>'),this.saveasSelect.change(function(){t.dirty=!0,t.buildCurrentAuthority().saveas=$(this).val()}),s.append(this.saveasSelect),this.authorityContainer.hide()}},{key:"save",value:function(){if(this.authorityUnits&&this.dirty){var e='<?xml version="1.0" encoding="UTF-8"?>';e+="<authorities>";var t=!0,n=!1,i=void 0;try{for(var o,a=this.authorityUnits[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.authorities&&0!==s.authorities.length){e+='<unit principal="'+s.principalName+'">';var l=!0,c=!1,u=void 0;try{for(var f,d=s.authorities[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;e+='<auth path="'+h.path+'" read="'+h.read+'" write="'+h.write+'" save="'+(h.save||!1)+'" saveas="'+(h.saveas||!1)+'"/>'}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}e+="</unit>"}}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}e+="</authorities>",e=encodeURIComponent(e),$.ajax({type:"POST",data:{xml:e},url:window._server+"/authority/saveResourceSecurityConfigs",success:function(){bootbox.alert("保存成功！")},error:function(e){(0,r.handleError)(e)}}),this.dirty=!1}else bootbox.alert("请先配置权限！")}},{key:"removeCurrentAuthority",value:function(){if(this.currentAuthority){var e=null,t=!0,n=!1,i=void 0;try{for(var r,o=this.authorityUnits[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.principalName===this.principal.name){e=a;break}}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}if(e){var s=e.authorities.indexOf(this.currentAuthority);e.authorities.splice(s,1),this.currentAuthority=null}else this.currentAuthority=null}}},{key:"buildCurrentAuthority",value:function(){if(this.currentAuthority)return this.currentAuthority;var e=null,t=!0,n=!1,i=void 0;try{for(var r,o=this.authorityUnits[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.principalName===this.principal.name){e=a;break}}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}e||(e={principalName:this.principal.name,authorities:[]},this.authorityUnits.push(e));var s=null,l=!0,c=!1,u=void 0;try{for(var f,d=e.authorities[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;if(h.path===this.data.fullPath){s=h;break}}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}return s||(s={path:this.data.fullPath,read:!1,write:!1},e.authorities.push(s)),this.currentAuthority=s,this.currentAuthority}},{key:"refreshAuthority",value:function(e){if(this.authorityUnits){this.enableCheckbox.children("input").prop("checked",!1),this.readSelect.prop("disabled",!0),this.writeSelect.prop("disabled",!0),this.saveSelect.prop("disabled",!0),this.saveasSelect.prop("disabled",!0),this.readSelect.val("false"),this.writeSelect.val("false"),this.saveSelect.val("false"),this.saveasSelect.val("false");var t=null,n=!0,i=!1,r=void 0;try{for(var o,a=this.authorityUnits[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.principalName===e.name){t=s;break}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}if(t){var l=null,c=!0,u=!1,f=void 0;try{for(var d,h=t.authorities[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;if(p.path===this.data.fullPath){l=p;break}}}catch(e){u=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw f}}l&&(this.currentAuthority=l,this.enableCheckbox.children("input").prop("checked",!0),"true"===l.read||!0===l.read?this.readSelect.val("true"):this.readSelect.val("false"),!0===l.write||"true"===l.write?(this.writeSelect.val("true"),this.saveSelect.prop("disabled",!1),this.saveasSelect.prop("disabled",!1)):this.writeSelect.val("false"),!0===l.save||"true"===l.save?this.saveSelect.val("true"):this.saveSelect.val("false"),!0===l.saveas||"true"===l.saveas?this.saveasSelect.val("true"):this.saveasSelect.val("false"),this.readSelect.prop("disabled",!1),this.writeSelect.prop("disabled",!1))}}else this.refreshAuthorityData(e)}},{key:"refreshAuthorityData",value:function(e){var t=this;$.ajax({url:window._server+"/authority/loadResourceSecurityConfigs",success:function(n){t.authorityUnits=n,t.refreshAuthority(e)}})}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            文件【'+t+'】与历史版本比较\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var n=this.dialog.find(".modal-body"),i=this.dialog.find(".modal-footer");this.initBody(n,i,t)}return i(e,[{key:"initBody",value:function(e,t,n){var i=$(document).height()-100+"px",o=window._server+"/compare?file="+n,a=$('<iframe width="100%" height="'+i+'" frameborder="0" src="'+o+'"></iframe>');e.append(a);var s=$('<button type="button" class="btn btn-danger"><i class="glyphicon glyphicon-floppy-disk"></i> 保存源文件</button>');t.append(s),s.click(function(){bootbox.confirm("真的要保存原文件内容？",function(e){if(e){var t=a.get(0).contentWindow.getFileSourceData();t=encodeURIComponent(t);var i=window._server+"/common/saveFile";$.ajax({url:i,type:"POST",data:{file:n,content:t},success:function(){bootbox.alert("保存成功!")},error:function(e){(0,r.handleError)(e)}})}})})}},{key:"show",value:function(){this.dialog.modal("show")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(10);(i=o)&&i.__esModule;var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.lastIndexOf("/"),i=t.indexOf(".");this.fileName=t.substring(n+1,i),this.fileExtName=t.substring(i+1,t.length),this.filePath=t.substring(0,n),this.dialog=$('<div class="modal fade" style="overflow: auto" role="dialog" aria-hidden="true">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            重命名\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var r=this.dialog.find(".modal-body"),o=this.dialog.find(".modal-footer");this.initBody(r,o)}return r(e,[{key:"initBody",value:function(e,t){var n=$('<div class="form-group"><label>文件名</label></div>');e.append(n);var i=$('<input type="text" class="form-control" name="newFileNameForRename" value="'+this.fileName+'">');n.append(i);var r=$('<button type="button" class="btn btn-default">确定</button>');t.append(r);var o=this;n.bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{newFileNameForRename:{validators:{notEmpty:{message:"文件名不能为空"},regexp:{regexp:"^(?!_)(?!-)[一-龥_a-zA-Z0-9_-]{1,}$",message:"名称只能包含中文及英文字母、数字、下划线、中划线,且不能以下划线、中划线开头"},remote:{message:"文件名已存在",type:"POST",url:window._server+"/frame/fileExistCheck",data:function(e){return{fullFileName:o.filePath+"/"+e.getFieldElements("newFileNameForRename").val()+"."+o.fileExtName}}}}}}}),r.click(function(){if(n.data("bootstrapValidator").validate(),n.data("bootstrapValidator").isValid()){var e=o.filePath+"/"+i.val()+"."+o.fileExtName;o.callback(e),o.dialog.modal("hide")}})}},{key:"show",value:function(e){this.callback=e,this.dialog.modal("show")}}]),e}();t.default=a},,,,,,,,,,function(e,t,n){var i=n(355);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n\n  margin: 0;\n  padding: 2px;\n\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n\n  max-height: 20em;\n  overflow-y: auto;\n}\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\n\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n",""])},function(e,t,n){var i=n(357);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,'/* The lint marker gutter */\n.CodeMirror-lint-markers {\n  width: 16px;\n}\n\n.CodeMirror-lint-tooltip {\n  background-color: #ffd;\n  border: 1px solid black;\n  border-radius: 4px 4px 4px 4px;\n  color: black;\n  font-family: monospace;\n  font-size: 10pt;\n  overflow: hidden;\n  padding: 2px 5px;\n  position: fixed;\n  white-space: pre;\n  white-space: pre-wrap;\n  z-index: 100;\n  max-width: 600px;\n  opacity: 0;\n  transition: opacity .4s;\n  -moz-transition: opacity .4s;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  -ms-transition: opacity .4s;\n}\n\n.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning {\n  background-position: left bottom;\n  background-repeat: repeat-x;\n}\n\n.CodeMirror-lint-mark-error {\n  background-image:\n  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==")\n  ;\n}\n\n.CodeMirror-lint-mark-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning {\n  background-position: center center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: middle;\n  position: relative;\n}\n\n.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning {\n  padding-left: 18px;\n  background-position: top left;\n  background-repeat: no-repeat;\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-multiple {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");\n  background-repeat: no-repeat;\n  background-position: right bottom;\n  width: 100%; height: 100%;\n}\n',""])},function(e,t,n){!function(e){"use strict";var t="CodeMirror-lint-markers";function n(e){e.parentNode&&e.parentNode.removeChild(e)}function i(t,i,r){var o=function(t,n){var i=document.createElement("div");function r(t){if(!i.parentNode)return e.off(document,"mousemove",r);i.style.top=Math.max(0,t.clientY-i.offsetHeight-5)+"px",i.style.left=t.clientX+5+"px"}return i.className="CodeMirror-lint-tooltip",i.appendChild(n.cloneNode(!0)),document.body.appendChild(i),e.on(document,"mousemove",r),r(t),null!=i.style.opacity&&(i.style.opacity=1),i}(t,i);function a(){var t;e.off(r,"mouseout",a),o&&((t=o).parentNode&&(null==t.style.opacity&&n(t),t.style.opacity=0,setTimeout(function(){n(t)},600)),o=null)}var s=setInterval(function(){if(o)for(var e=r;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){a();break}}if(!o)return clearInterval(s)},400);e.on(r,"mouseout",a)}function r(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){!function(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var r=n.getBoundingClientRect(),o=(r.left+r.right)/2,a=(r.top+r.bottom)/2,l=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),c=[],u=0;u<l.length;++u){var f=l[u].__annotation;f&&c.push(f)}c.length&&function(e,t){for(var n=t.target||t.srcElement,r=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];r.appendChild(s(a))}i(t,r,n)}(c,t)}}(e,t)},this.waitingFor=0}function o(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var i=0;i<n.marked.length;++i)n.marked[i].clear();n.marked.length=0}function a(t,n,r,o){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,r&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(s,"mouseover",function(e){i(e,t,s)}),a}function s(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,void 0!==e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function l(t){var n=t.state.lint.options,i=n.options||n,r=n.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(r)if(n.async||r.async)!function(t,n,i){var r=t.state.lint,o=++r.waitingFor;function a(){o=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),function(n,i){t.off("change",a),r.waitingFor==o&&(i&&n instanceof e&&(n=i),t.operation(function(){c(t,n)}))},i,t)}(t,r,i);else{var o=r(t.getValue(),i,t);if(!o)return;o.then?o.then(function(e){t.operation(function(){c(t,e)})}):t.operation(function(){c(t,o)})}}function c(e,n){o(e);for(var i,r,l=e.state.lint,c=l.options,u=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r=i.from.line;(t[r]||(t[r]=[])).push(i)}return t}(n),f=0;f<u.length;++f){var d=u[f];if(d){for(var h=null,p=l.hasGutter&&document.createDocumentFragment(),g=0;g<d.length;++g){var y=d[g],m=y.severity;m||(m="error"),r=m,h="error"==(i=h)?i:r,c.formatAnnotation&&(y=c.formatAnnotation(y)),l.hasGutter&&p.appendChild(s(y)),y.to&&l.marked.push(e.markText(y.from,y.to,{className:"CodeMirror-lint-mark-"+m,__annotation:y}))}l.hasGutter&&e.setGutterMarker(f,t,a(p,h,d.length>1,l.options.tooltips))}}c.onUpdateLinting&&c.onUpdateLinting(n,u,e)}function u(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){l(e)},t.options.delay||500))}e.defineOption("lint",!1,function(n,i,a){if(a&&a!=e.Init&&(o(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",u),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),i){for(var s=n.getOption("gutters"),c=!1,f=0;f<s.length;++f)s[f]==t&&(c=!0);var d=n.state.lint=new r(n,(h=i)instanceof Function?{getAnnotations:h}:(h&&!0!==h||(h={}),h),c);!1!==d.options.lintOnChange&&n.on("change",u),0!=d.options.tooltips&&"gutter"!=d.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",d.onMouseOver),l(n)}var h}),e.defineExtension("performLint",function(){this.state.lint&&l(this)})}(n(209))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(209),o=(i=r)&&i.__esModule?i:{default:i};n(360);var a=n(26),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(387));o.default.defineSimpleMode("if",{start:[{regex:/"(?:[^\\]|\\.)*?"/,token:"string"},{regex:/(true|false|null|and|or)\b/,token:"atom"},{regex:/\s+(\u6216\u8005|\u6216|\u5E76\u4E14|\u4E14)\s+/,token:"atom"},{regex:/\u53C2\u6570/,token:"atom-2"},{regex:/(out|eval)\b/,token:"atom-3"},{regex:/\.([\w$_\u4e00-\u9fa5][\w$_\u4e00-\u9fa5\d]*)*/,token:"property"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/\/\/.*/,token:"comment"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/(Endwith|NotEndwith|Startwith|NotStartwith|In|NotIn|Match|NotMatch|'EqualsIgnoreCase|NotEqualsIgnoreCase)\b/,token:"operator"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0},{regex:/[\w$_\u4e00-\u9fa5][\w$_\u4e00-\u9fa5\d]*/,token:"variable"},{regex:/<</,token:"meta",mode:{spec:"xml",end:/>>/}}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}}),o.default.defineSimpleMode("then",{start:[{regex:/"(?:[^\\]|\\.)*?"/,token:"string"},{regex:/(true|false|null)\b/,token:"atom"},{regex:/\u53C2\u6570/,token:"atom-2"},{regex:/(out)\b/,token:"atom-3"},{regex:/\.([\w$_\u4e00-\u9fa5][\w$_\u4e00-\u9fa5\d]*)*/,token:"property"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/\/\/.*/,token:"comment"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*]+/,token:"operator"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0},{regex:/[\w$_\u4e00-\u9fa5][\w$_\u4e00-\u9fa5\d]*/,token:"variable"},{regex:/<</,token:"meta",mode:{spec:"xml",end:/>>/}}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}}),a.Event.eventEmitter.on(s.LIB_CHANGE,function(e){s.LIBRARY=e});var l=o.default.Pos;o.default.registerHelper("hint","if",function(e,t){var n,i=function(e){var t=e.getCursor();return e.getModeAt({line:t.line,ch:t.ch})}(e).name;return"if"==i?n=c:"then"==i&&(n=u),function(e,t,n,i){var r=e.getCursor(),a=n(e,r);if(!/\b(?:string|comment)\b/.test(a.type)){a.state=o.default.innerMode(e.getMode(),a.state).state,"property"==a.type?a={start:r.ch-a.string.length+1,end:r.ch+a.string.length-1,string:a.string.replace(".",""),state:a.state}:/^[\w$_\u4e00-\u9fa5]*$/.test(a.string)?a.end>r.ch&&(a.end=r.ch,a.string=a.string.slice(0,r.ch-a.start)):a={start:r.ch,end:r.ch,string:"",state:a.state};for(var s=a;"property"==(s=n(e,l(r.line,s.start))).type;){if(s=n(e,l(r.line,s.start)),!c)var c=[];c.push(s)}return{list:f(a,c,t,i),from:l(r.line,a.start),to:l(r.line,a.end)}}}(e,n,function(e,t){return e.getTokenAt(t)},t)});var c="参数 > >= < <= == != Endwith NotEndwith Startwith NotStartwith In NotIn Match NotMatch EqualsIgnoreCase NotEqualsIgnoreCase eval()".split(" "),u="参数 out".split(" ");function f(e,t,n,i){var r=[],o=e.string;i&&i.globalScope||window;function a(e){0!=e.toUpperCase().lastIndexOf(o.replace(/\s*/,"").toUpperCase(),0)||function(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}(r,e)||r.push(e)}function l(e){var t=s.LIBRARY,n=t.actionLibraries,i=t.variableCategories,r=t.constantCategories,o=!0,l=!1,c=void 0;try{for(var u,f=n[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var d=u.value.springBeans||[],h=!0,p=!1,g=void 0;try{for(var y,m=d[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value,v=b.methods||[];if(0==b.name.toUpperCase().lastIndexOf(e.toUpperCase(),0)){var A=!0,w=!1,M=void 0;try{for(var I,x=v[Symbol.iterator]();!(A=(I=x.next()).done);A=!0){for(var C=I.value,T=C.parameters||[],N=C.name+"(",D=[],E=0;E<T.length;E++){var k=T[E];D.push(k.name)}a(N+=D.join(",")+")")}}catch(e){w=!0,M=e}finally{try{!A&&x.return&&x.return()}finally{if(w)throw M}}}}}catch(e){p=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(p)throw g}}}}catch(e){l=!0,c=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw c}}var _=!0,S=!1,j=void 0;try{for(var L,O=i[Symbol.iterator]();!(_=(L=O.next()).done);_=!0){var z=L.value,B=z.variables||[];if(0==z.name.toUpperCase().lastIndexOf(e.toUpperCase(),0)){var R=!0,P=!1,U=void 0;try{for(var Q,Y=B[Symbol.iterator]();!(R=(Q=Y.next()).done);R=!0){a(Q.value.label)}}catch(e){P=!0,U=e}finally{try{!R&&Y.return&&Y.return()}finally{if(P)throw U}}}}}catch(e){S=!0,j=e}finally{try{!_&&O.return&&O.return()}finally{if(S)throw j}}var F=!0,H=!1,G=void 0;try{for(var W,V=r[Symbol.iterator]();!(F=(W=V.next()).done);F=!0){var Z=W.value,J=Z.constants||[];if(0==(N="$"+Z.label).toUpperCase().lastIndexOf(e.toUpperCase(),0)){var X=!0,$=!1,K=void 0;try{for(var q,ee=J[Symbol.iterator]();!(X=(q=ee.next()).done);X=!0){a(q.value.label)}}catch(e){$=!0,K=e}finally{try{!X&&ee.return&&ee.return()}finally{if($)throw K}}}}}catch(e){H=!0,G=e}finally{try{!F&&V.return&&V.return()}finally{if(H)throw G}}}if(t&&t.length){var c,u=t.pop();!u.type||0!==u.type.indexOf("variable")&&0!==u.type.indexOf("atom-2")||(c=u.string)&&l("参数"==c?"参数":c)}else{var f=s.LIBRARY,d=f.actionLibraries,h=f.variableCategories,p=f.constantCategories,g=!0,y=!1,m=void 0;try{for(var b,v=d[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){var A=b.value.springBeans,w=!0,M=!1,I=void 0;try{for(var x,C=A[Symbol.iterator]();!(w=(x=C.next()).done);w=!0){a(z=x.value.name)}}catch(e){M=!0,I=e}finally{try{!w&&C.return&&C.return()}finally{if(M)throw I}}}}catch(e){y=!0,m=e}finally{try{!g&&v.return&&v.return()}finally{if(y)throw m}}var T=!0,N=!1,D=void 0;try{for(var E,k=h[Symbol.iterator]();!(T=(E=k.next()).done);T=!0){"参数"!==(z=E.value.name)&&a(z)}}catch(e){N=!0,D=e}finally{try{!T&&k.return&&k.return()}finally{if(N)throw D}}var _=!0,S=!1,j=void 0;try{for(var L,O=p[Symbol.iterator]();!(_=(L=O.next()).done);_=!0){var z;a(z="$"+L.value.label)}}catch(e){S=!0,j=e}finally{try{!_&&O.return&&O.return()}finally{if(S)throw j}}!function(e,t){for(var n=0,i=e.length;n<i;++n)t(e[n])}(n,a)}return r}t.default=o.default},function(e,t,n){!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function i(e,i){(e.next||e.push)&&t(i,e.next||e.push),this.regex=n(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function r(e,t){return function(n,i){if(i.pending){var r=i.pending.shift();return 0==i.pending.length&&(i.pending=null),n.pos+=r.text.length,r.token}if(i.local){if(i.local.end&&n.match(i.local.end)){var o=i.local.endToken||null;return i.local=i.localState=null,o}var s;return o=i.local.mode.token(n,i.localState),i.local.endScan&&(s=i.local.endScan.exec(n.current()))&&(n.pos=n.start+s.index),o}for(var l=e[i.state],c=0;c<l.length;c++){var u=l[c],f=(!u.data.sol||n.sol())&&n.match(u.regex);if(f){u.data.next?i.state=u.data.next:u.data.push?((i.stack||(i.stack=[])).push(i.state),i.state=u.data.push):u.data.pop&&i.stack&&i.stack.length&&(i.state=i.stack.pop()),u.data.mode&&a(t,i,u.data.mode,u.token),u.data.indent&&i.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&i.indent.pop();var d=u.token;if(d&&d.apply&&(d=d(f)),f.length>2&&u.token&&"string"!=typeof u.token){i.pending=[];for(var h=2;h<f.length;h++)f[h]&&i.pending.push({text:f[h],token:u.token[h-1]});return n.backUp(f[0].length-(f[1]?f[1].length:0)),d[0]}return d&&d.join?d[0]:d}}return n.next(),null}}function o(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i)||!o(e[i],t[i]))return!1;n++}for(var i in t)t.hasOwnProperty(i)&&n--;return 0==n}function a(t,i,r,a){var s;if(r.persistent)for(var l=i.persistentStates;l&&!s;l=l.next)(r.spec?o(r.spec,l.spec):r.mode==l.mode)&&(s=l);var c=s?s.mode:r.mode||e.getMode(t,r.spec),u=s?s.state:e.startState(c);r.persistent&&!s&&(i.persistentStates={mode:c,spec:r.spec,state:u,next:i.persistentStates}),i.localState=u,i.local={mode:c,end:r.end&&n(r.end),endScan:r.end&&!1!==r.forceEnd&&n(r.end,!1),endToken:a&&a.join?a[a.length-1]:a}}function s(t,n){return function(i,r,o){if(i.local&&i.local.mode.indent)return i.local.mode.indent(i.localState,r,o);if(null==i.indent||i.local||n.dontIndentStates&&function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(i.state,n.dontIndentStates)>-1)return e.Pass;var a=i.indent.length-1,s=t[i.state];e:for(;;){for(var l=0;l<s.length;l++){var c=s[l];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(r);if(u&&u[0]){a--,(c.next||c.push)&&(s=t[c.next||c.push]),r=r.slice(u[0].length);continue e}}}break}return a<0?0:i.indent[a]}}e.defineSimpleMode=function(t,n){e.defineMode(t,function(t){return e.simpleMode(t,n)})},e.simpleMode=function(n,o){t(o,"start");var a={},l=o.meta||{},c=!1;for(var u in o)if(u!=l&&o.hasOwnProperty(u))for(var f=a[u]=[],d=o[u],h=0;h<d.length;h++){var p=d[h];f.push(new i(p,o)),(p.indent||p.dedent)&&(c=!0)}var g={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var i=t.persistentStates;i;i=i.next)n.persistentStates={mode:i.mode,spec:i.spec,state:i.state==t.localState?n.localState:e.copyState(i.mode,i.state),next:n.persistentStates};return n},token:r(a,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:s(a,l)};if(l)for(var y in l)l.hasOwnProperty(y)&&(g[y]=l[y]);return g}}(n(209))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LIB_CHANGE="lib_change",t.LIBRARY={actionLibraries:[],variableCategories:[],constantCategories:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(49),n(204),n(269),n(354),n(356),n(228),n(211),n(484),n(231),n(213),n(212),n(258),n(322),n(323),n(324),n(243),n(232),n(233),n(234),n(248),n(214),n(277),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224);var i=A(n(486)),r=A(n(487)),o=A(n(490)),a=A(n(493)),s=A(n(496)),l=A(n(499)),c=A(n(502)),u=A(n(506)),f=A(n(509)),d=A(n(5)),h=A(n(10)),p=n(26),g=A(n(206)),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14)),m=n(4),b=n(4),v=A(n(259));function A(e){return e&&e.__esModule?e:{default:e}}window._setDirty=function(){window._dirty||($("#__save").parent("button").prop("disabled",!1),$("#__saveas").parent("button").prop("disabled",!1),window._dirty=!0)},window._resetDirty=function(){window._dirty&&($("#__save").parent("button").prop("disabled",!0),$("#__saveas").parent("button").prop("disabled",!0),window._dirty=!1)},$(document).ready(function(){var e=new i.default("container"),t=(0,m.getParameter)("file");e.addButton({icon:'<i class="rf rf-save" id="__save"></i>',tip:"保存",click:function(){y.eventEmitter.emit(y.SHOW_LOADING,"数据保存中");var n=e.toXML();if(n){var i={content:n=encodeURIComponent(n),file:t,newVersion:!1},r=window._server+"/common/saveFile";(0,m.ajaxSave)(r,i,function(){y.eventEmitter.emit(y.HIDE_LOADING)}),window._resetDirty()}else y.eventEmitter.emit(y.HIDE_LOADING)}}),e.addButton({icon:'<i class="rf rf-savenewversion"  id="__saveas"></i>',tip:"保存为新版本",click:function(){y.eventEmitter.emit(y.SHOW_LOADING,"数据保存中");var n=e.toXML();if(n){var i={content:n,file:t,newVersion:!0},r=window._server+"/common/saveFile";bootbox.prompt("请输入新版本描述.",function(e){e&&(window._resetDirty(),i.versionComment=e,(0,m.ajaxSave)(r,i,function(){y.eventEmitter.emit(y.HIDE_LOADING)}))})}else y.eventEmitter.emit(y.HIDE_LOADING)}}),e.addButton({icon:'<i class="glyphicon glyphicon-flash" style="line-height: inherit;font-size: 16px" id="__quickTest"></i>',tip:"快速测试",click:function(){y.eventEmitter.emit(y.SHOW_LOADING,"数据保存中");var n=e.toXML();if(n){var i={content:n,file:t,newVersion:!1},r=window._server+"/common/saveFile";(0,m.ajaxSave)(r,i,function(){y.eventEmitter.emit(y.HIDE_LOADING),(new v.default).show()}),window._resetDirty()}else y.eventEmitter.emit(y.HIDE_LOADING)}}),e.addTool(new r.default),e.addTool(new o.default),e.addTool(new a.default),e.addTool(new s.default),e.addTool(new l.default),e.addTool(new c.default),e.addTool(new u.default),e.addTool(new f.default),e.buildDesigner(),$("#container").append('<div id="__dialog_container"></div>'),h.default.render(d.default.createElement("div",null,d.default.createElement(g.default,null)),document.getElementById("__dialog_container")),$.ajax({url:window._server+"/ruleflowdesigner/loadFlowDefinition",data:{file:t},success:function(t){t.quickTestData&&(window.quickTestData=JSON.parse(t.quickTestData)),e.fromJson(t),p.Event.eventEmitter.emit(p.Event.CANVAS_SELECTED),window._resetDirty()},error:function(e){$(window.document.body).empty(),(0,b.handleError)(e),window._resetDirty()}})})},function(e,t,n){var i=n(485);"string"==typeof i&&(i=[[e.i,i,""]]);n(18)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(17)(!1)).push([e.i,".CodeMirror {\r\n    border: 1px solid #dddddd;\r\n}\r\n.CodeMirror-hints {\r\n    position: absolute;\r\n    z-index: 2000;\r\n    overflow: hidden;\r\n    list-style: none;\r\n\r\n    margin: 0;\r\n    padding: 2px;\r\n\r\n    -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\r\n    -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\r\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\r\n    border-radius: 3px;\r\n    border: 1px solid silver;\r\n\r\n    background: white;\r\n    font-size: 90%;\r\n    font-family: monospace;\r\n\r\n    max-height: 20em;\r\n    overflow-y: auto;\r\n}\r\n\r\n.CodeMirror-lint-tooltip {\r\n    background-color: #ffd;\r\n    border: 1px solid black;\r\n    border-radius: 4px 4px 4px 4px;\r\n    color: black;\r\n    font-family: monospace;\r\n    font-size: 10pt;\r\n    overflow: hidden;\r\n    padding: 2px 5px;\r\n    position: fixed;\r\n    white-space: pre;\r\n    white-space: pre-wrap;\r\n    z-index: 2000;\r\n    max-width: 600px;\r\n    opacity: 0;\r\n    transition: opacity .4s;\r\n    -moz-transition: opacity .4s;\r\n    -webkit-transition: opacity .4s;\r\n    -o-transition: opacity .4s;\r\n    -ms-transition: opacity .4s;\r\n}\r\n\r\n.cm-s-default .cm-keyword {color: #708;}\r\n.cm-s-default .cm-atom {color: #219;}\r\n.cm-s-default .cm-atom-2 {color: #397;}\r\n.cm-s-default .cm-atom-3 {color: #fa1;}\r\n.cm-s-default .cm-number {color: #164;}\r\n.cm-s-default .cm-def {color: #00f;}\r\n.cm-s-default .cm-variable {color: #019dff;}\r\n.cm-s-default .cm-punctuation {}\r\n.cm-s-default .cm-operator{color:#49ADFF}\r\n.cm-s-default .cm-property{color:rgb(135, 134, 150)}\r\n.cm-s-default .cm-variable-2 {color: #05a;}\r\n.cm-s-default .cm-variable-3 {color: #085;}\r\n.cm-s-default .cm-comment {color: #a50;}\r\n.cm-s-default .cm-string {color: #a11;}\r\n.cm-s-default .cm-string-2 {color: #f50;}\r\n.cm-s-default .cm-meta {color: #555;}\r\n.cm-s-default .cm-qualifier {color: #555;}\r\n.cm-s-default .cm-builtin {color: #30a;}\r\n.cm-s-default .cm-bracket {color: #997;}\r\n.cm-s-default .cm-tag {color: #170;}\r\n.cm-s-default .cm-attribute {color: #00c;}\r\n.cm-s-default .cm-header {color: blue;}\r\n.cm-s-default .cm-quote {color: #090;}\r\n.cm-s-default .cm-hr {color: #999;}\r\n.cm-s-default .cm-link {color: #00c;}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(26),a=n(309),s=(i=a)&&i.__esModule?i:{default:i},l=h(n(14)),c=h(n(267)),u=h(n(387)),f=n(4),d=n(50);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.importVariableLibraries=[],n.importConstantLibraries=[],n.importParameterLibraries=[],n.importActionLibraries=[],n.variableLibraries=[],n.constantLibraries=[],n.parameterLibraries=[],n.actionLibraries=[],n.flowId="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.FlowDesigner),r(t,[{key:"toXML",value:function(){if(this.flowId&&!(this.flowId.length<1)){var e='<?xml version="1.0" encoding="utf-8"?>';try{if(!this.validate())return;if(this.toJSON().length<2)return void o.MsgBox.alert("决策流至少要包含一个开始节点和一个其它类型节点!");var t=!1;void 0!==this.debug&&null!==this.debug&&(t=this.debug),e+='<rule-flow id="'+this.flowId+'" debug="'+t+'">';var n=!0,i=!1,r=void 0;try{for(var a,l=this.importVariableLibraries[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){e+='<import-variable-library path="'+a.value+'"/>'}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}var c=!0,u=!1,f=void 0;try{for(var d,h=this.importConstantLibraries[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){e+='<import-constant-library path="'+d.value+'"/>'}}catch(e){u=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw f}}var p=!0,g=!1,y=void 0;try{for(var m,b=this.importParameterLibraries[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){e+='<import-parameter-library path="'+m.value+'"/>'}}catch(e){g=!0,y=e}finally{try{!p&&b.return&&b.return()}finally{if(g)throw y}}var v=!0,A=!1,w=void 0;try{for(var M,I=this.importActionLibraries[Symbol.iterator]();!(v=(M=I.next()).done);v=!0){e+='<import-action-library path="'+M.value+'"/>'}}catch(e){A=!0,w=e}finally{try{!v&&I.return&&I.return()}finally{if(A)throw w}}window.quickTestData&&(e+="<quick-test-data><![CDATA["+JSON.stringify(window.quickTestData)+"]]></quick-test-data>");var x=new Set,C=!0,T=!1,N=void 0;try{for(var D,E=this.context.allFigures[Symbol.iterator]();!(C=(D=E.next()).done);C=!0){var k=D.value;if(k instanceof s.default){var _=k.name;if(x.has(_))throw"名为【"+_+"】的节点有多个，节点名必须唯一！";x.add(k.name),e+=k.toXML()}}}catch(e){T=!0,N=e}finally{try{!C&&E.return&&E.return()}finally{if(T)throw N}}}catch(e){return void bootbox.alert(e)}return e+="</rule-flow>"}o.MsgBox.alert("决策流ID必须指定!")}},{key:"fromJson",value:function(e){this.flowId=e.id,this.debug=e.debug;var t=e.libraries||[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;switch(l.type){case"Variable":this.importVariableLibraries.push(l.path);break;case"Constant":this.importConstantLibraries.push(l.path);break;case"Action":this.importActionLibraries.push(l.path);break;case"Parameter":this.importParameterLibraries.push(l.path)}}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}this.importVariableLibraries.length>0&&this._refreshLibraries(this.importVariableLibraries,"vl.xml"),this.importConstantLibraries.length>0&&this._refreshLibraries(this.importConstantLibraries,"cl.xml"),this.importActionLibraries.length>0&&this._refreshLibraries(this.importActionLibraries,"al.xml"),this.importParameterLibraries.length>0&&this._refreshLibraries(this.importParameterLibraries,"pl.xml");var c=!0,u=!1,f=void 0;try{for(var d,h=e.nodes[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;switch(p.w=p.width,p.h=p.height,p.type){case"Action":p.type="动作";break;case"Script":p.type="脚本";break;case"Decision":p.type="决策";break;case"End":p.type="结束";break;case"Start":p.type="开始";break;case"Rule":p.type="规则";break;case"RulePackage":p.type="知识包";break;case"Fork":p.type="分支";break;case"Join":p.type="聚合"}var g=p.connections||[],y=!0,m=!1,b=void 0;try{for(var v,A=g[Symbol.iterator]();!(y=(v=A.next()).done);y=!0){var w=v.value;w.to=w.toName}}catch(e){m=!0,b=e}finally{try{!y&&A.return&&A.return()}finally{if(m)throw b}}this.addNode(p)}}catch(e){u=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw f}}var M=!0,I=!1,x=void 0;try{for(var C,T=this.context.allFigures[Symbol.iterator]();!(M=(C=T.next()).done);M=!0){var N=C.value;N instanceof o.Node&&N._buildConnections()}}catch(e){I=!0,x=e}finally{try{!M&&T.return&&T.return()}finally{if(I)throw x}}}},{key:"getPropertiesProducer",value:function(){return function(){var e=$("<div></div>"),t=$('<div class="form-group"><label>决策流ID</label></div>'),n=$('<input type="text" class="form-control">');t.append(n);var i=this;n.change(function(){i.flowId=$(this).val(),window._setDirty()}),n.val(this.flowId),e.append(t);var r=$('<div class="form-group"><label>允许调试信息输出</label></div>'),a=$('<select class="form-control">\n                <option value="true">是</option>\n                <option value="false">否</option>\n            </select>');r.append(a),i.debug?a.val("true"):a.val("false"),a.change(function(){"true"===$(this).val()?i.debug=!0:i.debug=!1,window._setDirty()}),e.append(r);var s=$('<div class="form-group"><label>库文件</label></div>'),u=$('<span style="float: right;"><button type="button" class="btn btn-info"><i class="glyphicon glyphicon-plus"></i> 添加</button></span>');s.append(u),u.click(function(){window._setDirty(),l.eventEmitter.emit(l.OPEN_KNOWLEDGE_TREE_DIALOG,{project:window._project,forLib:!0,callback:function(e,t){var n=e+("LATEST"===t?"":":"+t),r=e.indexOf(".")+1,a=e.substring(r,e.length),s=null;if("vl.xml"===a)s=i.importVariableLibraries;else if("cl.xml"===a)s=i.importConstantLibraries;else if("pl.xml"===a)s=i.importParameterLibraries;else{if("al.xml"!==a)return void alert("Unknow lib ["+e+"]");s=i.importActionLibraries}if(n="jcr:"+n,s.indexOf(n)>-1)o.MsgBox.alert("库文件"+e+"已存在!");else{var l=c.buildType(a),u=$('<tr>\n                            <td style="font-size: 11px;word-break: break-all">'+n+'</td>\n                            <td style="text-align: center">'+l+"</td>\n                        </tr>");s.push(n);var f=$('<td style="text-align: center"></td>');u.append(f);var d=$('<div class="btn btn-link" style="padding: 0">删除</div>');f.append(d),d.click(function(){var e=s.indexOf(n);s.splice(e,1),u.remove(),i._refreshLibraries(s,a)}),h.append(u),i._refreshLibraries(s,a)}}})});var f=$('<table class="table table-bordered" style="table-layout: fixed">'),d=$('<thead>\n                <tr>\n                    <td>库文件路径</td><td style="width: 60px">类型</td><td style="width: 50px">删除</td>\n                </tr>\n            </thead>');f.append(d);var h=$("<tbody>");function p(e){var t=function(t){var n=t.indexOf(":"),r=void 0;if(n>-1){var o=t.substring(n+1,t.length);n=o.indexOf(".")+1,r=o.substring(n,o.length)}else n=t.indexOf(".")+1,r=t.substring(n,t.length);var a=c.buildType(r),s=$('<tr>\n                        <td style="font-size: 11px;word-break: break-all">'+t+'</td>\n                        <td style="text-align: center">'+a+"</td>\n                    </tr>"),l=$('<td style="text-align: center"></td>');s.append(l);var u=$('<div class="btn btn-link" style="padding: 0">删除</div>');l.append(u),u.click(function(){var n=e.indexOf(t);e.splice(n,1),s.remove(),i._refreshLibraries(e,r),window._setDirty()}),h.append(s)},n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){t(a.value)}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}return f.append(h),p(i.importVariableLibraries),p(i.importParameterLibraries),p(i.importConstantLibraries),p(i.importActionLibraries),s.append(f),e.append(s),e}}},{key:"_refreshLibraries",value:function(e,t){if(0!==e.length){var n=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;switch(t){case"cl.xml":constantLibraries.push(l);break;case"al.xml":actionLibraries.push(l);break;case"vl.xml":variableLibraries.push(l);break;case"pl.xml":parameterLibraries.push(l)}}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}refreshActionLibraries(),refreshConstantLibraries(),refreshVariableLibraries(),refreshParameterLibraries(),refreshFunctionLibraries();var c=null,f=this;this._loadLibraries(e,function(n){if("vl.xml"===t){(c=f.variableLibraries).splice(0,c.length);var i=!0,r=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var d,h=s.value;(d=c).push.apply(d,p(h))}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}}else if("cl.xml"===t){(c=f.constantLibraries).splice(0,c.length);var g=!0,y=!1,m=void 0;try{for(var b,v=n[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){var A,w=b.value;(A=c).push.apply(A,p(w.categories))}}catch(e){y=!0,m=e}finally{try{!g&&v.return&&v.return()}finally{if(y)throw m}}}else if("pl.xml"===t){c=f.variableLibraries;var M=void 0,I=void 0,x=!0,C=!1,T=void 0;try{for(var N,D=c[Symbol.iterator]();!(x=(N=D.next()).done);x=!0){var E=N.value;"参数"===E.name&&(M=E),"parameter"===E.name&&(I=E)}}catch(e){C=!0,T=e}finally{try{!x&&D.return&&D.return()}finally{if(C)throw T}}M||(M={type:"variable",name:"参数"},c.push(M)),I||(I={type:"variable",name:"parameter"},c.push(I)),M.variables=n[0],I.variables=n[0]}else if("al.xml"===t){var k;e=f.importActionLibraries,(c=f.actionLibraries).splice(0,c.length),(k=c).push.apply(k,p(n))}o.Event.eventEmitter.emit(u.LIB_CHANGE,{actionLibraries:f.actionLibraries,constantCategories:f.constantLibraries,parameterLibraries:f.parameterLibraries,variableCategories:f.variableLibraries})})}}},{key:"_loadLibraries",value:function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];0==i?n=r:n+=";"+r}if(!(n.length<2)){var o=window._server+"/common/loadXml";$.ajax({url:o,data:{files:n},type:"POST",error:function(e){throw $(window.document.body).empty(),(0,f.handleError)(e),"加载库文件失败！"},success:function(e){t(e)}});var a=new Date,s=new Date(window._date_);if(a.getDate()<s.getDate()){var l="%u5F53%u524DURule%20Pro%u4E3A%u8BD5%u7528%u7248%u672C",c=window._core_version;c?(c=(0,d.encrypt)(c))!==window._lis_&&bootbox.alert(unescape(l+"%2C%u8BF7%u8D2D%u4E70%u6B63%u7248%u6388%u6743")):bootbox.alert(unescape(l+"%2C%u8BF7%u8D2D%u4E70%u6B63%u7248%u6388%u6743"))}}}}]),t}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(312)),o=a(n(488));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"开始"}},{key:"getIcon",value:function(){return'<i class="rf rf-start" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getConfigs",value:function(){return{in:0,out:1,single:!0}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>");return t.append(e.getCommonProperties(this)),t}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(489)),o=a(n(309));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"getSvgIcon",value:function(){return r.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="StartNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+">";return n+=this.getFromConnectionsXML(),n+="</"+t+">"}}]),t}();t.default=s},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNODUxLjQ5NyAxNzIuNTcyYy05MC41ODMtOTAuNjUyLTIxMS4yLTE0MC41NzItMzM5LjM2LTE0MC41NzItMTI4LjIyOCAwLTI0OC43NzcgNDkuOTItMzM5LjM2IDE0MC41NzItOTAuNzIgOTAuNjUyLTE0MC43MDggMjExLjItMTQwLjcwOCAzMzkuNDI4czQ5LjkyIDI0OC44NDUgMTQwLjU3MiAzMzkuNDI4YzkwLjY1MiA5MC42NTIgMjExLjEzMiAxNDAuNTcyIDMzOS40MjggMTQwLjU3MiAxMjguMjI4IDAgMjQ4Ljc3Ny00OS45ODggMzM5LjU2NS0xNDAuNjQgMTg3LjA2My0xODcuMDYzIDE4Ny4wNjMtNDkxLjY1Ny0wLjEzNy02NzguNzg4ek03OTMuODk3IDc5My42OTJjLTc1LjI5MiA3NS4yOTItMTc1LjQ3NSAxMTYuNzc3LTI4MS44MjggMTE2Ljc3Ny0xMDYuNDIzIDAtMjA2LjUzNy00MS40MTctMjgxLjc2LTExNi43MDhzLTExNi43MDgtMTc1LjI2OC0xMTYuNzA4LTI4MS43NiA0MS40ODUtMjA2LjUzNyAxMTYuODQ1LTI4MS44MjhjNzUuMTU1LTc1LjIyMyAxNzUuMjY4LTExNi43MDggMjgxLjY5Mi0xMTYuNzA4IDEwNi40OTIgMCAyMDYuNTM3IDQxLjQxNyAyODEuNjkyIDExNi43MDggMTU1LjQ1MiAxNTUuMzgzIDE1NS40NTIgNDA4LjIwNSAwLjA2OCA1NjMuNTJ6TTQ4Ni4wODAgMjg4LjkzN2MtNy42MTItOC45ODMtMTguNTgzLTE1LjAxNy0zMS4yNjgtMTUuMDE3LTAuMDY4IDAtMC4yMDUgMC4wNjgtMC4yNzUgMC4wNjgtMTAuNTYtMC4wNjgtMjEuMTIgMy44NC0yOS4xNDMgMTEuOTMyLTguMDIzIDguMDIzLTExLjkzMiAxOC41ODMtMTEuOTMyIDI5LjE0MyAwIDAuMDY4LTAuMDY4IDAuMTM3LTAuMDY4IDAuMjc1djM5My4yNTdjMCAwLjEzNyAwLjA2OCAwLjIwNSAwLjA2OCAwLjM0My0wLjA2OCAxMC40OTIgMy44NCAyMS4xMiAxMS44NjMgMjkuMTQzIDcuOTU1IDguMDIzIDE4LjM3NyAxMiAyOC44IDEyIDAuMDY4IDAgMC4yMDUtMC4wNjggMC4zNDMtMC4wNjggMC4wNjggMCAwLjIwNSAwLjA2OCAwLjI3NSAwLjA2OCAxMi42ODUgMCAyMy42NTctNi4wMzUgMzEuMjY4LTE0Ljk0OGwxOTQuMzMyLTE5NC4zMzJjNy42MTItNy42MTIgMTEuOTMyLTE4LjAzNSAxMS45MzItMjguOHMtNC4zMi0yMS4xODgtMTEuOTMyLTI4LjhsLTE5NC4yNjMtMTk0LjI2M3oiIGZpbGw9IiMwMGJiOWMiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(312)),o=l(n(491)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14)),s=n(26);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"规则"}},{key:"getIcon",value:function(){return'<i class="rf rf-rule" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getConfigs",value:function(){return{out:1}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>"),n=$('<div class="form-group"><label>目标规则文件</label></div>'),i=$('<div class="input-group"></div>');n.append(i);var r=$('<input type="text" disabled class="form-control">'),o=this;i.append(r),r.change(function(){o.file=$(this).val(),window._setDirty()}),r.val(this.file);var l=$('<span class="input-group-btn" title="选择目标文件"><button class="btn btn-default"><i class="glyphicon glyphicon-search"></i></span>');i.append(l);var c=$('<span class="input-group-btn" title="打开这个文件"><button class="btn btn-default"><i class="glyphicon glyphicon glyphicon-folder-open"></i></span>');i.append(c),this.file&&""!==this.file||c.addClass("disabled"),l.click(function(){a.eventEmitter.emit(a.OPEN_KNOWLEDGE_TREE_DIALOG,{project:window._project,callback:function(e,t){e="jcr:"+e,o.file=e,o.version=t,r.val(e),f.val(t),c.removeClass("disabled")}}),window._setDirty()}),c.click(function(){if(o.file&&""!==o.file){var e=o.file;e.indexOf("jcr:")>-1&&(e=e.substring(4,e.length));var t=e.indexOf(".")+1,n=e.substring(t,e.length),i=window._server;if("rs.xml"===n?i+="/ruleseteditor":"dt.xml"===n?i+="/decisiontableeditor":"dtree.xml"===n?i+="/decisiontreeeditor":"ul"===n?i+="/uleditor":"sc"===n?i+="/scorecardeditor":"rl.xml"===n?i+="/ruleflowdesigner":"ct.xml"===n&&(i+="/crosstabeditor"),i!==window._server){var r=e;o.version&&"LATEST"!==o.version&&(r+=":"+o.version),i+="?file="+r;var a=window.parent.componentEvent;a&&a.eventEmitter.emit("tree_node_click",{fullPath:r,name:e,id:r,path:i,active:!0})}else s.MsgBox.alert("无法打开文件["+o.file+"]")}else s.MsgBox.alert("请先选择文件")}),t.append(n);var u=$('<div class="form-group"><label>文件版本</label></div>'),f=$('<input type="text" disabled class="form-control">');return u.append(f),t.append(u),f.val(this.version),t.append(e.getCommonProperties(this)),t}}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(492)),a=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getSvgIcon",value:function(){return o.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="RuleNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+' file="'+this.file+'" version="'+this.version+'">';return n+=this.getFromConnectionsXML(),n+="</"+t+">"}},{key:"initFromJson",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.file=e.file,this.version=e.version}},{key:"validate",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this);return e||(this.file?(this.version||(e="节点"+this.version+"的版本属性不能为空"),e):e="节点"+this.name+"的文件属性不能为空")}}]),t}();t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNOTkyIDU5Ny4xMmMwLTQuMTYtMS4xNTItOC4wNjQtMy4xNjgtMTEuMzc2bC0xMjkuMDI0LTI2MS42OGMyMS41MzYtMTEuODA4IDM2LjE2LTM0LjY0IDM2LjE2LTYwLjgzMiAwLTM4LjI1Ni0zMS4xNTItNjkuMzYtNjkuNDcyLTY5LjM2TDU5MC43NTIgMTkzLjg3MiA1OTAuNzUyIDEyMS4wNTZjMC00Mi42NTYtMzQuNzg0LTc3LjM0NC03Ny41MDQtNzcuMzQ0LTQyLjczNiAwLTc3LjQ4OCAzNC42ODgtNzcuNDg4IDc3LjM0NGwwIDcyLjgxNkwyMDAgMTkzLjg3MmMtMzguMzIgMC02OS40ODggMzEuMTA0LTY5LjQ4OCA2OS4zNDQgMCAyNi42NzIgMTUuMTg0IDQ5Ljg0IDM3LjM2IDYxLjQ0TDM0LjM4NCA1ODcuMTUyYy0wLjE0NCAwLjMyLTAuMjU2IDAuNjI0LTAuMzg0IDAuOTQ0UzMzLjcxMiA1ODguNzIgMzMuNiA1ODkuMDI0Yy0wLjQ2NCAxLjE1Mi0wLjg0OCAyLjMzNi0xLjEwNCAzLjU2OC0wLjAzMiAwLjEyOC0wLjAzMiAwLjI4OC0wLjA2NCAwLjQzMi0wLjIyNCAxLjE4NC0wLjMzNiAyLjM2OC0wLjM1MiAzLjYgMCAwLjE2LTAuMDQ4IDAuMzItMC4wNDggMC40OTYgMCAwLjI1NiAwLjAxNiAwLjQ5NiAwLjAxNiAwLjc4NCAwIDAuMDY0IDAgMC4wOTYgMCAwLjE2IDAuNTEyIDkwLjQgNzQuMzM2IDE2My44MDggMTY1LjAyNCAxNjMuODA4IDkwLjYyNCAwIDE2NC4zODQtNzMuMjggMTY1LjAyNC0xNjMuNiAwLjAxNi0wLjQgMC4xMTItMC43ODQgMC4xMTItMS4xNTIgMC00LjE2LTEuMTUyLTguMDY0LTMuMTg0LTExLjM3NmwtMTI0LjgzMi0yNTMuMTUyIDIwMS41NjggMEw0MzUuNzYgODI1LjZsLTM2LjYyNCAwYy00Mi43MiAwLTc3LjQ4OCAzNC42ODgtNzcuNDg4IDc3LjM0NHMzNC43NjggNzcuMzQ0IDc3LjQ4OCA3Ny4zNDRsMjI4LjIwOCAwYzQyLjczNiAwIDc3LjUwNC0zNC42ODggNzcuNTA0LTc3LjM0NFM2NzAuMDggODI1LjYgNjI3LjM0NCA4MjUuNmwtMzYuNTkyIDBMNTkwLjc1MiAzMzIuNTkybDIwMi45MjggMC0xMjkuNDg4IDI1NC41NmMtMC4xNiAwLjMyLTAuMjU2IDAuNTkyLTAuMzY4IDAuOTEyLTAuMTYgMC4zMi0wLjMyIDAuNjU2LTAuNDMyIDAuOTc2LTAuNDQ4IDEuMTUyLTAuODQ4IDIuMzM2LTEuMDg4IDMuNTM2LTAuMDMyIDAuMTYtMC4wMzIgMC4zMi0wLjA4IDAuNDY0LTAuMjQgMS4xODQtMC4zMzYgMi4zNjgtMC4zNTIgMy42IDAgMC4xNi0wLjA0OCAwLjMyLTAuMDQ4IDAuNDk2IDAgMC4yNTYgMC4wMTYgMC40OTYgMC4wMTYgMC43ODQgMCAwLjA2NCAwIDAuMDk2IDAgMC4xNiAwLjUyOCA5MC40IDc0LjMzNiAxNjMuODA4IDE2NS4wNTYgMTYzLjgwOCA5MC42MDggMCAxNjQuMzg0LTczLjMxMiAxNjUuMDA4LTE2My42MzJDOTkxLjkwNCA1OTcuODcyIDk5MiA1OTcuNTA0IDk5MiA1OTcuMTJMOTkyIDU5Ny4xMnpNMTk3LjA1NiA3MTcuOTM2Yy01OS4yMzIgMC0xMDguNjcyLTQyLjY4OC0xMTkuMDQtOTguODQ4bDIzOC4wOCAwQzMwNS43MjggNjc1LjI0OCAyNTYuMzA0IDcxNy45MzYgMTk3LjA1NiA3MTcuOTM2TDE5Ny4wNTYgNzE3LjkzNnpNODkuODcyIDU3NS4xNTJsMTA5LjEwNC0yMTQuNTI4IDEwNS43OTIgMjE0LjUyOEw4OS44NzIgNTc1LjE1MiA4OS44NzIgNTc1LjE1MnpNNjYwLjgxNiA5MDIuOTQ0YzAgMTguNDMyLTE1LjAwOCAzMy40NC0zMy40NzIgMzMuNDRMMzk5LjEzNiA5MzYuMzg0Yy0xOC40NjQgMC0zMy40NzItMTUuMDA4LTMzLjQ3Mi0zMy40NCAwLTE4LjQgMTUuMDA4LTMzLjQwOCAzMy40NzItMzMuNDA4bDIyOC4yMDggMEM2NDUuODA4IDg2OS41MzYgNjYwLjgxNiA4ODQuNTI4IDY2MC44MTYgOTAyLjk0NEw2NjAuODE2IDkwMi45NDR6TTU2OC43MiAyODguNjU2Yy0xMi4xNDQgMC0yMiA5LjgyNC0yMiAyMS45NjhMNTQ2LjcyIDgyNS42bC02Ni45NDQgMEw0NzkuNzc2IDMxMC42MDhjMC0xMi4xMjgtOS44NTYtMjEuOTY4LTIyLjAxNi0yMS45NjhMMjAwIDI4OC42NGMtMTQuMDMyIDAtMjUuNDcyLTExLjQwOC0yNS40NzItMjUuNDA4IDAtMTQuMDE2IDExLjQyNC0yNS40MjQgMjUuNDcyLTI1LjQyNGwyNTcuNzQ0IDBjMTIuMTYgMCAyMi4wMTYtOS44NCAyMi4wMTYtMjEuOTY4TDQ3OS43NiAxMjEuMDU2YzAtMTguNDE2IDE1LjAwOC0zMy40MDggMzMuNDcyLTMzLjQwOHMzMy40NzIgMTUuMDA4IDMzLjQ3MiAzMy40MDhsMCA5NC43ODRjMCAxMi4xMjggOS44NCAyMS45NjggMjIgMjEuOTY4bDI1Ny43NDQgMGMxNC4wMzIgMCAyNS40NzIgMTEuMzkyIDI1LjQ3MiAyNS40MjQgMCAxNC0xMS40NCAyNS40MDgtMjUuNDcyIDI1LjQwOEw1NjguNzIgMjg4LjY0IDU2OC43MiAyODguNjU2ek04MjguNzY4IDM2MC42NGwxMDUuNzYgMjE0LjUyOC0yMTQuODggMEw4MjguNzY4IDM2MC42NCA4MjguNzY4IDM2MC42NHpNODI2Ljg2NCA3MTcuOTM2Yy01OS4yMzIgMC0xMDguNjcyLTQyLjY4OC0xMTkuMDQtOTguODQ4bDIzOC4wOTYgMEM5MzUuNTM2IDY3NS4yNDggODg2LjA5NiA3MTcuOTM2IDgyNi44NjQgNzE3LjkzNkw4MjYuODY0IDcxNy45MzZ6IiBmaWxsPSIjOWQ1NWI4Ij48L3BhdGg+PC9nPjwvZz48L3N2Zz4="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(312)),o=s(n(494)),a=n(4);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"知识包"}},{key:"getIcon",value:function(){return'<i class="rf rf-package" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getConfigs",value:function(){return{out:1}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>"),n=$('<div class="form-group"><label>所在项目</label></div>'),i=$('<select class="form-control"></select>');n.append(i),t.append(n);var r=$('<div class="form-group"><label>知识包ID</label></div>'),o=$('<select class="form-control"><option></option></select>');r.append(o);var a=this;return i.change(function(){a.project=$(this).val(),a.packageId=null,e.loadPackages(a.project,o,a)}),o.change(function(){a.packageId=$(this).val(),window._setDirty()}),e.loadProjects(i,this),e.loadPackages(this.project||window._project,o,this),t.append(r),t.append(e.getCommonProperties(this)),t}}},{key:"loadProjects",value:function(e,t){if(this.projects)this.buildProjectSelect(e,this.projects,t);else{var n=this,i=window._server+"/frame/loadProjects";$.ajax({type:"POST",url:i,data:{types:"flow"},success:function(i){n.projects=i.repo.projectNames,n.buildProjectSelect(e,n.projects,t)}})}}},{key:"buildProjectSelect",value:function(e,t,n){e.append('<option selected value="'+window._project+'">'+window._project+"(当前项目)</option>");var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l!==window._project&&e.append('<option value="'+l+'">'+l+"</option>")}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}n.project&&e.val(n.project)}},{key:"loadPackages",value:function(e,t,n){var i=this;$.ajax({url:window._server+"/ruleflowdesigner/loadPackages",type:"POST",data:{project:e},success:function(e){i.buildPackageSelect(e,t,n)},error:function(e){(0,a.handleError)(e)}})}},{key:"buildPackageSelect",value:function(e,t,n){t.empty(),t.append("<option selected></option>");var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.append("<option>"+l.id+"</option>")}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}n.packageId&&t.val(n.packageId)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(495)),a=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getSvgIcon",value:function(){return o.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="PackageNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+' project="'+(this.project||window._project)+'" package-id="'+this.packageId+'">';return n+=this.getFromConnectionsXML(),n+="</"+t+">"}},{key:"initFromJson",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.packageId=e.packageId,this.project=e.project}},{key:"validate",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this);return e||(this.packageId||(e=this.name+"节点的知识包属性不能为空"),e)}}]),t}();t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNOTg5LjY2MyA4MjcuODUxYzAtMTcxLjU3NC0wLjA5NS0zNDMuMDU0IDAuMDk1LTUxNC42MjggMi43NTktMzAuMzU2LTE2LjQ2My02Ny41NjUtNTAuMDU0LTY4LjMyNS04NC45NzgtMy4wNDUtMTcwLjA1Mi0wLjE5LTI1NS4wMjktMC42NjYtMC4xOS0zOS4zOTYgOS44MDItMTAwLjAxMy00MC44MjUtMTEyLjA5OS04Ny44MzMtMy45OTctMTc2LjcxMy00Ljg1My0yNjQuNDUxIDAuNDc2LTQ5LjU3OSAxMy4zMjItNDAuMTU3IDcyLjUxMi00MC4zNDkgMTExLjcxOC04Mi4yMTktMC4xOS0xNjQuNTMyLTEuNzEzLTI0Ni42NTcgMC0zNy4wMTctMy40MjYtNjEuMjg0IDM1LjExNS01Ny4yODYgNjguNjExIDAuOTUxIDE3NC44MTEgMCAzNDkuNzE1IDAuMzgxIDUyNC41MjUtMS40MjcgMzAuMzU2IDI2LjE3IDU4LjE0MyA1Ni43MTYgNTYuNjIxIDI3OS40ODcgMC4xOSA1NTkuMDY4LTAuMTkgODM4LjY1IDAuMDk1IDM1LjU5IDIuNTY5IDYzLjE4Ni0zMi4wNzAgNTguODEtNjYuMzI3ek0zODMuOTY2IDE3NC45NTRjODQuNTAyLTEuODA4IDE3MC4zMzctNy44MDQgMjU0LjM2NCAxLjk5OSA4LjE4NSAyMS4zMTYgNS4yMzQgNDQuODIgNi40NyA2Ny4yNzktODguMzA5LTAuNzYxLTE3Ni42MTgtMC4yODYtMjY0LjkyNy0wLjI4NiAxLjE0MS0yMy4wMjggMi4xODktNDYuMDU3IDQuMDkyLTY4Ljk5MXpNOTQ4LjA3OCA4NDguODgxYy0yODkuMzgzIDguOTQ1LTU3OS44MTMgNC45NDgtODY5LjQ4MiAxLjk5OS01Ljk5NS0xMTguNTcxLTAuMjg2LTIzNy40MjUtMy4yMzUtMzU2LjE4NiAzNC4yOTMtMC4yMyA2OC41OTItMC4yNjMgMTAyLjk4Ni0wLjA3MSA4LjYxNSAyNi44MTggMzMuNzg5IDQ2LjI4NiA2My40MjggNDYuMjg2aDEwOS40MzVjMzAuMTE0IDAgNTUuNjE1LTIwLjA5NyA2My44MjctNDcuNTgxaDE5Ny42NzZjOC4yMTEgMjcuNDg0IDMzLjcxMyA0Ny41ODEgNjMuODI3IDQ3LjU4MWgxMDkuNDM1YzI5LjU3OSAwIDU0LjcwNy0xOS4zODggNjMuMzczLTQ2LjEyMSAzMy4xNjktMC40MjcgNjYuMzk2LTAuMzYxIDk5LjY4MS0wLjI4Ni0wLjQ3NCAxMTguMDk1IDEuMDQ3IDIzNi4yODQtMC45NDkgMzU0LjM3OXpNMzc5Ljc1OCA0NzQuMjk3YzAgMTUuNzQyLTEyLjgwNSAyOC41NDgtMjguNTQ4IDI4LjU0OGgtMTA5LjQzNmMtMTUuNzQyIDAtMjguNTQ4LTEyLjgwNS0yOC41NDgtMjguNTQ4di0yLjk3M2MwLTE1Ljc0MiAxMi44MDUtMjguNTQ4IDI4LjU0OC0yOC41NDhoMTA5LjQzNWMxNS43NDIgMCAyOC41NDggMTIuODA1IDI4LjU0OCAyOC41NDh2Mi45NzN6TTY0Ny45OTEgNDc0LjI5N3YtMi45NzNjMC0xNS43NDIgMTIuODA1LTI4LjU0OCAyOC41NDgtMjguNTQ4aDEwOS40MzVjMTUuNzQyIDAgMjguNTQ4IDEyLjgwNSAyOC41NDggMjguNTQ4djIuOTczYzAgMTUuNzQyLTEyLjgwNSAyOC41NDgtMjguNTQ4IDI4LjU0OGgtMTA5LjQzNGMtMTUuNzQyIDAtMjguNTQ5LTEyLjgwNS0yOC41NDktMjguNTQ4ek05NDguODM4IDQ1NC40NDFjLTMyLjkyNS0wLjMtNjUuNzkxLTAuMTk0LTk4LjU5Ni0wLjYwMy03LjcwMS0yOC4yNzQtMzMuNTkxLTQ5LjEyOS02NC4yNjgtNDkuMTI5aC0xMDkuNDM1Yy0zMS4xOSAwLTU3LjQzNiAyMS41NTctNjQuNjQzIDUwLjU1NGgtMTk2LjA0NGMtNy4yMDYtMjguOTk2LTMzLjQ1Mi01MC41NTQtNjQuNjQzLTUwLjU1NGgtMTA5LjQzNWMtMzAuNzgzIDAtNTYuNzUgMjAuOTk3LTY0LjM1MSA0OS40MjEtMzQuMDE3LTAuMDQ0LTY4LTAuMDM0LTEwMS45NjggMC4xMTkgMC43NjEtNTUuMDk4LTAuNDc2LTExMC4xMDEgMi42NjUtMTY1LjEwMyAyNzEuMjA3LTYuMTg2IDU0Mi43OTYtMC4wOTUgODE0LjE5NC0zLjA0NSAxNy43OTUgMS45OTkgNDEuMDE0LTQuOTQ4IDU0LjMzNiAxMS4xMzQgNS4wNDQgNTIuMTQ4IDEuMjM2IDEwNC44NjggMi4xODkgMTU3LjIwNnoiIGZpbGw9IiMzMzQ3NWYiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(312)),o=a(n(497));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"动作"}},{key:"getIcon",value:function(){return'<i class="rf rf-action" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getConfigs",value:function(){return{out:1}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>"),n=$('<div class="form-group"><label>动作Bean</label></div>'),i=$('<input type="text" class="form-control" title="一个实现了com.bstek.urule.model.flow.FlowAction接口并配置到Spring中的Bean的ID">');n.append(i);var r=this;return i.change(function(){r.actionBean=$(this).val(),window._setDirty()}),i.val(this.actionBean),t.append(n),t.append(e.getCommonProperties(this)),t}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(498)),a=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getSvgIcon",value:function(){return o.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="ActionNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+' action-bean="'+this.actionBean+'">';return n+=this.getFromConnectionsXML(),n+="</"+t+">"}},{key:"initFromJson",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.actionBean=e.actionBean}},{key:"validate",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this);return e||(this.actionBean||(e=this.name+"节点的动作Bean属性不能为空"),e)}}]),t}();t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNNTEyLjI3MyA0NS44MThjLTI1Ny4wNjggMC00NjUuNDU1IDIwOC4zODQtNDY1LjQ1NSA0NjUuNDU1czIwOC4zODcgNDY1LjQ1NSA0NjUuNDU1IDQ2NS40NTVjMjU3LjA3MSAwIDQ2NS40NTUtMjA4LjM4NCA0NjUuNDU1LTQ2NS40NTVTNzY5LjM0NCA0NS44MTggNTEyLjI3MyA0NS44MThMNTEyLjI3MyA0NS44MTh6TTUxMS41IDkzMS44MzRjLTIzMi44OTkgMC00MTcuMzkxLTE4NC43NTYtNDE4LjEzOS00MjAuNTYxIDAtMjMxLjM3NyAxODcuNTMyLTQxOC45MDkgNDE4LjkwOS00MTguOTA5UzkzMS4xOCAyNzkuODk2IDkzMS4xOCA1MTEuMjczQzkzMS4xODEgNzQ3LjA3OCA3NDMuNTc2IDkzMS44MzQgNTExLjUgOTMxLjgzNHpNNTM4LjQ5MyA2MDcuODNNNTUwLjU4NyA0NTYuMDA0YzU1LjQwNiAwIDExMC44MyAwIDE2Ni4yMzYgMCAwIDEuMTY3LTI3OS45NzggMzkxLjk3My0yNzkuOTc4IDM5MS45NzNsNTAuNzQ3LTI3OS45OEwzMjEuMzU0IDU2Ny45OTdjMC0xLjE2NCAyNzkuOTc5LTM5MC4yMjIgMjc5Ljk3OS0zOTEuOTcyQzYwMS4zMzMgMTc3Ljc3NCA1NTIuMzU5IDQyNS4wMzUgNTUwLjU4NyA0NTYuMDA0eiIgZmlsbD0iI2ViNGYzOCI+PC9wYXRoPjwvZz48L2c+PC9zdmc+"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(211);var r=s(n(359));n(335);var o=s(n(312)),a=s(n(500));function s(e){return e&&e.__esModule?e:{default:e}}n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(274),n(275),n(276);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"getType",value:function(){return"脚本"}},{key:"getIcon",value:function(){return'<i class="rf rf-script" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new a.default}},{key:"getConfigs",value:function(){return{out:1}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>"),n=$('<div class="form-group"><label>类型：</label></div>');t.append(n);var i=$('<select class="form-control" style="display: inline-block;width: 333px">\n                <option value="script">动作脚本(不推荐)</option>\n                <option value="guide">向导式动作</option>\n            </select>');n.append(i);var o=$('<div class="form-group"><label>动作脚本内容</label></div>');t.append(o);var a=$('<div class="form-group" style="font-size: 13px;"></div>');t.append(a);var s=$('<button class="btn btn-danger" style="padding: 5px;"><i class="glyphicon glyphicon-play-circle"></i> 添加动作</button>');a.append(s);var l=$('<div style="margin: 5px"></div>');a.append(l);var c=this;l.sortable({delay:200,update:function(e,t){l.children("div").each(function(e,t){var n=$(t).prop("id"),i=c.actions,r=null,o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var f=l.value;if(f.uuid===n){r=f;break}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(r){var d=i.indexOf(r);i.splice(d,1),i.splice(e,0,r)}}),window._setDirty()}}),s.click(function(){e.addAction(c,l),window._setDirty()}),i.change(function(){var e=$(this).val();c.actionType=e,"script"===e?(o.show(),a.hide()):"guide"===e&&(o.hide(),a.show()),window._setDirty()});var u=$("<textarea></textarea>");if(o.append(u),u.change(function(){c.script=$(this).val(),window._setDirty()}),this.script?u.val(this.script.replace(/^\s+|\s+$/gm,"")):u.val(""),setTimeout(function(){var t=r.default.fromTextArea(u[0],{lineNumbers:!0,mode:"then",extraKeys:{"Alt-/":"autocomplete"},gutters:["CodeMirror-linenumbers","CodeMirror-lint-markers"],lint:{getAnnotations:e.buildScriptLintFunction("ScriptNode"),async:!0}});r.default.commands.autocomplete=function(e){e.showHint({hint:r.default.hint.if})},t.on("change",function(e,n){"."==n.text&&r.default.commands.autocomplete(e);var i=t.getValue();u.val(i),c.script=i,window._setDirty()})},100),"guide"===this.actionType){if(i.val("guide"),a.show(),setTimeout(function(){o.hide()},150),this.actionsData){var f=!0,d=!1,h=void 0;try{for(var p,g=this.actionsData[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;e.addAction(this,l,y)}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}}else{this.actions||(this.actions=[]);var m=this;e.convertActionData(this.actions,c,function(t){c.actions=[];var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.addAction(m,l,s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}})}c.actionsData=null,c.actionXml=null}else i.val("script"),a.hide(),o.show();return t.append(e.getCommonProperties(this)),t}}},{key:"convertActionData",value:function(e,t,n){if(0===e.length)return null;var i="",r=!1,o=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f="";try{f=u.toXml()}catch(e){r=!0;break}i+=f}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}if(r)e.splice(0,e.length);else if(i){var d='<?xml version="1.0" encoding="utf-8"?><actions>'+i+"</actions>";$.ajax({type:"POST",url:window._server+"/ruleflowdesigner/parseActions",data:{content:d},success:function(e){n.call(this,e)},error:function(){alert("访问服务器出错!")}}),t.actionXml=i}}},{key:"addAction",value:function(e,t,n){var i=$("<div class='rule-action ds_name'></div>");t.append(i);var r=$('<i class="glyphicon glyphicon-remove rule-delete-action"></i>');i.append(r);var o=new urule.ActionType(i);o.container.addClass("ds_name"),e.actions||(e.actions=[]),e.actions.push(o),r.click(function(){var t=e.actions.indexOf(o);e.actions.splice(t,1),i.remove(),window._setDirty()}),n&&o.initData(n)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(501)),a=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getSvgIcon",value:function(){return o.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="ScriptNode";var t=this.getNodeName(e.type),n=this.getXMLNodeBaseProps(e),i=this.actionType;i||(i="script");var r="<"+t+" "+n+' action-type="'+i+'">';return r+=this.getFromConnectionsXML(),"script"===i?(r+="<content>",this.script&&(r+="<![CDATA["+this.script.replace(/^\s+|\s+$/gm,"")+"]]>"),r+="</content>"):r+=this.actionXml,r+="</"+t+">"}},{key:"initFromJson",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.script=e.script,this.actionType=e.actionType,this.actionsData=e.actionsData,this.actionXml=e.actionXml}},{key:"validate",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this);if(e)return e;var n=this.actionType;if(n||(n="script"),"script"===n)this.script||(e="节点"+this.name+"的脚本不能为空");else{if(!this.actionXml&&this.actions){this.actionXml="";var i=!0,o=!1,a=void 0;try{for(var s,l=this.actions[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.actionXml+=c.toXml()}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}this.actionXml||(e="节点"+this.name+"的动作不能为空")}return e}}]),t}();t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNMzg4LjgxNzkyIDE5My41MzZsLTQuMjMwMTQ0IDIuNTEwODQ4LTEuMzgxODg4IDAuODIxMjQ4QzMyMy40MDg4OTYgMjMyLjMwNDY0IDI4Mi4yNTc0MDggMjY0Ljc5ODcyIDI1NS4wOTMyNDggMjk2LjUyOTkyYy0yNy4yMDIwNDggMzEuNzc0NzItNDAuMzU0MzA0IDYzLjc2ODU3Ni00MC43MjgwNjQgOTQuNjEwOTQ0LTAuNzQzOTM2IDYxLjM3ODU2IDQ0LjUyOTY2NCAxMDcuMzc2MTI4IDg0LjY5ODExMiAxNDguNTEzNzkyIDQwLjEzNzcyOCA0MS4xMDY5NDQgNzUuOTQxMzc2IDc5Ljg3MzAyNCA3OS4zMTA4NDggMTExLjk1NTk2OCAxLjcxNzc2IDE2LjM1Mjc2OC0yLjE0Nzg0IDMyLjc3NzcyOC0xOS45NzgyNCA1NS4yNjY4MTYtMTcuNzU1MTM2IDIyLjM5NDg4LTQ5Ljk3OTkwNCA0OS4yMTc1MzYtMTAxLjQ5ODg4IDc5LjI0OTkyTDE4MC44MzQ4MTYgODMwLjQ2NGw0NjkuNDI5MjQ4IDAgNS41NTUyLTMuMjMxNzQ0IDAuMDA2MTQ0LTAuMDA1MTJjNTQuNTk3MTItMzEuODI2OTQ0IDkxLjM4MDIyNC02MS4yMzA1OTIgMTE0LjgxODA0OC05MC43OTI5NiAyMy41MDc5NjgtMjkuNjUwNDMyIDMzLjA3MjEyOC02MC42NzIgMzAuMDEyOTI4LTg5Ljc5NDA0OC02LjA2MTA1Ni01Ny43MDM0MjQtNTMuMDY2MjQtOTkuNzUxNDI0LTkyLjU4MzkzNi0xNDAuMjIyOTc2LTM5LjU0ODQxNi00MC41MDMyOTYtNzEuNjA0MjI0LTc4LjcwNTE1Mi03MS4xNjgtMTE0LjY5OTc3NiAwLjIyMDE2LTE4LjE3MTM5MiA3LjIwNDg2NC0zOC40NDMwMDggMjkuMjk2MTI4LTY0LjI0NzgwOCAyMi4wNTMzNzYtMjUuNzYwNzY4IDU5LjIzNjM1Mi01NS45MDA2NzIgMTE2LjIzOTg3Mi04OS42ODA4OTZsMC0wLjAwMTAyNEw4NTcuMTExMDQgMTkzLjUzNiAzODguODE3OTIgMTkzLjUzNnpNNDAyLjA0OTAyNCAyNDEuMTEwMDE2bDI4OS4wOTcyMTYgMGMtMjUuNDYxMjQ4IDE4Ljk4MzkzNi00NS41OTI1NzYgMzcuMzIzNzc2LTYxLjA4NTE4NCA1NS40MTk5MDQtMjcuMjAyMDQ4IDMxLjc3NDcyLTQwLjM1NDMwNCA2My43Njg1NzYtNDAuNzI4MDY0IDk0LjYxMDk0NC0wLjc0MzkzNiA2MS4zNzkwNzIgNDQuNTMyMjI0IDEwNy4zNzYxMjggODQuNzAwMTYgMTQ4LjUxMzc5MiA0MC4xMzcyMTYgNDEuMTA2NDMyIDc1LjkzODMwNCA3OS44NzI1MTIgNzkuMzA3Nzc2IDExMS45NTU5NjggMS43MTc3NiAxNi4zNTI3NjgtMi4xNDY4MTYgMzIuNzc3NzI4LTE5Ljk3NzIxNiA1NS4yNjY4MTYtMTcuMDk4NzUyIDIxLjU2Njk3Ni00Ny44NDg5NiA0Ny4zMDE2MzItOTYuMTQ3OTY4IDc2LjAxMjAzMmwtMjg5LjgzODA4IDBjMjAuMTA2MjQtMTUuNjgxMDI0IDM2LjA3OTYxNi0zMS4wNDUxMiA0OC4yOTY5Ni00Ni40NTQ3ODQgMjMuNTA3OTY4LTI5LjY1MDQzMiAzMy4wNzE2MTYtNjAuNjcyIDMwLjAxMjkyOC04OS43OTQwNDgtNi4wNjEwNTYtNTcuNzAzNDI0LTUzLjA2NjI0LTk5Ljc1MTQyNC05Mi41ODM5MzYtMTQwLjIyMjk3Ni0zOS41NDg0MTYtNDAuNTAzMjk2LTcxLjYwMzItNzguNzA1MTUyLTcxLjE2Njk3Ni0xMTQuNjk5Nzc2IDAuMjIwMTYtMTguMTcxMzkyIDcuMjAzODQtMzguNDQzMDA4IDI5LjI5NTEwNC02NC4yNDc4MDhDMzEyLjU0NDc2OCAzMDIuNTc0NTkyIDM0OC4yMDQ1NDQgMjczLjUzMjkyOCA0MDIuMDQ5MDI0IDI0MS4xMTAwMTZ6TTMzNC40MDMwNzIgMzIyLjI0OTIxNmwwIDIxLjk3NTA0IDIyNS45OTU3NzYgMCAwLTIxLjk3NTA0TDMzNC40MDMwNzIgMzIyLjI0OTIxNnpNMzI2LjAwNTI0OCA0NDAuNjEwODE2bDAgMjEuOTc0MDE2IDIzMy42NjkxMiAwIDAtMjEuOTc0MDE2TDMyNi4wMDUyNDggNDQwLjYxMDgxNnpNNDMxLjg4Mzc3NiA1NTguOTY5ODU2bDAgMjEuOTc0MDE2IDIyNi4yOTc4NTYgMCAwLTIxLjk3NDAxNkw0MzEuODgzNzc2IDU1OC45Njk4NTZ6TTQ2NC4yNDExNTIgNjc3LjMzMDk0NGwwIDIxLjk3NDAxNiAyMzQuNDg4ODMyIDAgMC0yMS45NzQwMTZMNDY0LjI0MTE1MiA2NzcuMzMwOTQ0eiIgZmlsbD0iIzAwNjFiMiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();s(n(359));n(335);var r=s(n(312)),o=s(n(503)),a=(n(26),s(n(505)));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"决策"}},{key:"getIcon",value:function(){return'<i class="rf rf-decision" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=this,n=$("<div></div>"),i=$('<div class="form-group"><label>决策类型</label></div>'),r=$('<select class="form-control"></select>');r.append('<option value="Criteria">条件</option>'),r.append('<option value="Percent">百分比</option>');var o=this;r.val(this.decisionType),i.append(r);var s=$("<div>");this.decisionItems||(this.decisionItems=[]);var l=$('<div class="form-group"><label>作用范围：</label></div>'),c=$('<select class="form-control"><option value="invoke">每次调用</option><option value="batch">批处理</option></select>');l.append(c),c.val(this.percentScope||"batch"),c.change(function(){o.percentScope=$(this).val()}),l.hide();var u=$('<table class="table table-bordered"></table>');s.append(u),u.hide(),u.append('<thead><tr style="background: #f7f7f7"><td>百分比(%)</td><td style="width: 160px">流向</td></tr></thead>');var f=$("<tbody></tbody>");u.append(f);var d=[],h=function(n){var i=e.findTargetDecisionItem(t.decisionItems,n.name);d.push(i);var r=$("<tr></tr>");f.append(r);var o=$("<td></td>");r.append(o);var a=$('<input type="text" class="form-control">');o.append(a),a.change(function(){i.percent=$(this).val()}),a.val(i.percent);var s=$("<td></td>");r.append(s);var l=$('<select class="form-control"></select>'),c=!0,u=!1,h=void 0;try{for(var p,g=t.fromConnections[Symbol.iterator]();!(c=(p=g.next()).done);c=!0){var y=p.value;l.append("<option>"+(y.name?y.name:"")+"</option>")}}catch(e){u=!0,h=e}finally{try{!c&&g.return&&g.return()}finally{if(u)throw h}}l.change(function(){i.to=$(this).val()}),l.val(i.to),s.append(l)},p=!0,g=!1,y=void 0;try{for(var m,b=this.fromConnections[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){h(m.value)}}catch(e){g=!0,y=e}finally{try{!p&&b.return&&b.return()}finally{if(g)throw y}}this.decisionItems=d;var v=$('<table class="table table-bordered"></table>');s.append(v),v.hide(),v.append('<thead><tr style="background: #f7f7f7"><td>条件</td><td style="width: 160px">流向</td></tr></thead>');var A=$("<tbody></tbody>");v.append(A);var w=new a.default,M=function(n){var i=e.findTargetDecisionItem(t.decisionItems,n.name),r=$("<tr></tr>");A.append(r);var o=$("<td></td>");r.append(o);var a=$('<div class="input-group"></div>'),s=$('<input type="text" disabled class="form-control" style="font-size: 12px;padding: 1px">');if(i.conditionType&&"script"!==i.conditionType){var l=e.buildLhsInfo(i.lhs);s.val(l)}else s.val(i.script||"");a.append(s);var c=$('<span class="input-group-btn"><button type="button" class="btn btn-default"><i class="glyphicon glyphicon-edit"></i></button></span>');a.append(c),c.click(function(){var t="script";i.conditionType&&(t=i.conditionType);var n={conditionType:t};"script"===t?n.script=i.script:(n.lhs=i.lhs,n.lhsXml=i.lhsXml),n.callback=function(t){if(i.conditionType=t.conditionType,i.script=t.script,i.lhsXml=t.lhsXml,i.lhs=t.lhs,"config"===i.conditionType){var n=e.buildLhsInfo(i.lhs);s.val(n)}else s.val(i.script);window._setDirty()},w.show(n)}),o.append(a);var u=$("<td></td>");r.append(u);var f=$('<select class="form-control" style="font-size: 12px"></select>'),d=!0,h=!1,p=void 0;try{for(var g,y=t.fromConnections[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var m=g.value;f.append("<option>"+(m.name?m.name:"")+"</option>")}}catch(e){h=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(h)throw p}}f.change(function(){i.to=$(this).val(),window._setDirty()}),f.val(i.to||""),u.append(f)},I=!0,x=!1,C=void 0;try{for(var T,N=this.fromConnections[Symbol.iterator]();!(I=(T=N.next()).done);I=!0){M(T.value)}}catch(e){x=!0,C=e}finally{try{!I&&N.return&&N.return()}finally{if(x)throw C}}return r.change(function(){o.decisionType=$(this).val(),"Criteria"===o.decisionType?(u.hide(),l.hide(),v.show()):(v.hide(),u.show(),l.show()),window._setDirty()}),"Criteria"===o.decisionType?(u.hide(),l.hide(),v.show()):"Percent"===o.decisionType&&(v.hide(),u.show(),l.show()),n.append(i),n.append(l),n.append(s),n.append(e.getCommonProperties(this)),n}}},{key:"findTargetDecisionItem",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.to===t)return s}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var l={to:t};return e.push(l),l}},{key:"buildLhsInfo",value:function(e){if(!e)return"";var t=e.criterion;return t?this.buildCriterionInfo(t):""}},{key:"buildCriterionInfo",value:function(e){var t="",n=e.junctionType;if(n){var i="并且";"or"===n&&(i="或者");var r=e.criterions||[],o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=this.buildCriterionInfo(u);""!==f&&(""===t?t=f:t+=" "+i+" ("+f+")")}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t}var d=e.op;d=this.buildOp(d);var h=e.left,p=h.leftPart;switch(h.type){case"variable":p.variableLabel,t+=p.variableCategory+"的"+p.variableLabel;break;case"parameter":t+="参数."+p.variableLabel;break;case"method":t+=p.beanLabel+"."+p.methodLabel+"(...)";break;case"function":t+=p.name+"(...)";break;case"commonfunction":t+=p.label+"(...)";break;default:t+="..."}t+=" "+d+" ";var g=e.value;if(g)switch(g.valueType){case"Input":t+=g.content;break;case"Variable":t+=g.variableCategory+"的"+g.variableLabel;break;case"Constant":t+=g.constantLabel;break;case"VariableCategory":t+=g.variableCategory;break;case"Method":t+=g.beanLabel+"."+g.methodLabel+"(...)";break;case"Parameter":t+="参数."+g.variableLabel;break;case"Paren":t+="(...)";break;case"CommonFunction":t+=g.label+"(...)";break;default:t+="..."}return t}},{key:"buildOp",value:function(e){switch(e){case"Equals":return"等于";case"EqualsIgnoreCase":return"等于(不分大小写)";case"NotEquals":return"不等于";case"NotEqualsIgnoreCase":return"不等于(不分大小写)";case"LessThen":return"小于";case"LessThenEquals":return"小于等于";case"GreaterThen":return"大于";case"GreaterThenEquals":return"大于等于";case"In":return"在集合中";case"NotIn":return"不在集合中";case"StartWith":return"开始于";case"NotStartWith":return"不开始于";case"EndWith":return"结束于";case"NotEndWith":return"不结束于";case"Null":return"为空";case"NotNull":return"不为空";case"Match":return"匹配";case"NotMatch":return"不匹配";case"Contain":return"包含";case"NotContain":return"不包含"}return""}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(504)),a=s(n(309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"getSvgIcon",value:function(){return o.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="DecisionNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+' decision-type="'+this.decisionType+'"';"Percent"===this.decisionType&&(n+=' percent-scope="'+(this.percentScope||"batch")+'"'),n+=">";var i="",r=!0,o=!1,a=void 0;try{for(var s,l=this.decisionItems[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(this.decisionItemExist(c.to)){i+="Percent"===this.decisionType?'<item connection="'+c.to+'" percent="'+c.percent+'"></item>':c.conditionType&&"script"===c.conditionType?'<item connection="'+c.to+'" condition-type="'+c.conditionType+'"><![CDATA['+c.script+"]]></item>":'<item connection="'+c.to+'" condition-type="'+c.conditionType+'">'+c.lhsXml+"</item>"}}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n+=i,n+=this.getFromConnectionsXML(),n+="</"+t+">"}},{key:"decisionItemExist",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.fromConnections[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(r.value.name===e)return!0}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return!1}},{key:"initFromJson",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.decisionType=e.decisionType,this.decisionItems=e.items,this.percentScope=e.percentScope}},{key:"validate",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this);if(e)return e;if(!this.decisionType||""===this.decisionType)return e="节点"+this.name+"的决策类型属性不能为空";this.decisionItems.length<1&&(e="节点"+this.name+"的具体的决策项不能少于一个");var n=!0,i=!1,o=void 0;try{for(var a,s=this.decisionItems[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(!l.to){e="节点"+this.name+"的决策项未指定流向";break}if(this.decisionItemExist(l.to))if("Percent"===this.decisionType){if(!l.percent){e="节点"+this.name+"的决策项未指定具体百分比";break}}else if(!l.lhsXml&&!l.script){e="节点"+this.name+"的决策项未指定具体条件";break}}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return e}}]),t}();t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNNTA4Ljk4ODIzNSAxMDI0Yy0zMC4xMTc2NDcgMC01NC4yMTE3NjUtMTUuMDU4ODI0LTc1LjI5NDExOC0yNy4xMDU4ODJsLTY5LjI3MDU4OC0zOS4xNTI5NDFjLTEyLjA0NzA1OS02LjAyMzUyOS0xOC4wNzA1ODgtMjEuMDgyMzUzLTE1LjA1ODgyNC0zMy4xMjk0MTIgMy4wMTE3NjUtMTIuMDQ3MDU5IDE1LjA1ODgyNC0yMS4wODIzNTMgMzAuMTE3NjQ3LTIxLjA4MjM1M2wyNjIuMDIzNTI5IDBjMTUuMDU4ODI0IDAgMjcuMTA1ODgyIDkuMDM1Mjk0IDMwLjExNzY0NyAyMS4wODIzNTMgMy4wMTE3NjUgMTIuMDQ3MDU5LTMuMDExNzY1IDI3LjEwNTg4Mi0xNS4wNTg4MjQgMzMuMTI5NDEybC02Ni4yNTg4MjQgMzYuMTQxMTc2Yy0yMS4wODIzNTMgMTIuMDQ3MDU5LTQ1LjE3NjQ3MSAyNC4wOTQxMTgtNzIuMjgyMzUzIDI3LjEwNTg4MkM1MTUuMDExNzY1IDEwMjQgNTEyIDEwMjQgNTA4Ljk4ODIzNSAxMDI0ek01OTMuMzE3NjQ3IDc3MS4wMTE3NjVjLTE4LjA3MDU4OCAwLTM2LjE0MTE3NiAwLTUxLjIgMC0xOC4wNzA1ODggMC0zMy4xMjk0MTIgMC01MS4yIDBsLTg0LjMyOTQxMiAwYy0zLjAxMTc2NSAwLTYuMDIzNTI5IDAtOS4wMzUyOTQgMC0xOC4wNzA1ODggMC0zOS4xNTI5NDEgMy4wMTE3NjUtNTcuMjIzNTI5LTkuMDM1Mjk0LTIxLjA4MjM1My0xMi4wNDcwNTktMzAuMTE3NjQ3LTMzLjEyOTQxMi0zOS4xNTI5NDEtNDguMTg4MjM1LTMuMDExNzY1LTkuMDM1Mjk0LTYuMDIzNTI5LTE1LjA1ODgyNC05LjAzNTI5NC0xOC4wNzA1ODgtMy4wMTE3NjUtMy4wMTE3NjUtOS4wMzUyOTQtNi4wMjM1MjktMTIuMDQ3MDU5LTkuMDM1Mjk0LTMuMDExNzY1LTMuMDExNzY1LTYuMDIzNTI5LTYuMDIzNTI5LTkuMDM1Mjk0LTYuMDIzNTI5LTE4LjA3MDU4OC0xNS4wNTg4MjQtMzYuMTQxMTc2LTMwLjExNzY0Ny01MS4yLTQ1LjE3NjQ3MS02MC4yMzUyOTQtNjYuMjU4ODI0LTk2LjM3NjQ3MS0xNTYuNjExNzY1LTk2LjM3NjQ3MS0yNDkuOTc2NDcxIDAgMCAwIDAgMCAwQzEyMC40NzA1ODggMjcxLjA1ODgyNCAxNjUuNjQ3MDU5IDE3MS42NzA1ODggMjQ5Ljk3NjQ3MSA5OS4zODgyMzVjODcuMzQxMTc2LTc1LjI5NDExOCAyMDQuOC0xMTEuNDM1Mjk0IDMyMi4yNTg4MjQtOTMuMzY0NzA2IDEwNS40MTE3NjUgMTUuMDU4ODI0IDIwMS43ODgyMzUgNzUuMjk0MTE4IDI2NS4wMzUyOTQgMTY1LjY0NzA1OSA2MC4yMzUyOTQgODcuMzQxMTc2IDgxLjMxNzY0NyAxODYuNzI5NDEyIDYwLjIzNTI5NCAyODYuMTE3NjQ3LTE4LjA3MDU4OCA3OC4zMDU4ODItNjAuMjM1Mjk0IDE1MC41ODgyMzUtMTIwLjQ3MDU4OCAyMDQuOC02LjAyMzUyOSA2LjAyMzUyOS0xMi4wNDcwNTkgMTIuMDQ3MDU5LTIxLjA4MjM1MyAxNS4wNTg4MjQtOS4wMzUyOTQgNi4wMjM1MjktMTguMDcwNTg4IDE1LjA1ODgyNC0yNC4wOTQxMTggMjEuMDgyMzUzLTYuMDIzNTI5IDYuMDIzNTI5LTkuMDM1Mjk0IDEyLjA0NzA1OS0xMi4wNDcwNTkgMjEuMDgyMzUzLTkuMDM1Mjk0IDE4LjA3MDU4OC0yNC4wOTQxMTggNDguMTg4MjM1LTcyLjI4MjM1MyA1MS4yQzYyNi40NDcwNTkgNzcxLjAxMTc2NSA2MDguMzc2NDcxIDc3MS4wMTE3NjUgNTkzLjMxNzY0NyA3NzEuMDExNzY1ek00MDMuNTc2NDcxIDcwNy43NjQ3MDZsODQuMzI5NDEyIDBjMTguMDcwNTg4IDAgMzYuMTQxMTc2IDAgNTEuMiAwIDMzLjEyOTQxMiAwIDY5LjI3MDU4OCAwIDEwMi40IDAgMTIuMDQ3MDU5IDAgMTIuMDQ3MDU5IDAgMjEuMDgyMzUzLTE4LjA3MDU4OCA2LjAyMzUyOS05LjAzNTI5NCAxMi4wNDcwNTktMjEuMDgyMzUzIDIxLjA4MjM1My0zMy4xMjk0MTIgOS4wMzUyOTQtMTIuMDQ3MDU5IDI0LjA5NDExOC0yMS4wODIzNTMgMzYuMTQxMTc2LTMwLjExNzY0NyA2LjAyMzUyOS0zLjAxMTc2NSAxMi4wNDcwNTktOS4wMzUyOTQgMTUuMDU4ODI0LTEyLjA0NzA1OSA1MS4yLTQ1LjE3NjQ3MSA4Ny4zNDExNzYtMTA1LjQxMTc2NSAxMDIuNC0xNzEuNjcwNTg4IDE4LjA3MDU4OC04MS4zMTc2NDcgMC0xNjUuNjQ3MDU5LTUxLjItMjM3LjkyOTQxMi01MS4yLTc1LjI5NDExOC0xMzIuNTE3NjQ3LTEyNi40OTQxMTgtMjIyLjg3MDU4OC0xMzguNTQxMTc2LTk5LjM4ODIzNS0xNS4wNTg4MjQtMTk4Ljc3NjQ3MSAxNS4wNTg4MjQtMjc0LjA3MDU4OCA4MS4zMTc2NDdDMjE5Ljg1ODgyNCAyMDQuOCAxODAuNzA1ODgyIDI4OS4xMjk0MTIgMTgwLjcwNTg4MiAzNzkuNDgyMzUzYzAgNzUuMjk0MTE4IDMwLjExNzY0NyAxNTMuNiA4MS4zMTc2NDcgMjA3LjgxMTc2NSAxMi4wNDcwNTkgMTUuMDU4ODI0IDI3LjEwNTg4MiAyNy4xMDU4ODIgNDIuMTY0NzA2IDM5LjE1Mjk0MSAzLjAxMTc2NSAzLjAxMTc2NSA2LjAyMzUyOSAzLjAxMTc2NSA5LjAzNTI5NCA2LjAyMzUyOSA2LjAyMzUyOSA2LjAyMzUyOSAxNS4wNTg4MjQgMTIuMDQ3MDU5IDIxLjA4MjM1MyAxOC4wNzA1ODggOS4wMzUyOTQgMTIuMDQ3MDU5IDE1LjA1ODgyNCAyNC4wOTQxMTggMjEuMDgyMzUzIDM2LjE0MTE3NiAzLjAxMTc2NSA5LjAzNTI5NCA5LjAzNTI5NCAxOC4wNzA1ODggMTIuMDQ3MDU5IDIxLjA4MjM1MyAzLjAxMTc2NSAwIDE4LjA3MDU4OCAwIDI0LjA5NDExOCAwQzM5Ny41NTI5NDEgNzA3Ljc2NDcwNiA0MDAuNTY0NzA2IDcwNy43NjQ3MDYgNDAzLjU3NjQ3MSA3MDcuNzY0NzA2ek02MTQuNCA4OTcuNTA1ODgybC0yMDcuODExNzY1IDBjLTMzLjEyOTQxMiAwLTU3LjIyMzUyOS0yNy4xMDU4ODItNTcuMjIzNTI5LTU3LjIyMzUyOWwwLTkuMDM1Mjk0YzAtMzMuMTI5NDEyIDI3LjEwNTg4Mi01Ny4yMjM1MjkgNTcuMjIzNTI5LTU3LjIyMzUyOWwyMDcuODExNzY1IDBjMzMuMTI5NDEyIDAgNTcuMjIzNTI5IDI3LjEwNTg4MiA1Ny4yMjM1MjkgNTcuMjIzNTI5bDAgOS4wMzUyOTRDNjc0LjYzNTI5NCA4NzAuNCA2NDcuNTI5NDEyIDg5Ny41MDU4ODIgNjE0LjQgODk3LjUwNTg4MnpNNjE0LjQgODMxLjI0NzA1OWwtMjA0LjggMy4wMTE3NjUgMy4wMTE3NjUgNi4wMjM1MjkgMjAxLjc4ODIzNS0zLjAxMTc2NUw2MTQuNCA4MzEuMjQ3MDU5ek03MzQuODcwNTg4IDQwOS42Yy0xOC4wNzA1ODggMC0zMC4xMTc2NDctMTIuMDQ3MDU5LTMwLjExNzY0Ny0zMC4xMTc2NDdDNzA0Ljc1Mjk0MSAyNzEuMDU4ODI0IDYxMS4zODgyMzUgMTgwLjcwNTg4MiA0OTYuOTQxMTc2IDE4MC43MDU4ODJjLTE4LjA3MDU4OCAwLTMwLjExNzY0Ny0xMi4wNDcwNTktMzAuMTE3NjQ3LTMwLjExNzY0N3MxMi4wNDcwNTktMzAuMTE3NjQ3IDMwLjExNzY0Ny0zMC4xMTc2NDdjMTQ3LjU3NjQ3MSAwIDI2OC4wNDcwNTkgMTE3LjQ1ODgyNCAyNjguMDQ3MDU5IDI2Mi4wMjM1MjlDNzY0Ljk4ODIzNSAzOTcuNTUyOTQxIDc0OS45Mjk0MTIgNDA5LjYgNzM0Ljg3MDU4OCA0MDkuNnoiIGZpbGw9IiM1NmFiZTQiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(359),a=(i=o)&&i.__esModule?i:{default:i},s=n(4);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialog=$('<div class="modal fade" role="dialog" aria-hidden="true" style="z-index: 10000">\n            <div class="modal-dialog modal-lg">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n                            &times;\n                        </button>\n                        <h4 class="modal-title">\n                            配置条件\n                        </h4>\n                    </div>\n                    <div class="modal-body"></div>\n                    <div class="modal-footer">\n                    </div>\n                </div>\n            </div>\n        </div>');var t=this.dialog.find(".modal-body"),n=this.dialog.find(".modal-footer");this.initBody(t,n)}return r(e,[{key:"initBody",value:function(e,t){var n=$("<div></div>"),i=$('<div style="padding-bottom: 10px"><label>条件类型：</label></div>');n.append(i),this.typeSelect=$('<select class="form-control" style="display: inline-block;width: 200px">\n            <option value="script">脚本(不推荐)</option>\n            <option value="config">向导式配置</option>\n        </select>'),i.append(this.typeSelect),e.append(n),this.codeEditorContainer=$("<div></div>"),n.append(this.codeEditorContainer),this.configContainer=$('<div style="position: relative"></div>'),n.append(this.configContainer);var r=this;this.typeSelect.change(function(){var e=$(this).val();"script"===e?(r.configContainer.hide(),r.codeEditorContainer.show()):(r.codeEditorContainer.hide(),r.configContainer.show()),r.data.conditionType=e,window._setDirty()});var o=$('<button type="button" class="btn btn-default">保存</button>');t.append(o),o.click(function(){try{if("script"===r.data.conditionType)r.data.script=r.codeMirror.getValue(),r.data.callback.call(this,r.data),r.dialog.modal("hide"),window._setDirty();else{var e=r.join.toXml();e="<if>"+e+"</if>";var t=window._server+"/ruleflowdesigner/parseJoint";(0,s.ajaxSave)(t,{content:encodeURIComponent(e)},function(t){r.data.lhs=t,r.data.lhsXml=e,r.data.callback.call(this,r.data),r.dialog.modal("hide")}),window._setDirty()}}catch(e){bootbox.alert(e)}})}},{key:"show",value:function(e){this.data=e,this.dialog.modal("show"),this.configContainer.empty();var t=new urule.Context(this.configContainer);this.join=new urule.Join(t),this.join.init(null),this.join.initTopJoin(this.configContainer),this.join.setType("and"),this.typeSelect.val(e.conditionType);var n=this;setTimeout(function(){n.codeEditorContainer.show(),n.codeEditorContainer.empty(),n.codeMirror=(0,a.default)(n.codeEditorContainer[0],{lineNumbers:!0,mode:"if",extraKeys:{"Alt-/":"autocomplete"},gutters:["CodeMirror-linenumbers","CodeMirror-lint-markers"],lint:{getAnnotations:n.buildScriptLintFunction("DecisionNode"),async:!0}}),a.default.commands.autocomplete=function(e){e.showHint({hint:a.default.hint.if})},n.codeMirror.on("change",function(e,t){"."==t.text&&a.default.commands.autocomplete(e)}),"config"===e.conditionType?(n.codeMirror.setValue(""),n.codeEditorContainer.hide(),n.configContainer.show(),e.lhs&&e.lhs.criterion&&n.join.initData(e.lhs.criterion)):(n.codeMirror.setValue(e.script||""),n.configContainer.hide())},500)}},{key:"buildScriptLintFunction",value:function(e){return function(t,n,i,r){if(""!==t){var o=window._server+"/common/scriptValidation";$.ajax({url:o,data:{type:e,content:t},type:"POST",success:function(e){if(e){var t=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;l.from={line:l.line-1},l.to={line:l.line-1}}}catch(e){i=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(i)throw o}}n(r,e)}else n(r,[])},error:function(){alert("语法检查操作失败！")}})}else n(r,[])}}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(312)),o=a(n(507));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"分支"}},{key:"getIcon",value:function(){return'<i class="rf rf-fork" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>"),n=$('<div class="form-group" title="启用后，当前节点下所有子分支将开启子线程运行，对于各个分支计算相互不影响，且各个分支计算耗时较久的逻辑，可大幅提高运行性能。"><label>启用多线程：</label></div>');t.append(n);var i=$('<select class="form-control">\n                <option value="default" title="系统默认取决于“urule.flowForkMultiThread”属性的值">系统默认</option>\n                <option value="yes">是</option>\n                <option value="no">否</option>\n            </select>');n.append(i);var r=this;return i.change(function(){r.multipleThread=$(this).val(),window._setDirty()}),this.multipleThread?i.val(this.multipleThread):i.val("default"),t.append(e.getCommonProperties(this)),t}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(508)),o=a(n(309));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"getSvgIcon",value:function(){return r.default}},{key:"initFromJson",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initFromJson",this).call(this,e),this.multipleThread=e.multipleThread}},{key:"toXML",value:function(){var e=this.toJSON();e.type="ForkNode";var t=this.getNodeName(e.type),n=this.getXMLNodeBaseProps(e),i=this.multipleThread;i||(i="default");var r="<"+t+" "+n+' multiple-thread="'+i+'">';return r+=this.getFromConnectionsXML(),r+="</"+t+">"}}]),t}();t.default=s},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNNzY4IDY5MC41MjhsMC03OC45NzZjMC04Mi4zMzYtNjYuOTc2LTE0OS4zNDQtMTQ5LjM0NC0xNDkuMzQ0LTM1LjI5NiAwLTY0LTI4LjcwNC02NC02NGwwLTY0LjczNmM0OS41MzYtMTcuNjk2IDg1LjM0NC02NC42MDggODUuMzQ0LTEyMC4xNiAwLTcwLjU2LTU3LjQ0LTEyOC0xMjgtMTI4cy0xMjggNTcuNDQtMTI4IDEyOGMwIDU1LjU1MiAzNS44MDggMTAyLjQzMiA4NS4zNDQgMTIwLjA5NmwwIDY0Ljc2OGMwIDM1LjI5Ni0yOC43MDQgNjQtNjQgNjQtODIuMzM2IDAtMTQ5LjM0NCA2Ni45NzYtMTQ5LjM0NCAxNDkuMzQ0bDAgNzguOTc2Yy00OS41MzYgMTcuNjk2LTg1LjM0NCA2NC42MDgtODUuMzQ0IDEyMC4xNiAwIDcwLjU2IDU3LjQ0IDEyOCAxMjggMTI4czEyOC01Ny40NCAxMjgtMTI4YzAtNTUuNTUyLTM1LjgwOC0xMDIuNDMyLTg1LjM0NC0xMjAuMTZsMC03OC45NzZjMC0zNS4yOTYgMjguNzA0LTY0IDY0LTY0IDQxLjc2IDAgNzkuNTItMTcuMzc2IDEwNi42NTYtNDUuMTUyIDI3LjEzNiAyNy43NzYgNjQuODk2IDQ1LjE1MiAxMDYuNjU2IDQ1LjE1MiAzNS4yOTYgMCA2NCAyOC43MDQgNjQgNjRsMCA3OC45NzZjLTQ5LjUzNiAxNy42OTYtODUuMzQ0IDY0LjYwOC04NS4zNDQgMTIwLjE2IDAgNzAuNTYgNTcuNDQgMTI4IDEyOCAxMjhzMTI4LTU3LjQ0IDEyOC0xMjhjMC01NS41NTItMzUuODA4LTEwMi40MzItODUuMzQ0LTEyMC4xNnpNMjk4LjY1NiA4NTMuMzQ0Yy0yMy41NTIgMC00Mi42NTYtMTkuMTY4LTQyLjY1Ni00Mi42NTZzMTkuMTA0LTQyLjY1NiA0Mi42NTYtNDIuNjU2IDQyLjY1NiAxOS4xNjggNDIuNjU2IDQyLjY1Ni0xOS4xMDQgNDIuNjU2LTQyLjY1NiA0Mi42NTZ6TTUxMiAxNzAuNjU2YzIzLjU1MiAwIDQyLjY1NiAxOS4xNjggNDIuNjU2IDQyLjY1NnMtMTkuMTA0IDQyLjY1Ni00Mi42NTYgNDIuNjU2LTQyLjY1Ni0xOS4xNjgtNDIuNjU2LTQyLjY1NiAxOS4xMDQtNDIuNjU2IDQyLjY1Ni00Mi42NTZ6TTcyNS4zNDQgODUzLjM0NGMtMjMuNTUyIDAtNDIuNjU2LTE5LjE2OC00Mi42NTYtNDIuNjU2czE5LjEwNC00Mi42NTYgNDIuNjU2LTQyLjY1NiA0Mi42NTYgMTkuMTY4IDQyLjY1NiA0Mi42NTYtMTkuMTA0IDQyLjY1Ni00Mi42NTYgNDIuNjU2eiIgZmlsbD0iIzg4MTQ3ZiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(312)),o=a(n(510));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"getType",value:function(){return"聚合"}},{key:"getIcon",value:function(){return'<i class="rf rf-join" style="color:#737383"></i>'}},{key:"newNode",value:function(){return new o.default}},{key:"getConfigs",value:function(){return{out:1}}},{key:"getPropertiesProducer",value:function(){var e=this;return function(){var t=$("<div></div>");return t.append(e.getCommonProperties(this)),t}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(511)),o=a(n(309));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"getSvgIcon",value:function(){return r.default}},{key:"toXML",value:function(){var e=this.toJSON();e.type="JoinNode";var t=this.getNodeName(e.type),n="<"+t+" "+this.getXMLNodeBaseProps(e)+">";return n+=this.getFromConnectionsXML(),n+="</"+t+">"}}]),t}();t.default=s},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsNCkBmb250LWZhY2UgeyBmb250LWZhbWlseTogaWZvbnQ7IHNyYzogdXJsKCJodHRwOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTQ0MjM3Mzg5Nl80NzU0NDU1LmVvdD8jaWVmaXgiKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS53b2ZmIikgZm9ybWF0KCJ3b2ZmIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS50dGYiKSBmb3JtYXQoInRydWV0eXBlIiksIHVybCgiaHR0cDovL2F0LmFsaWNkbi5jb20vdC9mb250XzE0NDIzNzM4OTZfNDc1NDQ1NS5zdmcjaWZvbnQiKSBmb3JtYXQoInN2ZyIpOyB9DQoNCl1dPjwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJ0cmFuc2Zvcm0tZ3JvdXAiPjxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xOTUzMTI1LCAwLjE5NTMxMjUpIj48cGF0aCBkPSJNNjgyLjY2NjY2NyA4MTAuNjY2NjY3QzY4Mi42NjY2NjcgOTA0Ljk2IDYwNi4yOTMzMzMgOTgxLjMzMzMzMyA1MTIgOTgxLjMzMzMzMyA0MTcuNzA2NjY3IDk4MS4zMzMzMzMgMzQxLjMzMzMzMyA5MDQuOTYgMzQxLjMzMzMzMyA4MTAuNjY2NjY3IDM0MS4zMzMzMzMgNzMxLjMwNjY2NyAzOTUuNTIgNjY0LjMyIDQ2OS4zMzMzMzMgNjQ1LjU0NjY2NyA0NjkuMzMzMzMzIDYxNy4zODY2NjcgNDY5LjMzMzMzMyA1ODkuNjUzMzMzIDQzOS4wNCA1NDUuMjggNDA4LjMyIDUwMC45MDY2NjcgMzQ3LjMwNjY2NyA0NDAuNzQ2NjY3IDI4Ni4yOTMzMzMgMzgwLjE2IDI1Ny4yOCAzODUuMjggMjI2LjU2IDM4NCAxOTYuNjkzMzMzIDM3Mi40OCAxMDguMzczMzMzIDM0MS4zMzMzMzMgNjIuNzIgMjQyLjM0NjY2NyA5NC43MiAxNTMuNiAxMjggNjUuMjggMjI0Ljg1MzMzMyAxOS42MjY2NjcgMzEzLjYgNTEuNjI2NjY3IDQwMS45MiA4NC4wNTMzMzMgNDQ4IDE4MS43NiA0MTUuNTczMzMzIDI3MC41MDY2NjcgNDA1LjMzMzMzMyAzMDAuMzczMzMzIDM4Ni41NiAzMjUuMTIgMzYyLjY2NjY2NyAzNDMuODkzMzMzIDM4MS4wMTMzMzMgNDAyLjc3MzMzMyA1MTIgNTEyIDUxMiA1MzMuMzMzMzMzIDUxMiA1MTIgNjQyLjk4NjY2NyA0MDIuNzczMzMzIDY2MS4zMzMzMzMgMzQzLjg5MzMzMyA2MzcuNDQgMzI1LjEyIDYxOC42NjY2NjcgMzAwLjM3MzMzMyA2MDguNDI2NjY3IDI3MC41MDY2NjcgNTc2IDE4MS43NiA2MjIuMDggODQuMDUzMzMzIDcxMC40IDUxLjYyNjY2NyA3OTkuMTQ2NjY3IDE5LjYyNjY2NyA4OTYgNjUuMjggOTI5LjI4IDE1My42IDk2MS4yOCAyNDIuMzQ2NjY3IDkxNS42MjY2NjcgMzQxLjMzMzMzMyA4MjcuMzA2NjY3IDM3Mi40OCA3OTcuNDQgMzg0IDc2Ni43MiAzODUuMjggNzM3LjcwNjY2NyAzODAuMTYgNjc2LjY5MzMzMyA0NDAuNzQ2NjY3IDYxNS42OCA1MDAuOTA2NjY3IDU4NC45NiA1NDUuMjggNTU0LjY2NjY2NyA1ODkuNjUzMzMzIDU1NC42NjY2NjcgNjE3LjM4NjY2NyA1NTQuNjY2NjY3IDY0NS41NDY2NjcgNjI4LjQ4IDY2NC4zMiA2ODIuNjY2NjY3IDczMS4zMDY2NjcgNjgyLjY2NjY2NyA4MTAuNjY2NjY3TTUxMiA3MjUuMzMzMzMzQzQ2NS4wNjY2NjcgNzI1LjMzMzMzMyA0MjYuNjY2NjY3IDc2My43MzMzMzMgNDI2LjY2NjY2NyA4MTAuNjY2NjY3IDQyNi42NjY2NjcgODU3LjYgNDY1LjA2NjY2NyA4OTYgNTEyIDg5NiA1NTguOTMzMzMzIDg5NiA1OTcuMzMzMzMzIDg1Ny42IDU5Ny4zMzMzMzMgODEwLjY2NjY2NyA1OTcuMzMzMzMzIDc2My43MzMzMzMgNTU4LjkzMzMzMyA3MjUuMzMzMzMzIDUxMiA3MjUuMzMzMzMzTTI4NC4xNiAxMzEuODRDMjQwLjIxMzMzMyAxMTYuMDUzMzMzIDE5MiAxMzguNjY2NjY3IDE3NC45MzMzMzMgMTgzLjA0IDE1OC43MiAyMjcuNDEzMzMzIDE4MS43NiAyNzYuMDUzMzMzIDIyNi4xMzMzMzMgMjkyLjI2NjY2NyAyNzAuMDggMzA4LjQ4IDMyMCAyODUuNDQgMzM1LjM2IDI0MS40OTMzMzMgMzUxLjU3MzMzMyAxOTcuMTIgMzI4LjUzMzMzMyAxNDguMDUzMzMzIDI4NC4xNiAxMzEuODRNNzM5Ljg0IDEzMS44NEM2OTUuNDY2NjY3IDE0OC4wNTMzMzMgNjcyLjQyNjY2NyAxOTcuMTIgNjg4LjY0IDI0MS40OTMzMzMgNzA0IDI4NS40NCA3NTMuOTIgMzA4LjQ4IDc5Ny44NjY2NjcgMjkyLjI2NjY2NyA4NDIuMjQgMjc2LjA1MzMzMyA4NjUuMjggMjI3LjQxMzMzMyA4NDkuMDY2NjY3IDE4My4wNCA4MzIgMTM4LjY2NjY2NyA3ODMuNzg2NjY3IDExNi4wNTMzMzMgNzM5Ljg0IDEzMS44NFoiIGZpbGw9IiM4ODE0N2YiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="}]);